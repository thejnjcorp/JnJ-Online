/*! For license information please see main.3920195d.js.LICENSE.txt */
(()=>{var e={219:(e,t,n)=>{"use strict";var r=n(763),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var o=u(n);d&&(o=o.concat(d(n)));for(var s=l(t),g=l(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!g||!g[y])&&(!s||!s[y])){var v=h(n,y);try{c(t,y,v)}catch(b){}}}}return t}},364:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case a:case s:case o:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case g:case l:return e;default:return t}}case i:return t}}}function E(e){return _(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=g,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=f,t.isAsyncMode=function(e){return E(e)||_(e)===u},t.isConcurrentMode=E,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===h},t.isFragment=function(e){return _(e)===a},t.isLazy=function(e){return _(e)===m},t.isMemo=function(e){return _(e)===g},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===s},t.isStrictMode=function(e){return _(e)===o},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===d||e===s||e===o||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===v||e.$$typeof===b||e.$$typeof===w||e.$$typeof===y)},t.typeOf=_},763:(e,t,n)=>{"use strict";e.exports=n(364)},995:function(e,t,n){e.exports=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){e.exports=n(2)()},function(t,n){t.exports=e},function(e,t,n){"use strict";var r=n(3);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),a=n(0),o=n.n(a),s=function(e){return 0!==e};function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(o,e);var t,n,r,a=h(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),m(p(t=a.call(this,e)),"continueOpenCollapsible",(function(){var e=p(t).innerRef;t.setState({height:e.scrollHeight,transition:"height ".concat(t.props.transitionTime,"ms ").concat(t.props.easing),isClosed:!1,hasBeenOpened:!0,inTransition:s(e.scrollHeight),shouldOpenOnNextCycle:!1})})),m(p(t),"handleTriggerClick",(function(e){t.props.triggerDisabled||t.state.inTransition||(e.preventDefault(),t.props.handleTriggerClick?t.props.handleTriggerClick(t.props.accordionPosition):!0===t.state.isClosed?(t.openCollapsible(),t.props.onOpening(),t.props.onTriggerOpening()):(t.closeCollapsible(),t.props.onClosing(),t.props.onTriggerClosing()))})),m(p(t),"handleTransitionEnd",(function(e){e.target===t.innerRef&&(t.state.isClosed?(t.setState({inTransition:!1}),t.props.onClose()):(t.setState({height:"auto",overflow:t.props.overflowWhenOpen,inTransition:!1}),t.props.onOpen()))})),m(p(t),"setInnerRef",(function(e){return t.innerRef=e})),t.timeout=void 0,t.contentId=e.contentElementId||"collapsible-content-".concat(Date.now()),t.triggerId=e.triggerElementProps.id||"collapsible-trigger-".concat(Date.now()),e.open?t.state={isClosed:!1,shouldSwitchAutoOnNextCycle:!1,height:"auto",transition:"none",hasBeenOpened:!0,overflow:e.overflowWhenOpen,inTransition:!1}:t.state={isClosed:!0,shouldSwitchAutoOnNextCycle:!1,height:0,transition:"height ".concat(e.transitionTime,"ms ").concat(e.easing),hasBeenOpened:!1,overflow:"hidden",inTransition:!1},t}return t=o,(n=[{key:"componentDidUpdate",value:function(e,t){var n=this;this.state.shouldOpenOnNextCycle&&this.continueOpenCollapsible(),"auto"!==t.height&&0!==t.height||!0!==this.state.shouldSwitchAutoOnNextCycle||(window.clearTimeout(this.timeout),this.timeout=window.setTimeout((function(){n.setState({height:0,overflow:"hidden",isClosed:!0,shouldSwitchAutoOnNextCycle:!1})}),50)),e.open!==this.props.open&&(!0===this.props.open?(this.openCollapsible(),this.props.onOpening()):(this.closeCollapsible(),this.props.onClosing()))}},{key:"componentWillUnmount",value:function(){window.clearTimeout(this.timeout)}},{key:"closeCollapsible",value:function(){var e=this.innerRef;this.setState({shouldSwitchAutoOnNextCycle:!0,height:e.scrollHeight,transition:"height ".concat(this.props.transitionCloseTime?this.props.transitionCloseTime:this.props.transitionTime,"ms ").concat(this.props.easing),inTransition:s(e.scrollHeight)})}},{key:"openCollapsible",value:function(){this.setState({inTransition:s(this.innerRef.scrollHeight),shouldOpenOnNextCycle:!0})}},{key:"renderNonClickableTriggerElement",value:function(){var e=this.props,t=e.triggerSibling,n=e.classParentString;if(!t)return null;switch(c(t)){case"string":return i.a.createElement("span",{className:"".concat(n,"__trigger-sibling")},t);case"function":return t();case"object":return t;default:return null}}},{key:"render",value:function(){var e=this,t={height:this.state.height,WebkitTransition:this.state.transition,msTransition:this.state.transition,transition:this.state.transition,overflow:this.state.overflow},n=this.state.isClosed?"is-closed":"is-open",r=this.props.triggerDisabled?"is-disabled":"",a=!1===this.state.isClosed&&void 0!==this.props.triggerWhenOpen?this.props.triggerWhenOpen:this.props.trigger,o=this.props.contentContainerTagName,s=this.props.triggerTagName,c=this.props.lazyRender&&!this.state.hasBeenOpened&&this.state.isClosed&&!this.state.inTransition?null:this.props.children,u=this.props,d=u.classParentString,h=u.contentOuterClassName,f=u.contentInnerClassName,p="".concat(d,"__trigger ").concat(n," ").concat(r," ").concat(this.state.isClosed?this.props.triggerClassName:this.props.triggerOpenedClassName),g="".concat(d," ").concat(this.state.isClosed?this.props.className:this.props.openedClassName),m="".concat(d,"__contentOuter ").concat(h),y="".concat(d,"__contentInner ").concat(f);return i.a.createElement(o,l({className:g.trim()},this.props.containerElementProps),i.a.createElement(s,l({id:this.triggerId,className:p.trim(),onClick:this.handleTriggerClick,style:this.props.triggerStyle&&this.props.triggerStyle,onKeyPress:function(t){var n=t.key;(" "===n&&"button"!==e.props.triggerTagName.toLowerCase()||"Enter"===n)&&e.handleTriggerClick(t)},tabIndex:this.props.tabIndex&&this.props.tabIndex,"aria-expanded":!this.state.isClosed,"aria-disabled":this.props.triggerDisabled,"aria-controls":this.contentId,role:"button"},this.props.triggerElementProps),a),this.renderNonClickableTriggerElement(),i.a.createElement("div",{id:this.contentId,className:m.trim(),style:t,onTransitionEnd:this.handleTransitionEnd,ref:this.setInnerRef,hidden:this.props.contentHiddenWhenClosed&&this.state.isClosed&&!this.state.inTransition,role:"region","aria-labelledby":this.triggerId},i.a.createElement("div",{className:y.trim()},c)))}}])&&u(t.prototype,n),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(r.Component);y.propTypes={transitionTime:o.a.number,transitionCloseTime:o.a.number,triggerTagName:o.a.string,easing:o.a.string,open:o.a.bool,containerElementProps:o.a.object,triggerElementProps:o.a.object,contentElementId:o.a.string,classParentString:o.a.string,className:o.a.string,openedClassName:o.a.string,triggerStyle:o.a.object,triggerClassName:o.a.string,triggerOpenedClassName:o.a.string,contentOuterClassName:o.a.string,contentInnerClassName:o.a.string,accordionPosition:o.a.oneOfType([o.a.string,o.a.number]),handleTriggerClick:o.a.func,onOpen:o.a.func,onClose:o.a.func,onOpening:o.a.func,onClosing:o.a.func,onTriggerOpening:o.a.func,onTriggerClosing:o.a.func,trigger:o.a.oneOfType([o.a.string,o.a.element]),triggerWhenOpen:o.a.oneOfType([o.a.string,o.a.element]),triggerDisabled:o.a.bool,lazyRender:o.a.bool,overflowWhenOpen:o.a.oneOf(["hidden","visible","auto","scroll","inherit","initial","unset"]),contentHiddenWhenClosed:o.a.bool,triggerSibling:o.a.oneOfType([o.a.string,o.a.element,o.a.func]),tabIndex:o.a.number,contentContainerTagName:o.a.string,children:o.a.oneOfType([o.a.string,o.a.element])},y.defaultProps={transitionTime:400,transitionCloseTime:null,triggerTagName:"span",easing:"linear",open:!1,classParentString:"Collapsible",triggerDisabled:!1,lazyRender:!1,overflowWhenOpen:"hidden",contentHiddenWhenClosed:!1,openedClassName:"",triggerStyle:null,triggerClassName:"",triggerOpenedClassName:"",contentOuterClassName:"",contentInnerClassName:"",className:"",triggerSibling:null,onOpen:function(){},onClose:function(){},onOpening:function(){},onClosing:function(){},onTriggerOpening:function(){},onTriggerClosing:function(){},tabIndex:null,contentContainerTagName:"div",triggerElementProps:{}},t.default=y}])}(n(43))},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),E=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),I=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,j=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function B(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function V(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case E:return"Portal";case T:return"Profiler";case S:return"StrictMode";case k:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function $(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function z(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=z(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){J(e,t);var n=z(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,z(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+z(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:z(n)}}function ae(e,t){var n=z(t.value),r=z(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Ce=null,Se=null;function Te(e){if(e=bi(e)){if("function"!==typeof Ee)throw Error(a(280));var t=e.stateNode;t&&(t=_i(t),Ee(e.stateNode,e.type,t))}}function xe(e){Ce?Se?Se.push(e):Se=[e]:Ce=e}function Ie(){if(Ce){var e=Ce,t=Se;if(Se=Ce=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ae(e,t){return e(t)}function ke(){}var Pe=!1;function Ne(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ae(e,t,n)}finally{Pe=!1,(null!==Ce||null!==Se)&&(ke(),Ie())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){Re=!1}function Le(e,t,n,r,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,je=null,Fe=!1,Ue=null,Be={onError:function(e){Me=!0,je=e}};function Ve(e,t,n,r,i,a,o,s,l){Me=!1,je=null,Le.apply(Be,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function ze(e){if(He(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ze(i),e;if(o===r)return ze(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=dt(s):0!==(a&=o)&&(r=dt(a))}else 0!==(o=n&~i)?r=dt(o):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,Et,Ct,St,Tt,xt=!1,It=[],At=null,kt=null,Pt=null,Nt=new Map,Dt=new Map,Rt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":kt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=vi(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void Tt(e.priority,(function(){Ct(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Bt(){xt=!1,null!==At&&Ft(At)&&(At=null),null!==kt&&Ft(kt)&&(kt=null),null!==Pt&&Ft(Pt)&&(Pt=null),Nt.forEach(Ut),Dt.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,xt||(xt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Ht(e){function t(t){return Vt(t,e)}if(0<It.length){Vt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&Vt(At,e),null!==kt&&Vt(kt,e),null!==Pt&&Vt(Pt,e),Nt.forEach(t),Dt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)jt(n),null===n.blockedOn&&Rt.shift()}var $t=w.ReactCurrentBatchConfig,zt=!0;function Wt(e,t,n,r){var i=bt,a=$t.transition;$t.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,$t.transition=a}}function qt(e,t,n,r){var i=bt,a=$t.transition;$t.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,$t.transition=a}}function Gt(e,t,n,r){if(zt){var i=Qt(e,t,n,r);if(null===i)zr(e,t,r,Kt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return At=Mt(At,e,t,n,r,i),!0;case"dragenter":return kt=Mt(kt,e,t,n,r,i),!0;case"mouseover":return Pt=Mt(Pt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Nt.set(a,Mt(Nt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,Mt(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&_t(a),null===(a=Qt(e,t,n,r))&&zr(e,t,r,Kt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else zr(e,t,r,null,n)}}var Kt=null;function Qt(e,t,n,r){if(Kt=null,null!==(e=vi(e=_e(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=$e(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=j({},cn,{view:0,detail:0}),hn=an(dn),fn=j({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(fn),gn=an(j({},fn,{dataTransfer:0})),mn=an(j({},dn,{relatedTarget:0})),yn=an(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(vn),wn=an(j({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function Tn(){return Sn}var xn=j({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=an(xn),An=an(j({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),kn=an(j({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Pn=an(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=j({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(Nn),Rn=[9,13,27,32],On=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Mn=u&&"TextEvent"in window&&!Ln,jn=u&&(!On||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Un=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var $n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!$n[e.type]:"textarea"===t}function Wn(e,t,n,r){xe(r),0<(t=qr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Gn=null;function Kn(e){Fr(e,0)}function Qn(e){if(G(wi(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Gn=qn=null)}function nr(e){if("value"===e.propertyName&&Qn(Gn)){var t=[];Wn(t,Gn,e,_e(e)),Ne(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Gn)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=ur(n,a);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==K(r)||("selectionStart"in(r=mr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=qr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Cr={},Sr={};function Tr(e){if(Cr[e])return Cr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Cr[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var xr=Tr("animationend"),Ir=Tr("animationiteration"),Ar=Tr("animationstart"),kr=Tr("transitionend"),Pr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Pr.set(e,t),l(t,[e])}for(var Rr=0;Rr<Nr.length;Rr++){var Or=Nr[Rr];Dr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Dr(xr,"onAnimationEnd"),Dr(Ir,"onAnimationIteration"),Dr(Ar,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(kr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,l,c){if(Ve.apply(this,arguments),Me){if(!Me)throw Error(a(198));var u=je;Me=!1,je=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;jr(i,s,c),a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;jr(i,s,c),a=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||($r(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),$r(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Br("selectionchange",!1,t))}}function $r(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=qt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function zr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=vi(s)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}s=s.parentNode}}r=r.return}Ne((function(){var r=a,i=_e(n),o=[];e:{var s=Pr.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=In;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=kn;break;case xr:case Ir:case Ar:l=yn;break;case kr:l=Pn;break;case"scroll":l=hn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=An}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==h&&(null!=(g=De(p,h))&&u.push(Wr(p,g,f)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),o.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(d=He(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=An,g="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:wi(l),f=null==c?s:wi(c),(s=new u(g,p+"leave",l,n,i)).target=d,s.relatedTarget=f,g=null,vi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,g=u),d=g,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,g=h;g;g=Gr(g))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)h=Gr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&Kr(o,s,l,u,!1),null!==c&&null!==d&&Kr(o,d,c,u,!0)}if("select"===(l=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Yn;else if(zn(s))if(Jn)m=or;else{m=ir;var y=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?wi(r):window,e){case"focusin":(zn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,vr=null);break;case"focusout":vr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(o,n,i)}var v;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hn&&(v=en()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,Hn=!0)),0<(y=qr(r,b)).length&&(b=new wn(b,e,null,n,i),o.push({event:b,listeners:y}),v?b.data=v:null!==(v=Vn(n))&&(b.data=v))),(v=Mn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!On&&Bn(e,t)?(e=en(),Zt=Xt=Jt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}Fr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=De(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=De(n,a))&&o.unshift(Wr(n,l,s)):i||null!=(l=De(n,a))&&o.push(Wr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Yr,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ht(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,gi="__reactEvents$"+di,mi="__reactListeners$"+di,yi="__reactHandles$"+di;function vi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function _i(e){return e[fi]||null}var Ei=[],Ci=-1;function Si(e){return{current:e}}function Ti(e){0>Ci||(e.current=Ei[Ci],Ei[Ci]=null,Ci--)}function xi(e,t){Ci++,Ei[Ci]=e.current,e.current=t}var Ii={},Ai=Si(Ii),ki=Si(!1),Pi=Ii;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ti(ki),Ti(Ai)}function Oi(e,t,n){if(Ai.current!==Ii)throw Error(a(168));xi(Ai,t),xi(ki,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,$(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Pi=Ai.current,xi(Ai,e),xi(ki,ki.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Ti(ki),Ti(Ai),xi(Ai,e)):Ti(ki),xi(ki,n)}var Fi=null,Ui=!1,Bi=!1;function Vi(e){null===Fi?Fi=[e]:Fi.push(e)}function Hi(){if(!Bi&&null!==Fi){Bi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,Hi),i}finally{bt=t,Bi=!1}}return null}var $i=[],zi=0,Wi=null,qi=0,Gi=[],Ki=0,Qi=null,Yi=1,Ji="";function Xi(e,t){$i[zi++]=qi,$i[zi++]=Wi,Wi=e,qi=t}function Zi(e,t,n){Gi[Ki++]=Yi,Gi[Ki++]=Ji,Gi[Ki++]=Qi,Qi=e;var r=Yi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else Yi=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ta(e){for(;e===Wi;)Wi=$i[--zi],$i[zi]=null,qi=$i[--zi],$i[zi]=null;for(;e===Qi;)Qi=Gi[--Ki],Gi[Ki]=null,Ji=Gi[--Ki],Gi[Ki]=null,Yi=Gi[--Ki],Gi[Ki]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Yi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(la(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!ia)return ua(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function fa(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var ga=w.ReactCurrentBatchConfig;function ma(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ya(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function va(e){return(0,e._init)(e._payload)}function ba(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===C?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&va(a)===t.type)?((r=i(t,n.props)).ref=ma(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=ma(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=ma(e,null,t),n.return=e,n;case E:return(t=Fc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;ya(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case E:return n.key===i?u(e,t,n,r):null;case D:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);ya(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);ya(t,r)}return null}function g(i,a,s,l){for(var c=null,u=null,d=a,g=a=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var y=f(i,d,s[g],l);if(null===y){null===d&&(d=m);break}e&&d&&null===y.alternate&&t(i,d),a=o(y,a,g),null===u?c=y:u.sibling=y,u=y,d=m}if(g===s.length)return n(i,d),ia&&Xi(i,g),c;if(null===d){for(;g<s.length;g++)null!==(d=h(i,s[g],l))&&(a=o(d,a,g),null===u?c=d:u.sibling=d,u=d);return ia&&Xi(i,g),c}for(d=r(i,d);g<s.length;g++)null!==(m=p(d,i,g,s[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),a=o(m,a,g),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(i,e)})),ia&&Xi(i,g),c}function m(i,s,l,c){var u=L(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,g=s,m=s=0,y=null,v=l.next();null!==g&&!v.done;m++,v=l.next()){g.index>m?(y=g,g=null):y=g.sibling;var b=f(i,g,v.value,c);if(null===b){null===g&&(g=y);break}e&&g&&null===b.alternate&&t(i,g),s=o(b,s,m),null===d?u=b:d.sibling=b,d=b,g=y}if(v.done)return n(i,g),ia&&Xi(i,m),u;if(null===g){for(;!v.done;m++,v=l.next())null!==(v=h(i,v.value,c))&&(s=o(v,s,m),null===d?u=v:d.sibling=v,d=v);return ia&&Xi(i,m),u}for(g=r(i,g);!v.done;m++,v=l.next())null!==(v=p(g,i,m,v.value,c))&&(e&&null!==v.alternate&&g.delete(null===v.key?m:v.key),s=o(v,s,m),null===d?u=v:d.sibling=v,d=v);return e&&g.forEach((function(e){return t(i,e)})),ia&&Xi(i,m),u}return function e(r,a,o,l){if("object"===typeof o&&null!==o&&o.type===C&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var c=o.key,u=a;null!==u;){if(u.key===c){if((c=o.type)===C){if(7===u.tag){n(r,u.sibling),(a=i(u,o.props.children)).return=r,r=a;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&va(c)===u.type){n(r,u.sibling),(a=i(u,o.props)).ref=ma(r,u,o),a.return=r,r=a;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===C?((a=Lc(o.props.children,r.mode,l,o.key)).return=r,r=a):((l=Oc(o.type,o.key,o.props,null,r.mode,l)).ref=ma(r,a,o),l.return=r,r=l)}return s(r);case E:e:{for(u=o.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(o,r.mode,l)).return=r,r=a}return s(r);case D:return e(r,a,(u=o._init)(o._payload),l)}if(te(o))return g(r,a,o,l);if(L(o))return m(r,a,o,l);ya(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jc(o,r.mode,l)).return=r,r=a),s(r)):n(r,a)}}var wa=ba(!0),_a=ba(!1),Ea=Si(null),Ca=null,Sa=null,Ta=null;function xa(){Ta=Sa=Ca=null}function Ia(e){var t=Ea.current;Ti(Ea),e._currentValue=t}function Aa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ka(e,t){Ca=e,Ta=Sa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Pa(e){var t=e._currentValue;if(Ta!==e)if(e={context:e,memoizedValue:t,next:null},null===Sa){if(null===Ca)throw Error(a(308));Sa=e,Ca.dependencies={lanes:0,firstContext:e}}else Sa=Sa.next=e;return t}var Na=null;function Da(e){null===Na?Na=[e]:Na.push(e)}function Ra(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Da(t)):(n.next=i.next,i.next=n),t.interleaved=n,Oa(e,r)}function Oa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var La=!1;function Ma(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ja(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ua(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Al)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Oa(e,n)}return null===(i=r.interleaved)?(t.next=t,Da(r)):(t.next=i.next,i.next=t),r.interleaved=t,Oa(e,n)}function Ba(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Va(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ha(e,t,n,r){var i=e.updateQueue;La=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?a=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(o=0,u=c=l=null,s=a;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,g=s;switch(h=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=g.payload)?p.call(f,d,h):p)||void 0===h)break e;d=j({},d,h);break e;case 2:La=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ml|=o,e.lanes=o,e.memoizedState=d}}function $a(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var za={},Wa=Si(za),qa=Si(za),Ga=Si(za);function Ka(e){if(e===za)throw Error(a(174));return e}function Qa(e,t){switch(xi(Ga,t),xi(qa,e),xi(Wa,za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Wa),xi(Wa,t)}function Ya(){Ti(Wa),Ti(qa),Ti(Ga)}function Ja(e){Ka(Ga.current);var t=Ka(Wa.current),n=le(t,e.type);t!==n&&(xi(qa,e),xi(Wa,n))}function Xa(e){qa.current===e&&(Ti(Wa),Ti(qa))}var Za=Si(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=w.ReactCurrentDispatcher,io=w.ReactCurrentBatchConfig,ao=0,oo=null,so=null,lo=null,co=!1,uo=!1,ho=0,fo=0;function po(){throw Error(a(321))}function go(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function mo(e,t,n,r,i,o){if(ao=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Zo:es,e=n(r,i),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(a(301));o+=1,lo=so=null,t.updateQueue=null,ro.current=ts,e=n(r,i)}while(uo)}if(ro.current=Xo,t=null!==so&&null!==so.next,ao=0,lo=so=oo=null,co=!1,t)throw Error(a(300));return e}function yo(){var e=0!==ho;return ho=0,e}function vo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function bo(){if(null===so){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,so=e;else{if(null===e)throw Error(a(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function wo(e,t){return"function"===typeof t?t(e):t}function _o(e){var t=bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=so,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=s=null,c=null,u=o;do{var d=u.lane;if((ao&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,oo.lanes|=d,Ml|=d}u=u.next}while(null!==u&&u!==o);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,Ml|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Eo(e){var t=bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Co(){}function So(e,t){var n=oo,r=bo(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,Mo(Io.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,No(9,xo.bind(null,n,r,i,t),void 0,null),null===kl)throw Error(a(349));0!==(30&ao)||To(n,t,i)}return i}function To(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function xo(e,t,n,r){t.value=n,t.getSnapshot=r,Ao(t)&&ko(e)}function Io(e,t,n){return n((function(){Ao(t)&&ko(e)}))}function Ao(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function ko(e){var t=Oa(e,1);null!==t&&nc(t,e,1,-1)}function Po(e){var t=vo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Ko.bind(null,oo,e),[t.memoizedState,e]}function No(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Do(){return bo().memoizedState}function Ro(e,t,n,r){var i=vo();oo.flags|=e,i.memoizedState=No(1|t,n,void 0,void 0===r?null:r)}function Oo(e,t,n,r){var i=bo();r=void 0===r?null:r;var a=void 0;if(null!==so){var o=so.memoizedState;if(a=o.destroy,null!==r&&go(r,o.deps))return void(i.memoizedState=No(t,n,a,r))}oo.flags|=e,i.memoizedState=No(1|t,n,a,r)}function Lo(e,t){return Ro(8390656,8,e,t)}function Mo(e,t){return Oo(2048,8,e,t)}function jo(e,t){return Oo(4,2,e,t)}function Fo(e,t){return Oo(4,4,e,t)}function Uo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oo(4,4,Uo.bind(null,t,e),n)}function Vo(){}function Ho(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&go(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $o(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&go(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function zo(e,t,n){return 0===(21&ao)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=gt(),oo.lanes|=n,Ml|=n,e.baseState=!0),t)}function Wo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{bt=n,io.transition=r}}function qo(){return bo().memoizedState}function Go(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qo(e))Yo(t,n);else if(null!==(n=Ra(e,t,n,r))){nc(n,e,r,ec()),Jo(n,t,r)}}function Ko(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qo(e))Yo(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var l=t.interleaved;return null===l?(i.next=i,Da(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ra(e,t,i,r))&&(nc(n,e,r,i=ec()),Jo(n,t,r))}}function Qo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Yo(e,t){uo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Xo={readContext:Pa,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Zo={readContext:Pa,useCallback:function(e,t){return vo().memoizedState=[e,void 0===t?null:t],e},useContext:Pa,useEffect:Lo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ro(4194308,4,Uo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ro(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ro(4,2,e,t)},useMemo:function(e,t){var n=vo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Go.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vo().memoizedState=e},useState:Po,useDebugValue:Vo,useDeferredValue:function(e){return vo().memoizedState=e},useTransition:function(){var e=Po(!1),t=e[0];return e=Wo.bind(null,e[1]),vo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,i=vo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===kl)throw Error(a(349));0!==(30&ao)||To(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Lo(Io.bind(null,r,o,e),[e]),r.flags|=2048,No(9,xo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=vo(),t=kl.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Pa,useCallback:Ho,useContext:Pa,useEffect:Mo,useImperativeHandle:Bo,useInsertionEffect:jo,useLayoutEffect:Fo,useMemo:$o,useReducer:_o,useRef:Do,useState:function(){return _o(wo)},useDebugValue:Vo,useDeferredValue:function(e){return zo(bo(),so.memoizedState,e)},useTransition:function(){return[_o(wo)[0],bo().memoizedState]},useMutableSource:Co,useSyncExternalStore:So,useId:qo,unstable_isNewReconciler:!1},ts={readContext:Pa,useCallback:Ho,useContext:Pa,useEffect:Mo,useImperativeHandle:Bo,useInsertionEffect:jo,useLayoutEffect:Fo,useMemo:$o,useReducer:Eo,useRef:Do,useState:function(){return Eo(wo)},useDebugValue:Vo,useDeferredValue:function(e){var t=bo();return null===so?t.memoizedState=e:zo(t,so.memoizedState,e)},useTransition:function(){return[Eo(wo)[0],bo().memoizedState]},useMutableSource:Co,useSyncExternalStore:So,useId:qo,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var is={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Fa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ua(e,a,i))&&(nc(t,e,i,r),Ba(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Fa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ua(e,a,i))&&(nc(t,e,i,r),Ba(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Fa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ua(e,i,r))&&(nc(t,e,r,n),Ba(t,e,r))}};function as(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,a))}function os(e,t,n){var r=!1,i=Ii,a=t.contextType;return"object"===typeof a&&null!==a?a=Pa(a):(i=Di(t)?Pi:Ai.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Ii),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ma(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Pa(a):(a=Di(t)?Pi:Ai.current,i.context=Ni(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(rs(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&is.enqueueReplaceState(i,i.state,null),Ha(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=Fa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zl||(zl=!0,Wl=r),ds(0,t)},n}function ps(e,t,n){(n=Fa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fa(-1,1)).tag=2,Ua(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var vs=w.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?_a(t,null,n,r):wa(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var a=t.ref;return ka(t,i),r=mo(e,t,n,r,a,i),n=yo(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zs(e,t,i))}function Es(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Cs(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return zs(e,t,i)}return t.flags|=1,(e=Rc(a,r)).ref=t.ref,e.return=t,t.child=e}function Cs(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,zs(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return xs(e,t,n,r,i)}function Ss(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xi(Rl,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xi(Rl,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,xi(Rl,Dl),Dl|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xi(Rl,Dl),Dl|=r;return ws(e,t,i,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xs(e,t,n,r,i){var a=Di(n)?Pi:Ai.current;return a=Ni(t,a),ka(t,i),n=mo(e,t,n,r,a,i),r=yo(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zs(e,t,i))}function Is(e,t,n,r,i){if(Di(n)){var a=!0;Mi(t)}else a=!1;if(ka(t,i),null===t.stateNode)$s(e,t),os(t,n,r),ls(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Pa(c):c=Ni(t,c=Di(n)?Pi:Ai.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==c)&&ss(t,o,r,c),La=!1;var h=t.memoizedState;o.state=h,Ha(t,r,o,i),l=t.memoizedState,s!==r||h!==l||ki.current||La?("function"===typeof u&&(rs(t,n,u,r),l=t.memoizedState),(s=La||as(t,n,s,r,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ja(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),o.props=c,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Pa(l):l=Ni(t,l=Di(n)?Pi:Ai.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==l)&&ss(t,o,r,l),La=!1,h=t.memoizedState,o.state=h,Ha(t,r,o,i);var p=t.memoizedState;s!==d||h!==p||ki.current||La?("function"===typeof f&&(rs(t,n,f,r),p=t.memoizedState),(c=La||as(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return As(e,t,n,r,a,i)}function As(e,t,n,r,i,a){Ts(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),zs(e,t,a);r=t.stateNode,vs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=wa(t,e.child,null,a),t.child=wa(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function ks(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),Qa(e,t.containerInfo)}function Ps(e,t,n,r,i){return fa(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Ns,Ds,Rs,Os,Ls={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,o=Za.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),xi(Za,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Mc(l,i,0,null),e=Lc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=Ls,e):Fs(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=us(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&wa(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Ls,o);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Us(e,t,s,r=us(o=Error(a(419)),r,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(r=kl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Oa(e,i),nc(r,e,i,-1))}return gc(),Us(e,t,s,r=us(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Ki++]=Yi,Gi[Ki++]=Ji,Gi[Ki++]=Qi,Yi=e.id,Ji=e.overflow,Qi=t),t=Fs(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(s){s=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Rc(r,s):(s=Lc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Ms(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Rc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&pa(r),wa(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Aa(e.return,t,n)}function Vs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Hs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=Za.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xi(Za,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vs(t,!0,n,null,a);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $s(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(t),null;case 1:case 17:return Di(t.type)&&Ri(),qs(t),null;case 3:return r=t.stateNode,Ya(),Ti(ki),Ti(Ai),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Ds(e,t),qs(t),null;case 5:Xa(t);var i=Ka(Ga.current);if(n=t.type,null!==e&&null!=t.stateNode)Rs(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return qs(t),null}if(e=Ka(Wa.current),da(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var l in ve(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":q(r),Z(r,o,!0);break;case"textarea":q(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Ns(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ve(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?me(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Ur("scroll",e):null!=u&&b(e,o,u,l))}switch(n){case"input":q(e),Z(e,r,!1);break;case"textarea":q(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+z(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qs(t),null;case 6:if(e&&null!=t.stateNode)Os(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ka(Ga.current),Ka(Wa.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return qs(t),null;case 13:if(Ti(Za),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),fa(),t.flags|=98560,o=!1;else if(o=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qs(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Za.current)?0===Ol&&(Ol=3):gc())),null!==t.updateQueue&&(t.flags|=4),qs(t),null);case 4:return Ya(),Ds(e,t),null===e&&Hr(t.stateNode.containerInfo),qs(t),null;case 10:return Ia(t.type._context),qs(t),null;case 19:if(Ti(Za),null===(o=t.memoizedState))return qs(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ws(o,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Ws(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xi(Za,1&Za.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Hl&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ia)return qs(t),null}else 2*Je()-o.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=Za.current,xi(Za,r?1&n|2:1&n),t):(qs(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(qs(t),6&t.subtreeFlags&&(t.flags|=8192)):qs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ks(e,t){switch(ta(t),t.tag){case 1:return Di(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ya(),Ti(ki),Ti(Ai),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xa(t),null;case 13:if(Ti(Za),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(Za),null;case 4:return Ya(),null;case 10:return Ia(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ns=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(){},Rs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ka(Wa.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Os=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qs=!1,Ys=!1,Js="function"===typeof WeakSet?WeakSet:Set,Xs=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&el(t,n,a)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[gi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ys||Zs(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Ht(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&el(n,t,o),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Ys&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Sc(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,hl(e,t,n),Ys=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(a(160));fl(o,s,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Sc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(m){Sc(e,e.return,m)}try{nl(5,e,e.return)}catch(m){Sc(e,e.return,m)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Sc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&J(i,o),be(l,s);var u=be(l,o);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?me(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(m){Sc(e,e.return,m)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Sc(e,e.return,m)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(m){Sc(e,e.return,m)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Vl=Je())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(u=Ys)||d,gl(t,e),Ys=u):gl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Xs=e,d=e.child;null!==d;){for(h=Xs=d;null!==Xs;){switch(p=(f=Xs).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zs(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Sc(r,n,m)}}break;case 5:Zs(f,f.return);break;case 22:if(null!==f.memoizedState){_l(h);continue}}null!==p?(p.return=f,Xs=p):_l(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",s))}catch(m){Sc(e,e.return,m)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){Sc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),yl(e),4&r&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,sl(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,sl(e),o);break;default:throw Error(a(161))}}catch(s){Sc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Xs=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Xs;){var i=Xs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Qs;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Ys;s=Qs;var c=Ys;if(Qs=o,(Ys=l)&&!c)for(Xs=i;null!==Xs;)l=(o=Xs).child,22===o.tag&&null!==o.memoizedState?El(i):null!==l?(l.return=o,Xs=l):El(i);for(;null!==a;)Xs=a,bl(a,t,n),a=a.sibling;Xs=i,Qs=s,Ys=c}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Xs=a):wl(e)}}function wl(e){for(;null!==Xs;){var t=Xs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&$a(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}$a(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Ht(h)}}}break;default:throw Error(a(163))}Ys||512&t.flags&&il(t)}catch(f){Sc(t,t.return,f)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function _l(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function El(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Sc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Sc(t,i,l)}}var a=t.return;try{il(t)}catch(l){Sc(t,a,l)}break;case 5:var o=t.return;try{il(t)}catch(l){Sc(t,o,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var Cl,Sl=Math.ceil,Tl=w.ReactCurrentDispatcher,xl=w.ReactCurrentOwner,Il=w.ReactCurrentBatchConfig,Al=0,kl=null,Pl=null,Nl=0,Dl=0,Rl=Si(0),Ol=0,Ll=null,Ml=0,jl=0,Fl=0,Ul=null,Bl=null,Vl=0,Hl=1/0,$l=null,zl=!1,Wl=null,ql=null,Gl=!1,Kl=null,Ql=0,Yl=0,Jl=null,Xl=-1,Zl=0;function ec(){return 0!==(6&Al)?Je():-1!==Xl?Xl:Xl=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Al)&&0!==Nl?Nl&-Nl:null!==ga.transition?(0===Zl&&(Zl=gt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Yl)throw Yl=0,Jl=null,Error(a(185));yt(e,n,r),0!==(2&Al)&&e===kl||(e===kl&&(0===(2&Al)&&(jl|=n),4===Ol&&sc(e,Nl)),rc(e,r),1===n&&0===Al&&0===(1&t.mode)&&(Hl=Je()+500,Ui&&Hi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=ft(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===kl?Nl:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Ui=!0,Vi(e)}(lc.bind(null,e)):Vi(lc.bind(null,e)),oi((function(){0===(6&Al)&&Hi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=kc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Xl=-1,Zl=0,0!==(6&Al))throw Error(a(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=ht(e,e===kl?Nl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Al;Al|=2;var o=pc();for(kl===e&&Nl===t||($l=null,Hl=Je()+500,hc(e,t));;)try{vc();break}catch(l){fc(e,l)}xa(),Tl.current=o,Al=i,null!==Pl?t=0:(kl=null,Nl=0,t=Ol)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ll,hc(e,0),sc(e,r),rc(e,Je()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ll,hc(e,0),sc(e,r),rc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:_c(e,Bl,$l);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Vl+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,Bl,$l),t);break}_c(e,Bl,$l);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,Bl,$l),r);break}_c(e,Bl,$l);break;default:throw Error(a(329))}}}return rc(e,Je()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Bl,Bl=n,null!==t&&oc(t)),e}function oc(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function sc(e,t){for(t&=~Fl,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Al))throw Error(a(327));Ec();var t=ht(e,0);if(0===(1&t))return rc(e,Je()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ll,hc(e,0),sc(e,t),rc(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,Bl,$l),rc(e,Je()),null}function cc(e,t){var n=Al;Al|=1;try{return e(t)}finally{0===(Al=n)&&(Hl=Je()+500,Ui&&Hi())}}function uc(e){null!==Kl&&0===Kl.tag&&0===(6&Al)&&Ec();var t=Al;Al|=1;var n=Il.transition,r=bt;try{if(Il.transition=null,bt=1,e)return e()}finally{bt=r,Il.transition=n,0===(6&(Al=t))&&Hi()}}function dc(){Dl=Rl.current,Ti(Rl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:Ya(),Ti(ki),Ti(Ai),no();break;case 5:Xa(r);break;case 4:Ya();break;case 13:case 19:Ti(Za);break;case 10:Ia(r.type._context);break;case 22:case 23:dc()}n=n.return}if(kl=e,Pl=e=Rc(e.current,null),Nl=Dl=t,Ol=0,Ll=null,Fl=jl=Ml=0,Bl=Ul=null,null!==Na){for(t=0;t<Na.length;t++)if(null!==(r=(n=Na[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Na=null}return e}function fc(e,t){for(;;){var n=Pl;try{if(xa(),ro.current=Xo,co){for(var r=oo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}co=!1}if(ao=0,lo=so=oo=null,uo=!1,ho=0,xl.current=null,null===n||null===n.return){Ol=1,Ll=t,Pl=null;break}e:{var o=e,s=n.return,l=n,c=t;if(t=Nl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ms(s);if(null!==p){p.flags&=-257,ys(p,s,l,0,t),1&p.mode&&gs(o,u,t),c=u;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){gs(o,u,t),gc();break e}c=Error(a(426))}else if(ia&&1&l.mode){var y=ms(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ys(y,s,l,0,t),pa(cs(c,l));break e}}o=c=cs(c,l),4!==Ol&&(Ol=2),null===Ul?Ul=[o]:Ul.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Va(o,fs(0,c,t));break e;case 1:l=c;var v=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ql||!ql.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Va(o,ps(o,l,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(w){t=w,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function pc(){var e=Tl.current;return Tl.current=Xo,null===e?Xo:e}function gc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===kl||0===(268435455&Ml)&&0===(268435455&jl)||sc(kl,Nl)}function mc(e,t){var n=Al;Al|=2;var r=pc();for(kl===e&&Nl===t||($l=null,hc(e,t));;)try{yc();break}catch(i){fc(e,i)}if(xa(),Al=n,Tl.current=r,null!==Pl)throw Error(a(261));return kl=null,Nl=0,Ol}function yc(){for(;null!==Pl;)bc(Pl)}function vc(){for(;null!==Pl&&!Qe();)bc(Pl)}function bc(e){var t=Cl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?wc(e):Pl=t,xl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Dl)))return void(Pl=n)}else{if(null!==(n=Ks(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Ol=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Ol&&(Ol=5)}function _c(e,t,n){var r=bt,i=Il.transition;try{Il.transition=null,bt=1,function(e,t,n,r){do{Ec()}while(null!==Kl);if(0!==(6&Al))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===kl&&(Pl=kl=null,Nl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,kc(tt,(function(){return Ec(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Il.transition,Il.transition=null;var s=bt;bt=1;var l=Al;Al|=4,xl.current=null,function(e,t){if(ei=zt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=s),f===o&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},zt=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,y=g.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:ns(t.type,m),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(a(163))}}catch(_){Sc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}g=tl,tl=!1}(e,n),ml(n,e),pr(ti),zt=!!ei,ti=ei=null,e.current=n,vl(n,e,i),Ye(),Al=l,bt=s,Il.transition=o}else e.current=n;if(Gl&&(Gl=!1,Kl=e,Ql=i),o=e.pendingLanes,0===o&&(ql=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(zl)throw zl=!1,e=Wl,Wl=null,e;0!==(1&Ql)&&0!==e.tag&&Ec(),o=e.pendingLanes,0!==(1&o)?e===Jl?Yl++:(Yl=0,Jl=e):Yl=0,Hi()}(e,t,n,r)}finally{Il.transition=i,bt=r}return null}function Ec(){if(null!==Kl){var e=wt(Ql),t=Il.transition,n=bt;try{if(Il.transition=null,bt=16>e?16:e,null===Kl)var r=!1;else{if(e=Kl,Kl=null,Ql=0,0!==(6&Al))throw Error(a(331));var i=Al;for(Al|=4,Xs=e.current;null!==Xs;){var o=Xs,s=o.child;if(0!==(16&Xs.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Xs=u;null!==Xs;){var d=Xs;switch(d.tag){case 0:case 11:case 15:nl(8,d,o)}var h=d.child;if(null!==h)h.return=d,Xs=h;else for(;null!==Xs;){var f=(d=Xs).sibling,p=d.return;if(al(d),d===u){Xs=null;break}if(null!==f){f.return=p,Xs=f;break}Xs=p}}}var g=o.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Xs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Xs=s;else e:for(;null!==Xs;){if(0!==(2048&(o=Xs).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Xs=v;break e}Xs=o.return}}var b=e.current;for(Xs=b;null!==Xs;){var w=(s=Xs).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Xs=w;else e:for(s=b;null!==Xs;){if(0!==(2048&(l=Xs).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(E){Sc(l,l.return,E)}if(l===s){Xs=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Xs=_;break e}Xs=l.return}}if(Al=i,Hi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{bt=n,Il.transition=t}}return!1}function Cc(e,t,n){e=Ua(e,t=fs(0,t=cs(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)Cc(e,e,n);else for(;null!==t;){if(3===t.tag){Cc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ql||!ql.has(r))){t=Ua(t,e=ps(t,e=cs(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,kl===e&&(Nl&n)===n&&(4===Ol||3===Ol&&(130023424&Nl)===Nl&&500>Je()-Vl?hc(e,0):Fl|=n),rc(e,t)}function xc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Oa(e,t))&&(yt(e,t,n),rc(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),xc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),xc(e,n)}function kc(e,t){return Ge(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Pc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Dc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case C:return Lc(n.children,i,o,t);case S:s=8,i|=8;break;case T:return(e=Nc(12,n,t,2|i)).elementType=T,e.lanes=o,e;case k:return(e=Nc(13,n,t,i)).elementType=k,e.lanes=o,e;case P:return(e=Nc(19,n,t,i)).elementType=P,e.lanes=o,e;case R:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:s=10;break e;case I:s=9;break e;case A:s=11;break e;case N:s=14;break e;case D:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Nc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,a,o,s,l){return e=new Uc(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Nc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ma(a),e}function Vc(e){if(!e)return Ii;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Di(n))return Li(e,n,t)}return t}function Hc(e,t,n,r,i,a,o,s,l){return(e=Bc(n,r,!0,e,0,a,0,s,l)).context=Vc(null),n=e.current,(a=Fa(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Ua(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function $c(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ua(i,t,o))&&(nc(e,i,o,a),Ba(e,i,o)),o}function zc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Cl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ki.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:ks(t),fa();break;case 5:Ja(t);break;case 1:Di(t.type)&&Mi(t);break;case 4:Qa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;xi(Ea,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(xi(Za,1&Za.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(xi(Za,1&Za.current),null!==(e=zs(e,t,n))?e.sibling:null);xi(Za,1&Za.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Hs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),xi(Za,Za.current),r)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,n)}return zs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&Zi(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;$s(e,t),e=t.pendingProps;var i=Ni(t,Ai.current);ka(t,n),i=mo(null,t,r,e,i,n);var o=yo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ma(t),i.updater=is,t.stateNode=i,i._reactInternals=t,ls(t,r,e,n),t=As(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch($s(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===N)return 14}return 2}(r),e=ns(r,e),i){case 0:t=xs(null,t,r,e,n);break e;case 1:t=Is(null,t,r,e,n);break e;case 11:t=_s(null,t,r,e,n);break e;case 14:t=Es(null,t,r,ns(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 1:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 3:e:{if(ks(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ja(e,t),Ha(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ps(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=Ps(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=_a(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fa(),r===i){t=zs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return Ja(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ts(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return js(e,t,n);case 4:return Qa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wa(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,xi(Ea,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!ki.current){t=zs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Fa(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Aa(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Aa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ka(t,n),r=r(i=Pa(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ns(r=t.type,t.pendingProps),Es(e,t,r,i=ns(r.type,i),n);case 15:return Cs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),$s(e,t),t.tag=1,Di(r)?(e=!0,Mi(t)):e=!1,ka(t,n),os(t,r,i),ls(t,r,i,n),As(null,t,r,!0,e,n);case 19:return Hs(e,t,n);case 22:return Ss(e,t,n)}throw Error(a(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=zc(o);s.call(e)}}$c(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=zc(o);a.call(e)}}var o=Hc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=o,e[pi]=o.current,Hr(8===e.nodeType?e.parentNode:e),uc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=zc(l);s.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[pi]=l.current,Hr(8===e.nodeType?e.parentNode:e),uc((function(){$c(t,l,n,r)})),l}(n,t,e,i,r);return zc(o)}Qc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));$c(e,t,null,null)},Qc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){$c(null,e,null,null)})),t[pi]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&jt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,Je()),0===(6&Al)&&(Hl=Je()+500,Hi()))}break;case 13:uc((function(){var t=Oa(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),qc(e,1)}},Et=function(e){if(13===e.tag){var t=Oa(e,134217728);if(null!==t)nc(t,e,134217728,ec());qc(e,134217728)}},Ct=function(e){if(13===e.tag){var t=tc(e),n=Oa(e,t);if(null!==n)nc(n,e,t,ec());qc(e,t)}},St=function(){return bt},Tt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ee=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(a(90));G(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=cc,ke=uc;var eu={usingClientEntryPoint:!1,Events:[bi,wi,_i,xe,Ie,cc]},tu={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),at=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Hr(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Hr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(uc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},82:(e,t)=>{"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,s=60109,l=60110,c=60112,u=60113,d=60120,h=60115,f=60116,p=60121,g=60122,m=60117,y=60129,v=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),a=b("react.strict_mode"),o=b("react.profiler"),s=b("react.provider"),l=b("react.context"),c=b("react.forward_ref"),u=b("react.suspense"),d=b("react.suspense_list"),h=b("react.memo"),f=b("react.lazy"),p=b("react.block"),g=b("react.server.block"),m=b("react.fundamental"),y=b("react.debug_trace_mode"),v=b("react.legacy_hidden")}function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case u:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case h:case s:return e;default:return t}}case r:return t}}}t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===o||e===y||e===a||e===u||e===d||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===h||e.$$typeof===s||e.$$typeof===l||e.$$typeof===c||e.$$typeof===m||e.$$typeof===p||e[0]===g)},t.typeOf=w},86:(e,t,n)=>{"use strict";e.exports=n(82)},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,g(w,y.prototype),w.isPureReactComponent=!0;var _=Array.isArray,E=Object.prototype.hasOwnProperty,C={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)E.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:C.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function k(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===a?"."+A(l,0):a,_(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),k(o,t,i,"",(function(e){return e}))):null!=o&&(x(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(l=0,a=""===a?".":a+":",_(e))for(var c=0;c<e.length;c++){var u=a+A(s=e[c],c);l+=k(s,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=k(s=s.value,t,i,u=a+A(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return k(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},R={transition:null},O={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:R,ReactCurrentOwner:C};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=C.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,g=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(m=!1,w(e),!g)if(null!==r(c))g=!0,R(E);else{var t=r(u);null!==t&&O(_,t.startTime-e)}}function E(e,n){g=!1,m&&(m=!1,v(x),x=-1),p=!0;var a=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!k());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&O(_,d.startTime-n),l=!1}return l}finally{h=null,f=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,S=!1,T=null,x=-1,I=5,A=-1;function k(){return!(t.unstable_now()-A<I)}function P(){if(null!==T){var e=t.unstable_now();A=e;var n=!0;try{n=T(!0,e)}finally{n?C():(S=!1,T=null)}}else S=!1}if("function"===typeof b)C=function(){b(P)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,D=N.port2;N.port1.onmessage=P,C=function(){D.postMessage(null)}}else C=function(){y(P,0)};function R(e){T=e,S||(S=!0,C())}function O(e,n){x=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,R(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(m?(v(x),x=-1):m=!0,O(_,a-o))):(e.sortIndex=s,n(c,e),g||p||(g=!0,R(E))),e},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},324:e=>{e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<a.length;l++){var c=a[l];if(!s(c))return!1;var u=e[c],d=t[c];if(!1===(i=n?n.call(r,u,d,c):void 0)||void 0===i&&u!==d)return!1}return!0}},365:(e,t,n)=>{"use strict";var r=n(43);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useSyncExternalStore,o=r.useRef,s=r.useEffect,l=r.useMemo,c=r.useDebugValue},237:(e,t,n)=>{"use strict";n(365)},424:(e,t,n)=>{var r={"./JnJ_Ruleset.md":[540,540]};function i(e){if(!n.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return n.e(t[1]).then((()=>n.t(i,17)))}i.keys=()=>Object.keys(r),i.id=424,e.exports=i},139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=o(e,a(n)))}return e}function a(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=o(t,n));return t}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(a,o),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+"."+{453:"bb828c5d",540:"25dc6b84"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="website:";n.l=(r,i,a,o)=>{if(e[r])e[r].push(i);else{var s,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/JnJ-Online/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,a,o=r[0],s=r[1],l=r[2],c=0;if(o.some((t=>0!==e[t]))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkwebsite=self.webpackChunkwebsite||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.nc=void 0,(()=>{"use strict";var e,t=n(43),r=n.t(t,2),i=n(391);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const o="popstate";function s(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t,n,r){return void 0===n&&(n=null),a({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?h(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function d(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function h(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function f(t,n,r,i){void 0===i&&(i={});let{window:l=document.defaultView,v5Compat:h=!1}=i,f=l.history,p=e.Pop,g=null,m=y();function y(){return(f.state||{idx:null}).idx}function v(){p=e.Pop;let t=y(),n=null==t?null:t-m;m=t,g&&g({action:p,location:w.location,delta:n})}function b(e){let t="null"!==l.location.origin?l.location.origin:l.location.href,n="string"===typeof e?e:d(e);return n=n.replace(/ $/,"%20"),s(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==m&&(m=0,f.replaceState(a({},f.state,{idx:m}),""));let w={get action(){return p},get location(){return t(l,f)},listen(e){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(o,v),g=e,()=>{l.removeEventListener(o,v),g=null}},createHref:e=>n(l,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){p=e.Push;let i=u(w.location,t,n);r&&r(i,t),m=y()+1;let a=c(i,m),o=w.createHref(i);try{f.pushState(a,"",o)}catch(s){if(s instanceof DOMException&&"DataCloneError"===s.name)throw s;l.location.assign(o)}h&&g&&g({action:p,location:w.location,delta:1})},replace:function(t,n){p=e.Replace;let i=u(w.location,t,n);r&&r(i,t),m=y();let a=c(i,m),o=w.createHref(i);f.replaceState(a,"",o),h&&g&&g({action:p,location:w.location,delta:0})},go:e=>f.go(e)};return w}var p;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(p||(p={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function g(e,t,n){return void 0===n&&(n="/"),m(e,t,n,!1)}function m(e,t,n,r){let i=P(("string"===typeof t?h(t):t).pathname||"/",n);if(null==i)return null;let a=y(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(a);let o=null;for(let s=0;null==o&&s<a.length;++s){let e=k(i);o=I(a[s],e,r)}return o}function y(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,a)=>{let o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(s(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let l=L([r,o.relativePath]),c=n.concat(o);e.children&&e.children.length>0&&(s(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),y(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:x(l,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of v(e.path))i(e,t,r);else i(e,t)})),t}function v(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let o=v(r.join("/")),s=[];return s.push(...o.map((e=>""===e?a:[a,e].join("/")))),i&&s.push(...o),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const b=/^:[\w-]+$/,w=3,_=2,E=1,C=10,S=-2,T=e=>"*"===e;function x(e,t){let n=e.split("/"),r=n.length;return n.some(T)&&(r+=S),t&&(r+=_),n.filter((e=>!T(e))).reduce(((e,t)=>e+(b.test(t)?w:""===t?E:C)),r)}function I(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},a="/",o=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===a?t:t.slice(a.length)||"/",u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:L([a,u.pathname]),pathnameBase:M(L([a,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(a=L([a,u.pathnameBase]))}return o}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);l("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:a,pathnameBase:o,pattern:e}}function k(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return l(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function N(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function R(e,t){let n=D(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function O(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=h(e):(i=a({},e),s(!i.pathname||!i.pathname.includes("?"),N("?","pathname","search",i)),s(!i.pathname||!i.pathname.includes("#"),N("#","pathname","hash",i)),s(!i.search||!i.search.includes("#"),N("#","search","hash",i)));let o,l=""===e||""===i.pathname,c=l?"/":i.pathname;if(null==c)o=n;else{let e=t.length-1;if(!r&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?h(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:j(r),hash:F(i)}}(i,o),d=c&&"/"!==c&&c.endsWith("/"),f=(l||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!f||(u.pathname+="/"),u}const L=e=>e.join("/").replace(/\/\/+/g,"/"),M=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),j=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",F=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function U(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const B=["post","put","patch","delete"],V=(new Set(B),["get",...B]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}const $=t.createContext(null);const z=t.createContext(null);const W=t.createContext(null);const q=t.createContext(null);const G=t.createContext({outlet:null,matches:[],isDataRoute:!1});const K=t.createContext(null);function Q(){return null!=t.useContext(q)}function Y(){return Q()||s(!1),t.useContext(q).location}function J(e){t.useContext(W).static||t.useLayoutEffect(e)}function X(){let{isDataRoute:e}=t.useContext(G);return e?function(){let{router:e}=le(oe.UseNavigateStable),n=ue(se.UseNavigateStable),r=t.useRef(!1);return J((()=>{r.current=!0})),t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,H({fromRouteId:n},i)))}),[e,n])}():function(){Q()||s(!1);let e=t.useContext($),{basename:n,future:r,navigator:i}=t.useContext(W),{matches:a}=t.useContext(G),{pathname:o}=Y(),l=JSON.stringify(R(a,r.v7_relativeSplatPath)),c=t.useRef(!1);return J((()=>{c.current=!0})),t.useCallback((function(t,r){if(void 0===r&&(r={}),!c.current)return;if("number"===typeof t)return void i.go(t);let a=O(t,JSON.parse(l),o,"path"===r.relative);null==e&&"/"!==n&&(a.pathname="/"===a.pathname?n:L([n,a.pathname])),(r.replace?i.replace:i.push)(a,r.state,r)}),[n,i,l,o,e])}()}function Z(e,n){let{relative:r}=void 0===n?{}:n,{future:i}=t.useContext(W),{matches:a}=t.useContext(G),{pathname:o}=Y(),s=JSON.stringify(R(a,i.v7_relativeSplatPath));return t.useMemo((()=>O(e,JSON.parse(s),o,"path"===r)),[e,s,o,r])}function ee(n,r,i,a){Q()||s(!1);let{navigator:o}=t.useContext(W),{matches:l}=t.useContext(G),c=l[l.length-1],u=c?c.params:{},d=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let f,p=Y();if(r){var m;let e="string"===typeof r?h(r):r;"/"===d||(null==(m=e.pathname)?void 0:m.startsWith(d))||s(!1),f=e}else f=p;let y=f.pathname||"/",v=y;if("/"!==d){let e=d.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=g(n,{pathname:v});let w=ae(b&&b.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:L([d,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:L([d,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,i,a);return r&&w?t.createElement(q.Provider,{value:{location:H({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:e.Pop}},w):w}function te(){let e=function(){var e;let n=t.useContext(K),r=ce(se.UseRouteError),i=ue(se.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=U(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}const ne=t.createElement(te,null);class re extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(G.Provider,{value:this.props.routeContext},t.createElement(K.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ie(e){let{routeContext:n,match:r,children:i}=e,a=t.useContext($);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(G.Provider,{value:n},i)}function ae(e,n,r,i){var a;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==e){var o;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(o=i)&&o.v7_partialHydration&&0===n.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let l=e,c=null==(a=r)?void 0:a.errors;if(null!=c){let e=l.findIndex((e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id])));e>=0||s(!1),l=l.slice(0,Math.min(l.length,e+1))}let u=!1,d=-1;if(r&&i&&i.v7_partialHydration)for(let t=0;t<l.length;t++){let e=l[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){u=!0,l=d>=0?l.slice(0,d+1):[l[0]];break}}}return l.reduceRight(((e,i,a)=>{let o,s=!1,h=null,f=null;var p;r&&(o=c&&i.route.id?c[i.route.id]:void 0,h=i.route.errorElement||ne,u&&(d<0&&0===a?(p="route-fallback",!1||de[p]||(de[p]=!0),s=!0,f=null):d===a&&(s=!0,f=i.route.hydrateFallbackElement||null)));let g=n.concat(l.slice(0,a+1)),m=()=>{let n;return n=o?h:s?f:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(ie,{match:i,routeContext:{outlet:e,matches:g,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?t.createElement(re,{location:r.location,revalidation:r.revalidation,component:h,error:o,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()}),null)}var oe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(oe||{}),se=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(se||{});function le(e){let n=t.useContext($);return n||s(!1),n}function ce(e){let n=t.useContext(z);return n||s(!1),n}function ue(e){let n=function(){let e=t.useContext(G);return e||s(!1),e}(),r=n.matches[n.matches.length-1];return r.route.id||s(!1),r.route.id}const de={};const he={};const fe=(e,t,n)=>{var r;he[r="\u26a0\ufe0f React Router Future Flag Warning: "+t+". You can use the `"+e+"` future flag to opt-in early. For more information, see "+n+"."]||(he[r]=!0,console.warn(r))};function pe(e,t){null!=e&&e.v7_startTransition||fe("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),null!=e&&e.v7_relativeSplatPath||t&&t.v7_relativeSplatPath||fe("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),t&&(t.v7_fetcherPersist||fe("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),t.v7_normalizeFormMethod||fe("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),t.v7_partialHydration||fe("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),t.v7_skipActionErrorRevalidation||fe("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}r.startTransition;function ge(e){let{to:n,replace:r,state:i,relative:a}=e;Q()||s(!1);let{future:o,static:l}=t.useContext(W),{matches:c}=t.useContext(G),{pathname:u}=Y(),d=X(),h=O(n,R(c,o.v7_relativeSplatPath),u,"path"===a),f=JSON.stringify(h);return t.useEffect((()=>d(JSON.parse(f),{replace:r,state:i,relative:a})),[d,f,a,r,i]),null}function me(e){s(!1)}function ye(n){let{basename:r="/",children:i=null,location:a,navigationType:o=e.Pop,navigator:l,static:c=!1,future:u}=n;Q()&&s(!1);let d=r.replace(/^\/*/,"/"),f=t.useMemo((()=>({basename:d,navigator:l,static:c,future:H({v7_relativeSplatPath:!1},u)})),[d,u,l,c]);"string"===typeof a&&(a=h(a));let{pathname:p="/",search:g="",hash:m="",state:y=null,key:v="default"}=a,b=t.useMemo((()=>{let e=P(p,d);return null==e?null:{location:{pathname:e,search:g,hash:m,state:y,key:v},navigationType:o}}),[d,p,g,m,y,v,o]);return null==b?null:t.createElement(W.Provider,{value:f},t.createElement(q.Provider,{children:i,value:b}))}function ve(e){let{children:t,location:n}=e;return ee(be(t),n)}new Promise((()=>{}));t.Component;function be(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;let a=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,be(e.props.children,a));e.type!==me&&s(!1),e.props.index&&e.props.children&&s(!1);let o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=be(e.props.children,a)),r.push(o)})),r}var we=n(950),_e=n.t(we,2);function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ee.apply(this,arguments)}function Ce(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Se=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(dP){}new Map;const Te=r.startTransition;_e.flushSync,r.useId;function xe(e){let{basename:n,children:r,future:i,window:a}=e,o=t.useRef();var s;null==o.current&&(o.current=(void 0===(s={window:a,v5Compat:!0})&&(s={}),f((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return u("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:d(t)}),null,s)));let l=o.current,[c,h]=t.useState({action:l.action,location:l.location}),{v7_startTransition:p}=i||{},g=t.useCallback((e=>{p&&Te?Te((()=>h(e))):h(e)}),[h,p]);return t.useLayoutEffect((()=>l.listen(g)),[l,g]),t.useEffect((()=>pe(i)),[i]),t.createElement(ye,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:l,future:i})}const Ie="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ke=t.forwardRef((function(e,n){let r,{onClick:i,relative:a,reloadDocument:o,replace:l,state:c,target:u,to:h,preventScrollReset:f,viewTransition:p}=e,g=Ce(e,Se),{basename:m}=t.useContext(W),y=!1;if("string"===typeof h&&Ae.test(h)&&(r=h,Ie))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=P(t.pathname,m);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:y=!0}catch(dP){}let v=function(e,n){let{relative:r}=void 0===n?{}:n;Q()||s(!1);let{basename:i,navigator:a}=t.useContext(W),{hash:o,pathname:l,search:c}=Z(e,{relative:r}),u=l;return"/"!==i&&(u="/"===l?i:L([i,l])),a.createHref({pathname:u,search:c,hash:o})}(h,{relative:a}),b=function(e,n){let{target:r,replace:i,state:a,preventScrollReset:o,relative:s,viewTransition:l}=void 0===n?{}:n,c=X(),u=Y(),h=Z(e,{relative:s});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let n=void 0!==i?i:d(u)===d(h);c(e,{replace:n,state:a,preventScrollReset:o,relative:s,viewTransition:l})}}),[u,c,h,i,a,r,e,o,s,l])}(h,{replace:l,state:c,target:u,preventScrollReset:f,relative:a,viewTransition:p});return t.createElement("a",Ee({},g,{href:r||v,onClick:y||o?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:n,target:u}))}));var Pe,Ne;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Pe||(Pe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ne||(Ne={}));const De=n.p+"static/media/logo.6ce24c58023cc2f8fd88fe9d219db6c6.svg";var Re=n(579);function Oe(){return document.title="Home",(0,Re.jsxs)("div",{children:[(0,Re.jsx)("img",{src:De,className:"App-logo",alt:"logo"}),(0,Re.jsx)("p",{children:"This is the homepage. More may be added here later."}),(0,Re.jsx)("a",{className:"App-link",href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer",children:"Powered by React"})]})}function Le(e){let{markdowns:t}=e;return document.title="Blog",(0,Re.jsxs)("div",{className:"Blog",children:[(0,Re.jsx)("h2",{children:"Important documents made for the JnJ System"}),null===t||void 0===t?void 0:t.map(((e,t)=>(0,Re.jsx)("div",{className:"Blog-link-container",children:(0,Re.jsx)(ke,{to:"/blog/"+e,className:"Blog-link",children:e})},t)))]})}const Me=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},je={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],a=i+1<e.length,o=a?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let d=(15&o)<<2|l>>6,h=63&l;s||(h=64,a||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Me(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){const a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==o||null==s)throw new Fe;const l=t<<2|a>>4;if(r.push(l),64!==o){const e=a<<4&240|o>>2;if(r.push(e),64!==s){const e=o<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Fe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ue=function(e){return function(e){const t=Me(e);return je.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Be=function(e){try{return je.decodeString(e,!0)}catch(dP){console.error("base64Decode failed: ",dP)}return null};const Ve=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,He=()=>{try{return Ve()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/JnJ-Online",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyC3BQWHWwt95U96YEiIyhKvxOMt3qCt41w",REACT_APP_AUTH_DOMAIN:"jnj-online.firebaseapp.com",REACT_APP_PROJECT_ID:"jnj-online",REACT_APP_STORAGE_BUCKET:"jnj-online.firebasestorage.app",REACT_APP_MESSAGING_SENDER_ID:"782778747979",REACT_APP_APP_ID:"1:782778747979:web:431d9dc56d1adbde96d1ce",REACT_APP_MEASUREMENT_ID:"G-HTVE1315K4"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(dP){return}const t=e&&Be(e[1]);return t&&JSON.parse(t)})()}catch(dP){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${dP}`)}},$e=e=>{var t,n;return null===(n=null===(t=He())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},ze=()=>{var e;return null===(e=He())||void 0===e?void 0:e.config},We=e=>{var t;return null===(t=He())||void 0===t?void 0:t[`_${e}`]};class qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Ge(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ke(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Qe(){return!function(){var e;const t=null===(e=He())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(dP){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ye(){try{return"object"===typeof indexedDB}catch(dP){return!1}}function Je(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}class Xe extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Xe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ze.prototype.create)}}class Ze{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(et,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",a=`${this.serviceName}: ${i} (${n}).`;return new Xe(n,a,t)}}const et=/\{\$([^}]+)}/g;function tt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],a=t[i];if(nt(n)&&nt(a)){if(!tt(n,a))return!1}else if(n!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function nt(e){return null!==e&&"object"===typeof e}function rt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function it(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function at(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class ot{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=st),void 0===r.error&&(r.error=st),void 0===r.complete&&(r.complete=st);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(dP){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(dP){"undefined"!==typeof console&&console.error&&console.error(dP)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function st(){}function lt(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function ct(e){return e&&e._delegate?e._delegate:e}class ut{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const dt="[DEFAULT]";class ht{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new qe;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(dP){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(dP){if(r)return null;throw dP}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:dt})}catch(dP){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(dP){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,a]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&a.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===dt?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt;return this.component?this.component.multipleInstances?e:dt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ft{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ht(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const pt=[];var gt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(gt||(gt={}));const mt={debug:gt.DEBUG,verbose:gt.VERBOSE,info:gt.INFO,warn:gt.WARN,error:gt.ERROR,silent:gt.SILENT},yt=gt.INFO,vt={[gt.DEBUG]:"log",[gt.VERBOSE]:"log",[gt.INFO]:"info",[gt.WARN]:"warn",[gt.ERROR]:"error"},bt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=vt[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];console[r](`[${n}]  ${e.name}:`,...a)};class wt{constructor(e){this.name=e,this._logLevel=yt,this._logHandler=bt,this._userLogHandler=null,pt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in gt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?mt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,gt.DEBUG,...t),this._logHandler(this,gt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,gt.VERBOSE,...t),this._logHandler(this,gt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,gt.INFO,...t),this._logHandler(this,gt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,gt.WARN,...t),this._logHandler(this,gt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,gt.ERROR,...t),this._logHandler(this,gt.ERROR,...t)}}let _t,Et;const Ct=new WeakMap,St=new WeakMap,Tt=new WeakMap,xt=new WeakMap,It=new WeakMap;let At={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return St.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Tt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function kt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Et||(Et=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Dt(this),n),Nt(Ct.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Nt(e.apply(Dt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=e.call(Dt(this),t,...r);return Tt.set(a,t.sort?t.sort():[t]),Nt(a)}}function Pt(e){return"function"===typeof e?kt(e):(e instanceof IDBTransaction&&function(e){if(St.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));St.set(e,t)}(e),t=e,(_t||(_t=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,At):e);var t}function Nt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(Nt(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((t=>{t instanceof IDBCursor&&Ct.set(t,e)})).catch((()=>{})),It.set(t,e),t}(e);if(xt.has(e))return xt.get(e);const t=Pt(e);return t!==e&&(xt.set(e,t),It.set(t,e)),t}const Dt=e=>It.get(e);function Rt(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),s=Nt(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(Nt(o.result),e.oldVersion,e.newVersion,Nt(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{a&&e.addEventListener("close",(()=>a())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}const Ot=["get","getKey","getAll","getAllKeys","count"],Lt=["put","add","delete","clear"],Mt=new Map;function jt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Mt.get(t))return Mt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Lt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ot.includes(n))return;const a=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let a=t.store;for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];return r&&(a=a.index(s.shift())),(await Promise.all([a[n](...s),i&&t.done]))[0]};return Mt.set(t,a),a}At=(e=>({...e,get:(t,n,r)=>jt(t,n)||e.get(t,n,r),has:(t,n)=>!!jt(t,n)||e.has(t,n)}))(At);class Ft{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Ut="@firebase/app",Bt="0.11.1",Vt=new wt("@firebase/app"),Ht="@firebase/app-compat",$t="@firebase/analytics-compat",zt="@firebase/analytics",Wt="@firebase/app-check-compat",qt="@firebase/app-check",Gt="@firebase/auth",Kt="@firebase/auth-compat",Qt="@firebase/database",Yt="@firebase/data-connect",Jt="@firebase/database-compat",Xt="@firebase/functions",Zt="@firebase/functions-compat",en="@firebase/installations",tn="@firebase/installations-compat",nn="@firebase/messaging",rn="@firebase/messaging-compat",an="@firebase/performance",on="@firebase/performance-compat",sn="@firebase/remote-config",ln="@firebase/remote-config-compat",cn="@firebase/storage",un="@firebase/storage-compat",dn="@firebase/firestore",hn="@firebase/vertexai",fn="@firebase/firestore-compat",pn="firebase",gn="[DEFAULT]",mn={[Ut]:"fire-core",[Ht]:"fire-core-compat",[zt]:"fire-analytics",[$t]:"fire-analytics-compat",[qt]:"fire-app-check",[Wt]:"fire-app-check-compat",[Gt]:"fire-auth",[Kt]:"fire-auth-compat",[Qt]:"fire-rtdb",[Yt]:"fire-data-connect",[Jt]:"fire-rtdb-compat",[Xt]:"fire-fn",[Zt]:"fire-fn-compat",[en]:"fire-iid",[tn]:"fire-iid-compat",[nn]:"fire-fcm",[rn]:"fire-fcm-compat",[an]:"fire-perf",[on]:"fire-perf-compat",[sn]:"fire-rc",[ln]:"fire-rc-compat",[cn]:"fire-gcs",[un]:"fire-gcs-compat",[dn]:"fire-fst",[fn]:"fire-fst-compat",[hn]:"fire-vertex","fire-js":"fire-js",[pn]:"fire-js-all"},yn=new Map,vn=new Map,bn=new Map;function wn(e,t){try{e.container.addComponent(t)}catch(dP){Vt.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,dP)}}function _n(e){const t=e.name;if(bn.has(t))return Vt.debug(`There were multiple attempts to register component ${t}.`),!1;bn.set(t,e);for(const n of yn.values())wn(n,e);for(const n of vn.values())wn(n,e);return!0}function En(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Cn(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Sn=new Ze("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Tn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ut("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sn.create("app-deleted",{appName:this._name})}}const xn="11.3.1";function In(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:gn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Sn.create("bad-app-name",{appName:String(i)});if(n||(n=ze()),!n)throw Sn.create("no-options");const a=yn.get(i);if(a){if(tt(n,a.options)&&tt(r,a.config))return a;throw Sn.create("duplicate-app",{appName:i})}const o=new ft(i);for(const l of bn.values())o.addComponent(l);const s=new Tn(n,r,o);return yn.set(i,s),s}function An(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gn;const t=yn.get(e);if(!t&&e===gn&&ze())return In();if(!t)throw Sn.create("no-app",{appName:e});return t}function kn(e,t,n){var r;let i=null!==(r=mn[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const e=[`Unable to register library "${i}" with version "${t}":`];return a&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Vt.warn(e.join(" "))}_n(new ut(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const Pn="firebase-heartbeat-store";let Nn=null;function Dn(){return Nn||(Nn=Rt("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Pn)}catch(dP){console.warn(dP)}}}).catch((e=>{throw Sn.create("idb-open",{originalErrorMessage:e.message})}))),Nn}async function Rn(e,t){try{const n=(await Dn()).transaction(Pn,"readwrite"),r=n.objectStore(Pn);await r.put(t,On(e)),await n.done}catch(dP){if(dP instanceof Xe)Vt.warn(dP.message);else{const t=Sn.create("idb-set",{originalErrorMessage:null===dP||void 0===dP?void 0:dP.message});Vt.warn(t.message)}}}function On(e){return`${e.name}!${e.options.appId}`}class Ln{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new jn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Mn();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(dP){Vt.warn(dP)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Mn(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Fn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Fn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Ue(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(dP){return Vt.warn(dP),""}}}function Mn(){return(new Date).toISOString().substring(0,10)}class jn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Ye()&&Je().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Dn()).transaction(Pn),n=await t.objectStore(Pn).get(On(e));return await t.done,n}catch(dP){if(dP instanceof Xe)Vt.warn(dP.message);else{const t=Sn.create("idb-get",{originalErrorMessage:null===dP||void 0===dP?void 0:dP.message});Vt.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Rn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Rn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Fn(e){return Ue(JSON.stringify({version:2,heartbeats:e})).length}var Un;Un="",_n(new ut("platform-logger",(e=>new Ft(e)),"PRIVATE")),_n(new ut("heartbeat",(e=>new Ln(e)),"PRIVATE")),kn(Ut,Bt,Un),kn(Ut,Bt,"esm2017"),kn("fire-js","");kn("firebase","11.3.1","app");var Bn,Vn,Hn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},$n={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,a=this.h,o=0;o<t;){if(0==a)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[a++]=e.charCodeAt(o++),a==this.blockSize){n(this,i),a=0;break}}else for(;o<t;)if(i[a++]=e[o++],a==this.blockSize){n(this,i),a=0;break}}this.h=a,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function a(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return s;if(0>e)return h(o(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var s=a(0),l=a(1),c=a(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function g(e,t){this.g=e,this.h=t}function m(e,t){if(u(t))throw Error("division by zero");if(u(e))return new g(s,s);if(d(e))return t=m(h(e),t),new g(h(t.g),h(t.h));if(d(t))return t=m(e,h(t)),new g(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),a=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=a.add(r);0>=c.l(e)&&(i=i.add(n),a=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new g(i,t)}for(i=s;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(a=o(n)).j(t);d(c)||0<c.l(e);)c=(a=o(n-=r)).j(t);u(a)&&(a=l),i=i.add(a),e=f(e,c)}return new g(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,a=[],o=0;o<i;o++)a[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(a,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var i=m(n,t).g,a=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,a=0;a<=t;a++){var o=i+(65535&this.i(a))+(65535&e.i(a)),s=(o>>>16)+(this.i(a)>>>16)+(e.i(a)>>>16);i=s>>>16,o&=65535,s&=65535,n[a]=s<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return s;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var a=0;a<e.g.length;a++){var l=this.i(i)>>>16,f=65535&this.i(i),g=e.i(a)>>>16,m=65535&e.i(a);n[2*i+2*a]+=f*m,p(n,2*i+2*a),n[2*i+2*a+1]+=l*m,p(n,2*i+2*a+1),n[2*i+2*a+1]+=f*g,p(n,2*i+2*a+1),n[2*i+2*a+2]+=l*g,p(n,2*i+2*a+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return m(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Vn=$n.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),i=s,a=0;a<t.length;a+=8){var l=Math.min(8,t.length-a),c=parseInt(t.substring(a,a+l),n);8>l?(l=o(Math.pow(n,l)),i=i.j(l).add(o(c))):i=(i=i.j(r)).add(o(c))}return i},Bn=$n.Integer=r}).apply("undefined"!==typeof Hn?Hn:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var zn,Wn,qn,Gn,Kn,Qn,Yn,Jn,Xn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Zn={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Xn&&Xn];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var a=0;a<e.length-1;a++){var o=e[a];if(!(o in i))break e;i=i[o]}(r=r(a=i[e=e[e.length-1]]))!=a&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function a(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(a(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function g(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function m(e){return m[" "](e),e}m[" "]=function(){};var y=-1!=g().indexOf("Gecko")&&!(-1!=g().toLowerCase().indexOf("webkit")&&-1==g().indexOf("Edge"))&&!(-1!=g().indexOf("Trident")||-1!=g().indexOf("MSIE"))&&-1==g().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function E(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function C(e){i.setTimeout((()=>{throw e}),0)}function S(){var e=k;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var T=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new x),(e=>e.reset()));class x{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let I,A=!1,k=new class{constructor(){this.h=this.g=null}add(e,t){const n=T.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},P=()=>{const e=i.Promise.resolve(void 0);I=()=>{e.then(N)}};var N=()=>{for(var e;e=S();){try{e.h.call(e.g)}catch(n){C(n)}var t=T;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}A=!1};function D(){this.s=this.s,this.C=this.C}function R(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}D.prototype.s=!1,D.prototype.ma=function(){this.s||(this.s=!0,this.N())},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},R.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function L(e,t){if(R.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{m(t.nodeName);var i=!0;break e}catch(mv){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:M[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&L.aa.h.call(this)}}d(L,R);var M={2:"touch",3:"pen",4:"mouse"};L.prototype.h=function(){L.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var j="closure_listenable_"+(1e6*Math.random()|0),F=0;function U(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function B(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function V(e){this.src=e,this.g={},this.h=0}function H(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Array.prototype.indexOf.call(i,t,void 0);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(B(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function $(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}V.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=$(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new U(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var z="closure_lm_"+(1e6*Math.random()|0),W={};function q(e,t,n,r,i){if(r&&r.once)return K(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)q(e,t[a],n,r,i);return null}return n=te(n),e&&e[j]?e.K(t,n,o(r)?!!r.capture:!!r,i):G(e,t,n,!1,r,i)}function G(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var s=o(i)?!!i.capture:!!i,l=Z(e);if(l||(e[z]=l=new V(e)),(n=l.add(t,n,r,s,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=X;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)O||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(J(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function K(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)K(e,t[a],n,r,i);return null}return n=te(n),e&&e[j]?e.L(t,n,o(r)?!!r.capture:!!r,i):G(e,t,n,!0,r,i)}function Q(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Q(e,t[a],n,r,i);else r=o(r)?!!r.capture:!!r,n=te(n),e&&e[j]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=$(a=e.g[t],n,r,i))&&(B(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$(t,n,r,i)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[j])H(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(J(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(H(n,e),0==n.h&&(n.src=null,t[z]=null)):B(e)}}}function J(e){return e in W?W[e]:W[e]="on"+e}function X(e,t){if(e.da)e=!0;else{t=new L(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function Z(e){return(e=e[z])instanceof V?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){D.call(this),this.i=new V(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new R(t,e);else if(t instanceof R)t.target=t.target||e;else{var i=t;_(t=new R(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=ie(o,r,!0,t)&&i}if(i=ie(o=t.g=e,r,!0,t)&&i,i=ie(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ie(o=t.g=n[a],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.da&&o.capture==n){var s=o.listener,l=o.ha||o.src;o.fa&&H(e.i,o),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}function ae(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function oe(e){e.g=ae((()=>{e.g=null,e.i&&(e.i=!1,oe(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,D),ne.prototype[j]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)B(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class se extends D{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){D.call(this),this.h=e,this.g={}}d(le,D);var ce=[];function ue(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Y(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function ge(e){return e.h||(e.h=e.i())}function me(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){R.call(this,"d")}function be(){R.call(this,"c")}d(ve,R),d(be,R);var we={},_e=null;function Ee(){return _e=_e||new ne}function Ce(e){R.call(this,we.La,e)}function Se(e){const t=Ee();re(t,new Ce(t))}function Te(e,t){R.call(this,we.STAT_EVENT,e),this.stat=t}function xe(e){const t=Ee();re(t,new Te(t,e))}function Ie(e,t){R.call(this,we.Ma,e),this.size=t}function Ae(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function ke(){this.g=!0}function Pe(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return de(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",d(Ce,R),we.STAT_EVENT="statevent",d(Te,R),we.Ma="timingevent",d(Ie,R),ke.prototype.xa=function(){this.g=!1},ke.prototype.info=function(){};var Ne,De={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Re={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Oe(){}function Le(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Me}function Me(){this.i=null,this.g="",this.h=!1}d(Oe,pe),Oe.prototype.g=function(){return new XMLHttpRequest},Oe.prototype.i=function(){return{}},Ne=new Oe;var je={},Fe={};function Ue(e,t,n){e.L=1,e.v=dt(ot(t)),e.m=n,e.P=!0,Be(e,null)}function Be(e,t){e.F=Date.now(),$e(e),e.A=ot(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),St(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Me,e.g=hn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new se(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var a=0;a<i.length;a++){var o=q(n,i[a],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Se(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ve(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function He(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?je:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function $e(e){e.S=Date.now()+e.I,ze(e,e.I)}function ze(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ae(c(e.ba,e),t)}function We(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function qe(e){0==e.j.G||e.J||sn(e.j,e)}function Ge(e){We(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ke(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),Qt(n)}nn(n),xe(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ae(c(n.Za,n),6e3));if(1>=Xe(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else cn(n,11)}else if((e.K||n.g==e)&&on(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=r.h;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(et(a,a.h),a.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),o.K){tt(r.h,o);var s=o,l=r.L;l&&(s.I=l),s.B&&(We(s),$e(s)),r.g=o}else tn(r);0<n.i.length&&Jt(n)}else"stop"!=c[0]&&"close"!=c[0]||cn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?cn(n,7):Kt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Se()}catch(u){}}Le.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==zt(e)?t.j():this.Y(e)},Le.prototype.Y=function(e){try{if(e==this.g)e:{const h=zt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Wt(this.g)))){this.J||4!=h||7==t||Se(),We(this);var n=this.g.Z();this.X=n;t:if(Ve(this)){var r=Wt(this.g);e="";var a=r.length,o=4==zt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),qe(this);var s="";break t}this.h.i=new i.TextDecoder}for(t=0;t<a;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==a-1)});r.length=0,this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,xe(12),Ge(this),qe(this);break e}Pe(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ke(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<s.length;){if(e=He(this,s),e==Fe){4==h&&(this.s=4,xe(14),n=!1),Pe(this.i,this.l,null,"[Incomplete Response]");break}if(e==je){this.s=4,xe(15),Pe(this.i,this.l,s,"[Invalid Chunk]"),n=!1;break}Pe(this.i,this.l,e,null),Ke(this,e)}if(Ve(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=s.length||this.h.h||(this.s=1,xe(16),n=!1),this.o=this.o&&n,n){if(0<s.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),rn(d),d.M=!0,xe(11))}}else Pe(this.i,this.l,s,"[Invalid Chunked Response]"),Ge(this),qe(this)}else Pe(this.i,this.l,s,null),Ke(this,s);4==h&&Ge(this),this.o&&!this.J&&(4==h?sn(this.j,this):(this.o=!1,$e(this)))}else(function(e){const t={};e=(e.g&&2<=zt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=E(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const a=t[i]||[];t[i]=a,a.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,xe(12)):(this.s=0,xe(13)),Ge(this),qe(this)}}}catch(kv){}},Le.prototype.cancel=function(){this.J=!0,Ge(this)},Le.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Se(),xe(17)),Ge(this),this.s=2,qe(this)):ze(this,this.S-e)};var Qe=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Je(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xe(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(a(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(a(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(a(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}Ye.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function at(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof at){this.h=e.h,st(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,st(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function ot(e){return new at(e)}function st(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(_t(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Et(this,t),St(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,vt)),e.i=new wt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}at.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:mt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,bt)),e.join("")};var gt=/[#\/\?@]/g,mt=/[#\?:]/g,yt=/[#\?]/g,vt=/[#\?@]/g,bt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function _t(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Et(e,t){_t(e),t=Tt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ct(e,t){return _t(e),t=Tt(e,t),e.g.has(t)}function St(e,t,n){Et(e,t),0<n.length&&(e.i=null,e.g.set(Tt(e,t),h(n)),e.h+=n.length)}function Tt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function xt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(mv){}}function It(){this.g=new fe}function At(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;o(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(dP){throw t.push(r+"type="+encodeURIComponent("_badmap")),dP}}function kt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Pt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Nt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Dt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Rt(e)}function Rt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ot(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Lt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ot(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){_t(this),this.i=null,e=Tt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){_t(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){_t(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){_t(this);let t=[];if("string"===typeof e)Ct(this,e)&&(t=t.concat(this.g.get(Tt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return _t(this),this.i=null,Ct(this,e=Tt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const a=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=a;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")},d(kt,pe),kt.prototype.g=function(){return new Pt(this.l,this.j)},kt.prototype.i=function(e){return function(){return e}}({}),d(Pt,ne),(e=Pt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Rt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Dt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Rt(this)),this.g&&(this.readyState=3,Rt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Nt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Dt(this):Rt(this),3==this.readyState&&Nt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Dt(this))},e.Qa=function(e){this.g&&(this.response=e,Dt(this))},e.ga=function(){this.g&&Dt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Pt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Mt,ne);var jt=/^https?$/i,Ft=["POST","PUT"];function Ut(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Bt(e),Ht(e)}function Bt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Vt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=zt(e)||2!=e.Z()))if(e.u&&4==zt(e))ae(e.Ea,0,e);else if(re(e,"readystatechange"),4==zt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var a;if(a=0===r){var o=String(e.D).match(it)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),a=!jt.test(o?o.toLowerCase():"")}n=a}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var s=2<zt(e)?e.g.statusText:""}catch(l){s=""}e.l=s+" ["+e.Z()+"]",Bt(e)}}finally{Ht(e)}}}function Ht(e,t){if(e.g){$t(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(dP){}}}function $t(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function zt(e){return e.g?e.g.readyState:0}function Wt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(tr){return null}}function qt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gt(e){this.Aa=0,this.i=[],this.j=new ke,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qt("baseRetryDelayMs",5e3,e),this.cb=qt("retryDelaySeedMs",1e4,e),this.Wa=qt("forwardChannelMaxRetries",2,e),this.wa=qt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new It,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Kt(e){if(Yt(e),3==e.G){var t=e.U++,n=ot(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),Zt(e,n),(t=new Le(e,e.j,t)).L=2,t.v=dt(ot(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(fv){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=hn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),$e(t)}un(e)}function Qt(e){e.g&&(rn(e),e.g.cancel(),e.g=null)}function Yt(e){Qt(e),e.u&&(i.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Jt(e){if(!Je(e.h)&&!e.s){e.s=!0;var t=e.Ga;I||P(),A||(I(),A=!0),k.add(t,e),e.B=0}}function Xt(e,t){var n;n=t?t.l:e.U++;const r=ot(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),Zt(e,r),e.m&&e.o&&Lt(r,e.m,e.o),n=new Le(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=en(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function Zt(e,t){e.H&&v(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function en(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=i[o].g;const s=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),a=!1;else try{At(s,e,"req"+n+"_")}catch(kv){r&&r(s)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function tn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;I||P(),A||(I(),A=!0),k.add(t,e),e.v=0}}function nn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ae(c(e.Fa,e),ln(e,e.v)),e.v++,!0)}function rn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function an(e){e.g=new Le(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ot(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),Zt(e,t),e.m&&e.o&&Lt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(ot(t)),n.m=null,n.P=!0,Be(n,e)}function on(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function sn(e,t){var n=null;if(e.g==t){on(e),rn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Ee(),new Ie(r,n)),Jt(e)}else tn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Xe(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ae(c(e.Ga,e,t),ln(e,e.B)),e.B++,!0))}(e,t)||2==r&&nn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:cn(e,5);break;case 4:cn(e,10);break;case 3:cn(e,6);break;default:cn(e,2)}}function ln(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function cn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new at(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||st(r,"https"),dt(r),t?function(e,t){const n=new ke;if(i.Image){const r=new Image;r.onload=u(xt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(xt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(xt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(xt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new ke;const n=new AbortController,r=setTimeout((()=>{n.abort(),xt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?xt(0,0,!0,t):xt(0,0,!1,t)})).catch((()=>{clearTimeout(r),xt(0,0,!1,t)}))}(r.toString(),n)}else xe(2);e.G=0,e.l&&e.l.sa(t),un(e),Yt(e)}function un(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof at?ot(n):new at(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var a=i.location;r=a.protocol,t=t?t+"."+a.hostname:a.hostname,a=+a.port;var o=new at(null);r&&st(o,r),t&&(o.g=t),a&&lt(o,a),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),Zt(e,r),r}function hn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new kt({eb:n})):new Mt(e.pa)).Ha(e.J),t}function fn(){}function pn(){}function gn(e,t){ne.call(this),this.g=new Gt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new vn(this)}function mn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function vn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ne.g(),this.v=this.o?ge(this.o):ge(Ne),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(mv){return void Ut(this,mv)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)n.set(a,r[a]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),a=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||a||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$t(this),this.u=!0,this.g.send(e),this.u=!1}catch(mv){Ut(this,mv)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Ht(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ht(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Vt(this):this.bb())},e.bb=function(){Vt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<zt(this)?this.g.status:-1}catch(cv){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(cv){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Gt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){xe(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Jt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Le(this,this.j,e);let a=this.o;if(this.S&&(a?(a=b(a),_(a,this.S)):a=this.S),null!==this.m||this.O||(i.H=a,a=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=en(this,i,t),ut(n=ot(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),Zt(this,n),a&&(this.O?t="headers="+encodeURIComponent(String(Ot(a)))+"&"+t:this.m&&Lt(n,this.m,a)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Ue(i,n,null)):Ue(i,n,t),this.G=2}}else 3==this.G&&(e?Xt(this,e):0==this.i.length||Je(this.h)||Xt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ae(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xe(10),Qt(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,Qt(this),nn(this),xe(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),xe(2)):(this.j.info("Failed to ping google.com"),xe(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=fn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},pn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Kt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Qe(t.Ya++,e)),3==t.G&&Jt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Kt(this.g),delete this.g,gn.aa.N.call(this)},d(mn,ve),d(yn,be),d(vn,fn),vn.prototype.ua=function(){re(this.g,"a")},vn.prototype.ta=function(e){re(this.g,new mn(e))},vn.prototype.sa=function(e){re(this.g,new yn)},vn.prototype.ra=function(){re(this.g,"b")},pn.prototype.createWebChannel=pn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,Jn=Zn.createWebChannelTransport=function(){return new pn},Yn=Zn.getStatEventTarget=function(){return Ee()},Qn=Zn.Event=we,Kn=Zn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},De.NO_ERROR=0,De.TIMEOUT=8,De.HTTP_ERROR=6,Gn=Zn.ErrorCode=De,Re.COMPLETE="complete",qn=Zn.EventType=Re,me.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Wn=Zn.WebChannel=me,Zn.FetchXmlHttpFactory=kt,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,zn=Zn.XhrIo=Mt}).apply("undefined"!==typeof Xn?Xn:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const er="@firebase/firestore",tr="4.7.8";class nr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nr.UNAUTHENTICATED=new nr(null),nr.GOOGLE_CREDENTIALS=new nr("google-credentials-uid"),nr.FIRST_PARTY=new nr("first-party-uid"),nr.MOCK_USER=new nr("mock-user");let rr="11.3.1";const ir=new wt("@firebase/firestore");function ar(){return ir.logLevel}function or(e){if(ir.logLevel<=gt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(cr);ir.debug(`Firestore (${rr}): ${e}`,...i)}}function sr(e){if(ir.logLevel<=gt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(cr);ir.error(`Firestore (${rr}): ${e}`,...i)}}function lr(e){if(ir.logLevel<=gt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(cr);ir.warn(`Firestore (${rr}): ${e}`,...i)}}function cr(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(Ty){return e}}function ur(){const e=`FIRESTORE (${rr}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw sr(e),new Error(e)}function dr(e,t){e||ur()}function hr(e,t){return e}const fr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pr extends Xe{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class mr{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(nr.UNAUTHENTICATED)))}shutdown(){}}class vr{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class br{constructor(e){this.t=e,this.currentUser=nr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){dr(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new gr,e.enqueueRetryable((()=>r(this.currentUser)))};const a=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{or("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(or("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new gr)}}),0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(or("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(dr("string"==typeof t.accessToken),new mr(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dr(null===e||"string"==typeof e),new nr(e)}}class wr{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=nr.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class _r{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new wr(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(nr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Er{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Cr{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Cn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){dr(void 0===this.o);const n=e=>{null!=e.error&&or("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,or("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{or("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):or("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.V)return Promise.resolve(new Er(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(dr("string"==typeof e.token),this.R=e.token,new Er(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Sr(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Tr{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Sr(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function xr(e,t){return e<t?-1:e>t?1:0}function Ir(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}const Ar=-62135596800,kr=1e6;class Pr{static now(){return Pr.fromMillis(Date.now())}static fromDate(e){return Pr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*kr);return new Pr(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pr(fr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pr(fr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Ar)throw new pr(fr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pr(fr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kr}_compareTo(e){return this.seconds===e.seconds?xr(this.nanoseconds,e.nanoseconds):xr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Ar;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Nr{static fromTimestamp(e){return new Nr(e)}static min(){return new Nr(new Pr(0,0))}static max(){return new Nr(new Pr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Dr="__name__";class Rr{constructor(e,t,n){void 0===t?t=0:t>e.length&&ur(),void 0===n?n=e.length-t:n>e.length-t&&ur(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Rr.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Rr?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Rr.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Math.sign(e.length-t.length)}static compareSegments(e,t){const n=Rr.isNumericId(e),r=Rr.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Rr.extractNumericId(e).compare(Rr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Bn.fromString(e.substring(4,e.length-2))}}class Or extends Rr{construct(e,t,n){return new Or(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new pr(fr.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new Or(e)}static emptyPath(){return new Or([])}}const Lr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mr extends Rr{construct(e,t,n){return new Mr(e,t,n)}static isValidIdentifier(e){return Lr.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Dr}static keyField(){return new Mr([Dr])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new pr(fr.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let a=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new pr(fr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new pr(fr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(a=!a,r++):"."!==t||a?(n+=t,r++):(i(),r++)}if(i(),a)throw new pr(fr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mr(t)}static emptyPath(){return new Mr([])}}class jr{constructor(e){this.path=e}static fromPath(e){return new jr(Or.fromString(e))}static fromName(e){return new jr(Or.fromString(e).popFirst(5))}static empty(){return new jr(Or.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Or.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Or.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new jr(new Or(e.slice()))}}const Fr=-1;class Ur{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Ur.UNKNOWN_ID=-1;function Br(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Nr.fromTimestamp(1e9===r?new Pr(n+1,0):new Pr(n,r));return new Hr(i,jr.empty(),t)}function Vr(e){return new Hr(e.readTime,e.key,Fr)}class Hr{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Hr(Nr.min(),jr.empty(),Fr)}static max(){return new Hr(Nr.max(),jr.empty(),Fr)}}function $r(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=jr.comparator(e.documentKey,t.documentKey),0!==n?n:xr(e.largestBatchId,t.largestBatchId))}const zr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Wr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function qr(e){if(e.code!==fr.FAILED_PRECONDITION||e.message!==zr)throw e;or("LocalStore","Unexpectedly lost primary lease")}class Gr{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ur(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Gr(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Gr?t:Gr.resolve(t)}catch(e){return Gr.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Gr.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Gr.reject(t)}static resolve(e){return new Gr(((t,n)=>{t(e)}))}static reject(e){return new Gr(((t,n)=>{n(e)}))}static waitFor(e){return new Gr(((t,n)=>{let r=0,i=0,a=!1;e.forEach((e=>{++r,e.next((()=>{++i,a&&i===r&&t()}),(e=>n(e)))})),a=!0,i===r&&t()}))}static or(e){let t=Gr.resolve(!1);for(const n of e)t=t.next((e=>e?Gr.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Gr(((n,r)=>{const i=e.length,a=new Array(i);let o=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next((e=>{a[l]=e,++o,o===i&&n(a)}),(e=>r(e)))}}))}static doWhile(e,t){return new Gr(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function Kr(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Qr(e){return"IndexedDbTransactionError"===e.name}class Yr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.oe(e),this._e=e=>t.writeSequenceNumber(e))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Yr.ae=-1;const Jr=-1;function Xr(e){return null==e}function Zr(e){return 0===e&&1/e==-1/0}function ei(e){return"number"==typeof e&&Number.isInteger(e)&&!Zr(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const ti="\x01";function ni(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=ii(t)),t=ri(e.get(n),t);return ii(t)}function ri(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case ti:n+="\x01\x11";break;default:n+=t}}return n}function ii(e){return e+ti+"\x01"}const ai="remoteDocuments",oi="owner",si="mutationQueues",li="mutations";const ci="documentMutations",ui="remoteDocumentsV14",di="remoteDocumentGlobal",hi="targets",fi="targetDocuments",pi="targetGlobal",gi="collectionParents",mi="clientMetadata",yi="bundles",vi="namedQueries",bi="indexConfiguration",wi="indexState",_i="indexEntries",Ei="documentOverlays",Ci="globals",Si=[si,li,ci,ai,hi,oi,pi,fi,mi,di,gi,yi,vi],Ti=[si,li,ci,ui,hi,oi,pi,fi,mi,di,gi,yi,vi,Ei],xi=Ti,Ii=[...xi,bi,wi,_i];function Ai(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ki(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Pi(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Ni{constructor(e,t){this.comparator=e,this.root=t||Ri.EMPTY}insert(e,t){return new Ni(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ri.BLACK,null,null))}remove(e){return new Ni(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ri.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Di(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Di(this.root,e,this.comparator,!1)}getReverseIterator(){return new Di(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Di(this.root,e,this.comparator,!0)}}class Di{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ri{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Ri.RED,this.left=null!=r?r:Ri.EMPTY,this.right=null!=i?i:Ri.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Ri(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ri.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ri.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ri.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ri.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ur();if(this.right.isRed())throw ur();const e=this.left.check();if(e!==this.right.check())throw ur();return e+(this.isRed()?0:1)}}Ri.EMPTY=null,Ri.RED=!0,Ri.BLACK=!1,Ri.EMPTY=new class{constructor(){this.size=0}get key(){throw ur()}get value(){throw ur()}get color(){throw ur()}get left(){throw ur()}get right(){throw ur()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Ri(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Oi{constructor(e){this.comparator=e,this.data=new Ni(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Li(this.data.getIterator())}getIteratorFrom(e){return new Li(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Oi))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Oi(this.comparator);return t.data=e,t}}class Li{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Mi{constructor(e){this.fields=e,e.sort(Mr.comparator)}static empty(){return new Mi([])}unionWith(e){let t=new Oi(Mr.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Mi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ir(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class ji extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Fi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ji("Invalid base64 string: "+e):e}}(e);return new Fi(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Fi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fi.EMPTY_BYTE_STRING=new Fi("");const Ui=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bi(e){if(dr(!!e),"string"==typeof e){let t=0;const n=Ui.exec(e);if(dr(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Vi(e.seconds),nanos:Vi(e.nanos)}}function Vi(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Hi(e){return"string"==typeof e?Fi.fromBase64String(e):Fi.fromUint8Array(e)}const $i="server_timestamp",zi="__type__",Wi="__previous_value__",qi="__local_write_time__";function Gi(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[zi])||void 0===n?void 0:n.stringValue)===$i}function Ki(e){const t=e.mapValue.fields[Wi];return Gi(t)?Ki(t):t}function Qi(e){const t=Bi(e.mapValue.fields[qi].timestampValue);return new Pr(t.seconds,t.nanos)}class Yi{constructor(e,t,n,r,i,a,o,s,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=s,this.useFetchStreams=l}}const Ji="(default)";class Xi{constructor(e,t){this.projectId=e,this.database=t||Ji}static empty(){return new Xi("","")}get isDefaultDatabase(){return this.database===Ji}isEqual(e){return e instanceof Xi&&e.projectId===this.projectId&&e.database===this.database}}const Zi="__type__",ea="__max__",ta={mapValue:{fields:{__type__:{stringValue:ea}}}},na="__vector__",ra="value";function ia(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Gi(e)?4:_a(e)?9007199254740991:ba(e)?10:11:ur()}function aa(e,t){if(e===t)return!0;const n=ia(e);if(n!==ia(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Qi(e).isEqual(Qi(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Bi(e.timestampValue),r=Bi(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Hi(e.bytesValue).isEqual(Hi(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Vi(e.geoPointValue.latitude)===Vi(t.geoPointValue.latitude)&&Vi(e.geoPointValue.longitude)===Vi(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Vi(e.integerValue)===Vi(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Vi(e.doubleValue),r=Vi(t.doubleValue);return n===r?Zr(n)===Zr(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ir(e.arrayValue.values||[],t.arrayValue.values||[],aa);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ai(n)!==Ai(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!aa(n[i],r[i])))return!1;return!0}(e,t);default:return ur()}}function oa(e,t){return void 0!==(e.values||[]).find((e=>aa(e,t)))}function sa(e,t){if(e===t)return 0;const n=ia(e),r=ia(t);if(n!==r)return xr(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xr(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Vi(e.integerValue||e.doubleValue),r=Vi(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return la(e.timestampValue,t.timestampValue);case 4:return la(Qi(e),Qi(t));case 5:return xr(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Hi(e),r=Hi(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=xr(n[i],r[i]);if(0!==e)return e}return xr(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=xr(Vi(e.latitude),Vi(t.latitude));return 0!==n?n:xr(Vi(e.longitude),Vi(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return ca(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,a;const o=e.fields||{},s=t.fields||{},l=null===(n=o[ra])||void 0===n?void 0:n.arrayValue,c=null===(r=s[ra])||void 0===r?void 0:r.arrayValue,u=xr((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(a=null==c?void 0:c.values)||void 0===a?void 0:a.length)||0);return 0!==u?u:ca(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===ta.mapValue&&t===ta.mapValue)return 0;if(e===ta.mapValue)return 1;if(t===ta.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let o=0;o<r.length&&o<a.length;++o){const e=xr(r[o],a[o]);if(0!==e)return e;const t=sa(n[r[o]],i[a[o]]);if(0!==t)return t}return xr(r.length,a.length)}(e.mapValue,t.mapValue);default:throw ur()}}function la(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return xr(e,t);const n=Bi(e),r=Bi(t),i=xr(n.seconds,r.seconds);return 0!==i?i:xr(n.nanos,r.nanos)}function ca(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=sa(n[i],r[i]);if(e)return e}return xr(n.length,r.length)}function ua(e){return da(e)}function da(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Bi(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Hi(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return jr.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=da(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${da(e.fields[i])}`;return n+"}"}(e.mapValue):ur()}function ha(e){switch(ia(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ki(e);return t?16+ha(t):16;case 5:return 2*e.stringValue.length;case 6:return Hi(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+ha(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return ki(e.fields,((e,n)=>{t+=e.length+ha(n)})),t}(e.mapValue);default:throw ur()}}function fa(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function pa(e){return!!e&&"integerValue"in e}function ga(e){return!!e&&"arrayValue"in e}function ma(e){return!!e&&"nullValue"in e}function ya(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function va(e){return!!e&&"mapValue"in e}function ba(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Zi])||void 0===n?void 0:n.stringValue)===na}function wa(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ki(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=wa(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=wa(e.arrayValue.values[n]);return t}return Object.assign({},e)}function _a(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===ea}class Ea{constructor(e){this.value=e}static empty(){return new Ea({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!va(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wa(t)}setAll(e){let t=Mr.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=wa(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());va(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return aa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];va(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){ki(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Ea(wa(this.value))}}function Ca(e){const t=[];return ki(e.fields,((e,n)=>{const r=new Mr([e]);if(va(n)){const e=Ca(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Mi(t)}class Sa{constructor(e,t,n,r,i,a,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Sa(e,0,Nr.min(),Nr.min(),Nr.min(),Ea.empty(),0)}static newFoundDocument(e,t,n,r){return new Sa(e,1,t,Nr.min(),n,r,0)}static newNoDocument(e,t){return new Sa(e,2,t,Nr.min(),Nr.min(),Ea.empty(),0)}static newUnknownDocument(e,t){return new Sa(e,3,t,Nr.min(),Nr.min(),Ea.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Nr.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ea.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ea.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Sa&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sa(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ta{constructor(e,t){this.position=e,this.inclusive=t}}function xa(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],o=e.position[i];if(r=a.field.isKeyField()?jr.comparator(jr.fromName(o.referenceValue),n.key):sa(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Ia(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!aa(e.position[n],t.position[n]))return!1;return!0}class Aa{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function ka(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Pa{}class Na extends Pa{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Ua(e,t,n):"array-contains"===t?new $a(e,n):"in"===t?new za(e,n):"not-in"===t?new Wa(e,n):"array-contains-any"===t?new qa(e,n):new Na(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Ba(e,n):new Va(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(sa(t,this.value)):null!==t&&ia(this.value)===ia(t)&&this.matchesComparison(sa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ur()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Da extends Pa{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Da(e,t)}matches(e){return Ra(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Ra(e){return"and"===e.op}function Oa(e){return La(e)&&Ra(e)}function La(e){for(const t of e.filters)if(t instanceof Da)return!1;return!0}function Ma(e){if(e instanceof Na)return e.field.canonicalString()+e.op.toString()+ua(e.value);if(Oa(e))return e.filters.map((e=>Ma(e))).join(",");{const t=e.filters.map((e=>Ma(e))).join(",");return`${e.op}(${t})`}}function ja(e,t){return e instanceof Na?function(e,t){return t instanceof Na&&e.op===t.op&&e.field.isEqual(t.field)&&aa(e.value,t.value)}(e,t):e instanceof Da?function(e,t){return t instanceof Da&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&ja(n,t.filters[r])),!0)}(e,t):void ur()}function Fa(e){return e instanceof Na?function(e){return`${e.field.canonicalString()} ${e.op} ${ua(e.value)}`}(e):e instanceof Da?function(e){return e.op.toString()+" {"+e.getFilters().map(Fa).join(" ,")+"}"}(e):"Filter"}class Ua extends Na{constructor(e,t,n){super(e,t,n),this.key=jr.fromName(n.referenceValue)}matches(e){const t=jr.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ba extends Na{constructor(e,t){super(e,"in",t),this.keys=Ha("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Va extends Na{constructor(e,t){super(e,"not-in",t),this.keys=Ha("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Ha(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>jr.fromName(e.referenceValue)))}class $a extends Na{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ga(t)&&oa(t.arrayValue,this.value)}}class za extends Na{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&oa(this.value.arrayValue,t)}}class Wa extends Na{constructor(e,t){super(e,"not-in",t)}matches(e){if(oa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!oa(this.value.arrayValue,t)}}class qa extends Na{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ga(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>oa(this.value.arrayValue,e)))}}class Ga{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=o,this.le=null}}function Ka(e){return new Ga(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Qa(e){const t=hr(e);if(null===t.le){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Ma(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Xr(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>ua(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>ua(e))).join(",")),t.le=e}return t.le}function Ya(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!ka(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!ja(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ia(e.startAt,t.startAt)&&Ia(e.endAt,t.endAt)}function Ja(e){return jr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Xa{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=s,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Za(e,t,n,r,i,a,o,s){return new Xa(e,t,n,r,i,a,o,s)}function eo(e){return new Xa(e)}function to(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function no(e){return null!==e.collectionGroup}function ro(e){const t=hr(e);if(null===t.he){t.he=[];const e=new Set;for(const i of t.explicitOrderBy)t.he.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Oi(Mr.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.he.push(new Aa(r,n))})),e.has(Mr.keyField().canonicalString())||t.he.push(new Aa(Mr.keyField(),n))}return t.he}function io(e){const t=hr(e);return t.Pe||(t.Pe=ao(t,ro(e))),t.Pe}function ao(e,t){if("F"===e.limitType)return Ka(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Aa(e.field,t)}));const n=e.endAt?new Ta(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ta(e.startAt.position,e.startAt.inclusive):null;return Ka(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function oo(e,t){const n=e.filters.concat([t]);return new Xa(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function so(e,t,n){return new Xa(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function lo(e,t){return Ya(io(e),io(t))&&e.limitType===t.limitType}function co(e){return`${Qa(io(e))}|lt:${e.limitType}`}function uo(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Fa(e))).join(", ")}]`),Xr(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>ua(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>ua(e))).join(",")),`Target(${t})`}(io(e))}; limitType=${e.limitType})`}function ho(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):jr.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of ro(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=xa(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,ro(e),t))&&!(e.endAt&&!function(e,t,n){const r=xa(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,ro(e),t))}(e,t)}function fo(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function po(e){return(t,n)=>{let r=!1;for(const i of ro(e)){const e=go(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function go(e,t,n){const r=e.field.isKeyField()?jr.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?sa(r,i):ur()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ur()}}class mo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ki(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Pi(this.inner)}size(){return this.innerSize}}const yo=new Ni(jr.comparator);function vo(){return yo}const bo=new Ni(jr.comparator);function wo(){let e=bo;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function _o(e){let t=bo;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Eo(){return So()}function Co(){return So()}function So(){return new mo((e=>e.toString()),((e,t)=>e.isEqual(t)))}const To=new Ni(jr.comparator),xo=new Oi(jr.comparator);function Io(){let e=xo;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Ao=new Oi(xr);function ko(){return Ao}function Po(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zr(t)?"-0":t}}function No(e){return{integerValue:""+e}}function Do(e,t){return ei(t)?No(t):Po(e,t)}class Ro{constructor(){this._=void 0}}function Oo(e,t,n){return e instanceof jo?function(e,t){const n={fields:{[zi]:{stringValue:$i},[qi]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Gi(t)&&(t=Ki(t)),t&&(n.fields[Wi]=t),{mapValue:n}}(n,t):e instanceof Fo?Uo(e,t):e instanceof Bo?Vo(e,t):function(e,t){const n=Mo(e,t),r=$o(n)+$o(e.Ie);return pa(n)&&pa(e.Ie)?No(r):Po(e.serializer,r)}(e,t)}function Lo(e,t,n){return e instanceof Fo?Uo(e,t):e instanceof Bo?Vo(e,t):n}function Mo(e,t){return e instanceof Ho?function(e){return pa(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class jo extends Ro{}class Fo extends Ro{constructor(e){super(),this.elements=e}}function Uo(e,t){const n=zo(t);for(const r of e.elements)n.some((e=>aa(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Bo extends Ro{constructor(e){super(),this.elements=e}}function Vo(e,t){let n=zo(t);for(const r of e.elements)n=n.filter((e=>!aa(e,r)));return{arrayValue:{values:n}}}class Ho extends Ro{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function $o(e){return Vi(e.integerValue||e.doubleValue)}function zo(e){return ga(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Wo{constructor(e,t){this.version=e,this.transformResults=t}}class qo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new qo}static exists(e){return new qo(void 0,e)}static updateTime(e){return new qo(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Go(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Ko{}function Qo(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new as(e.key,qo.none()):new es(e.key,e.data,qo.none());{const n=e.data,r=Ea.empty();let i=new Oi(Mr.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new ts(e.key,r,new Mi(i.toArray()),qo.none())}}function Yo(e,t,n){e instanceof es?function(e,t,n){const r=e.value.clone(),i=rs(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ts?function(e,t,n){if(!Go(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=rs(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(ns(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Jo(e,t,n,r){return e instanceof es?function(e,t,n,r){if(!Go(e.precondition,t))return n;const i=e.value.clone(),a=is(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof ts?function(e,t,n,r){if(!Go(e.precondition,t))return n;const i=is(e.fieldTransforms,r,t),a=t.data;return a.setAll(ns(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Go(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Xo(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Mo(r.transform,e||null);null!=i&&(null===n&&(n=Ea.empty()),n.set(r.field,i))}return n||null}function Zo(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ir(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Fo&&t instanceof Fo||e instanceof Bo&&t instanceof Bo?Ir(e.elements,t.elements,aa):e instanceof Ho&&t instanceof Ho?aa(e.Ie,t.Ie):e instanceof jo&&t instanceof jo}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class es extends Ko{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ts extends Ko{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function ns(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function rs(e,t,n){const r=new Map;dr(e.length===n.length);for(let i=0;i<n.length;i++){const a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Lo(o,s,n[i]))}return r}function is(e,t,n){const r=new Map;for(const i of e){const e=i.transform,a=n.data.field(i.field);r.set(i.field,Oo(e,a,t))}return r}class as extends Ko{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class os extends Ko{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ss{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Yo(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Jo(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Jo(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Co();return this.mutations.forEach((r=>{const i=e.get(r.key),a=i.overlayedDocument;let o=this.applyToLocalView(a,i.mutatedFields);o=t.has(r.key)?null:o;const s=Qo(a,o);null!==s&&n.set(r.key,s),a.isValidDocument()||a.convertToNoDocument(Nr.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Io())}isEqual(e){return this.batchId===e.batchId&&Ir(this.mutations,e.mutations,((e,t)=>Zo(e,t)))&&Ir(this.baseMutations,e.baseMutations,((e,t)=>Zo(e,t)))}}class ls{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){dr(e.mutations.length===n.length);let r=To;const i=e.mutations;for(let a=0;a<i.length;a++)r=r.insert(i[a].key,n[a].version);return new ls(e,t,n,r)}}class cs{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class us{constructor(e,t){this.count=e,this.unchangedNames=t}}var ds,hs;function fs(e){switch(e){case fr.OK:return ur();case fr.CANCELLED:case fr.UNKNOWN:case fr.DEADLINE_EXCEEDED:case fr.RESOURCE_EXHAUSTED:case fr.INTERNAL:case fr.UNAVAILABLE:case fr.UNAUTHENTICATED:return!1;case fr.INVALID_ARGUMENT:case fr.NOT_FOUND:case fr.ALREADY_EXISTS:case fr.PERMISSION_DENIED:case fr.FAILED_PRECONDITION:case fr.ABORTED:case fr.OUT_OF_RANGE:case fr.UNIMPLEMENTED:case fr.DATA_LOSS:return!0;default:return ur()}}function ps(e){if(void 0===e)return sr("GRPC error has no .code"),fr.UNKNOWN;switch(e){case ds.OK:return fr.OK;case ds.CANCELLED:return fr.CANCELLED;case ds.UNKNOWN:return fr.UNKNOWN;case ds.DEADLINE_EXCEEDED:return fr.DEADLINE_EXCEEDED;case ds.RESOURCE_EXHAUSTED:return fr.RESOURCE_EXHAUSTED;case ds.INTERNAL:return fr.INTERNAL;case ds.UNAVAILABLE:return fr.UNAVAILABLE;case ds.UNAUTHENTICATED:return fr.UNAUTHENTICATED;case ds.INVALID_ARGUMENT:return fr.INVALID_ARGUMENT;case ds.NOT_FOUND:return fr.NOT_FOUND;case ds.ALREADY_EXISTS:return fr.ALREADY_EXISTS;case ds.PERMISSION_DENIED:return fr.PERMISSION_DENIED;case ds.FAILED_PRECONDITION:return fr.FAILED_PRECONDITION;case ds.ABORTED:return fr.ABORTED;case ds.OUT_OF_RANGE:return fr.OUT_OF_RANGE;case ds.UNIMPLEMENTED:return fr.UNIMPLEMENTED;case ds.DATA_LOSS:return fr.DATA_LOSS;default:return ur()}}(hs=ds||(ds={}))[hs.OK=0]="OK",hs[hs.CANCELLED=1]="CANCELLED",hs[hs.UNKNOWN=2]="UNKNOWN",hs[hs.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hs[hs.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hs[hs.NOT_FOUND=5]="NOT_FOUND",hs[hs.ALREADY_EXISTS=6]="ALREADY_EXISTS",hs[hs.PERMISSION_DENIED=7]="PERMISSION_DENIED",hs[hs.UNAUTHENTICATED=16]="UNAUTHENTICATED",hs[hs.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hs[hs.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hs[hs.ABORTED=10]="ABORTED",hs[hs.OUT_OF_RANGE=11]="OUT_OF_RANGE",hs[hs.UNIMPLEMENTED=12]="UNIMPLEMENTED",hs[hs.INTERNAL=13]="INTERNAL",hs[hs.UNAVAILABLE=14]="UNAVAILABLE",hs[hs.DATA_LOSS=15]="DATA_LOSS";let gs=null;function ms(){return new TextEncoder}const ys=new Bn([4294967295,4294967295],0);function vs(e){const t=ms().encode(e),n=new Vn;return n.update(t),new Uint8Array(n.digest())}function bs(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Bn([n,r],0),new Bn([i,a],0)]}class ws{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new _s(`Invalid padding: ${t}`);if(n<0)throw new _s(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new _s(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new _s(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Bn.fromNumber(this.Ee)}Ae(e,t,n){let r=e.add(t.multiply(Bn.fromNumber(n)));return 1===r.compare(ys)&&(r=new Bn([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ee)return!1;const t=vs(e),[n,r]=bs(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);if(!this.Re(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new ws(i,r,t);return n.forEach((e=>a.insert(e))),a}insert(e){if(0===this.Ee)return;const t=vs(e),[n,r]=bs(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);this.Ve(e)}}Ve(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class _s extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Es{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Cs.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Es(Nr.min(),r,new Ni(xr),vo(),Io())}}class Cs{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Cs(n,t,Io(),Io(),Io())}}class Ss{constructor(e,t,n,r){this.me=e,this.removedTargetIds=t,this.key=n,this.fe=r}}class Ts{constructor(e,t){this.targetId=e,this.ge=t}}class xs{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fi.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Is{constructor(){this.pe=0,this.ye=Ps(),this.we=Fi.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return 0!==this.pe}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Io(),t=Io(),n=Io();return this.ye.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ur()}})),new Cs(this.we,this.Se,e,t,n)}Me(){this.be=!1,this.ye=Ps()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,dr(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class As{constructor(e){this.ke=e,this.qe=new Map,this.Qe=vo(),this.$e=ks(),this.Ke=ks(),this.Ue=new Ni(xr)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,(t=>{const n=this.He(t);switch(e.state){case 0:this.Je(t)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(t);break;case 3:this.Je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),n.Ce(e.resumeToken));break;default:ur()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach(((e,n)=>{this.Je(n)&&t(n)}))}Ze(e){const t=e.targetId,n=e.ge.count,r=this.Xe(t);if(r){const i=r.target;if(Ja(i))if(0===n){const e=new jr(i.path);this.ze(t,e,Sa.newNoDocument(e,Nr.min()))}else dr(1===n);else{const r=this.et(t);if(r!==n){const n=this.tt(e),i=n?this.nt(n,e,r):1;if(0!==i){this.Ye(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,e)}null==gs||gs.rt(function(e,t,n,r,i){var a,o,s,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(a=null==h?void 0:h.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(l=null===(s=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===s?void 0:s.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.ge,this.ke.it(),n,i))}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let a,o;try{a=Hi(n).toUint8Array()}catch(e){if(e instanceof ji)return lr("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new ws(a,r,i)}catch(e){return lr(e instanceof _s?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Ee?null:o}nt(e,t,n){return t.ge.count===n-this.st(e,t.targetId)?0:2}st(e,t){const n=this.ke.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.ke.it(),a=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(a)||(this.ze(t,n,null),r++)})),r}ot(e){const t=new Map;this.qe.forEach(((n,r)=>{const i=this.Xe(r);if(i){if(n.current&&Ja(i.target)){const t=new jr(i.target.path);this._t(t).has(r)||this.ut(r,t)||this.ze(r,t,Sa.newNoDocument(t,e))}n.ve&&(t.set(r,n.Fe()),n.Me())}}));let n=Io();this.Ke.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Xe(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.Qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Es(e,t,this.Ue,this.Qe,n);return this.Qe=vo(),this.$e=ks(),this.Ke=ks(),this.Ue=new Ni(xr),r}Ge(e,t){if(!this.Je(e))return;const n=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,n),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,n){if(!this.Je(e))return;const r=this.He(e);this.ut(e,t)?r.xe(t,1):r.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),n&&(this.Qe=this.Qe.insert(t,n))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Is,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Oi(xr),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Oi(xr),this.$e=this.$e.insert(e,t)),t}Je(e){const t=null!==this.Xe(e);return t||or("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Is),this.ke.getRemoteKeysForTarget(e).forEach((t=>{this.ze(e,t,null)}))}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function ks(){return new Ni(jr.comparator)}function Ps(){return new Ni(jr.comparator)}const Ns={asc:"ASCENDING",desc:"DESCENDING"},Ds={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Rs={and:"AND",or:"OR"};class Os{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ls(e,t){return e.useProto3Json||Xr(t)?t:{value:t}}function Ms(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function js(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Fs(e,t){return Ms(e,t.toTimestamp())}function Us(e){return dr(!!e),Nr.fromTimestamp(function(e){const t=Bi(e);return new Pr(t.seconds,t.nanos)}(e))}function Bs(e,t){return Vs(e,t).canonicalString()}function Vs(e,t){const n=function(e){return new Or(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Hs(e){const t=Or.fromString(e);return dr(ll(t)),t}function $s(e,t){return Bs(e.databaseId,t.path)}function zs(e,t){const n=Hs(t);if(n.get(1)!==e.databaseId.projectId)throw new pr(fr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new pr(fr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new jr(Ks(n))}function Ws(e,t){return Bs(e.databaseId,t)}function qs(e){const t=Hs(e);return 4===t.length?Or.emptyPath():Ks(t)}function Gs(e){return new Or(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ks(e){return dr(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Qs(e,t,n){return{name:$s(e,t),fields:n.value.mapValue.fields}}function Ys(e,t){let n;if(t instanceof es)n={update:Qs(e,t.key,t.value)};else if(t instanceof as)n={delete:$s(e,t.key)};else if(t instanceof ts)n={update:Qs(e,t.key,t.data),updateMask:sl(t.fieldMask)};else{if(!(t instanceof os))return ur();n={verify:$s(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof jo)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Fo)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Bo)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ho)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw ur()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Fs(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ur()}(e,t.precondition)),n}function Js(e,t){return{documents:[Ws(e,t.path)]}}function Xs(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ws(e,i);const a=function(e){if(0!==e.length)return ol(Da.create(e,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:il(e.field),direction:tl(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=Ls(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ht:n,parent:i}}function Zs(e){let t=qs(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){dr(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){const t=el(e);return t instanceof Da&&Oa(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new Aa(al(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,Xr(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Ta(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Ta(n,t)}(n.endAt)),Za(t,i,o,a,s,"F",l,c)}function el(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=al(e.unaryFilter.field);return Na.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=al(e.unaryFilter.field);return Na.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=al(e.unaryFilter.field);return Na.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=al(e.unaryFilter.field);return Na.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ur()}}(e):void 0!==e.fieldFilter?function(e){return Na.create(al(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ur()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Da.create(e.compositeFilter.filters.map((e=>el(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ur()}}(e.compositeFilter.op))}(e):ur()}function tl(e){return Ns[e]}function nl(e){return Ds[e]}function rl(e){return Rs[e]}function il(e){return{fieldPath:e.canonicalString()}}function al(e){return Mr.fromServerFormat(e.fieldPath)}function ol(e){return e instanceof Na?function(e){if("=="===e.op){if(ya(e.value))return{unaryFilter:{field:il(e.field),op:"IS_NAN"}};if(ma(e.value))return{unaryFilter:{field:il(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ya(e.value))return{unaryFilter:{field:il(e.field),op:"IS_NOT_NAN"}};if(ma(e.value))return{unaryFilter:{field:il(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:il(e.field),op:nl(e.op),value:e.value}}}(e):e instanceof Da?function(e){const t=e.getFilters().map((e=>ol(e)));return 1===t.length?t[0]:{compositeFilter:{op:rl(e.op),filters:t}}}(e):ur()}function sl(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function ll(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class cl{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Nr.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Nr.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Fi.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=s}withSequenceNumber(e){return new cl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new cl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ul{constructor(e){this.Tt=e}}function dl(e){const t=Zs({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?so(t,t.limit,"L"):t}class hl{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(Vi(e.integerValue));else if("doubleValue"in e){const n=Vi(e.doubleValue);isNaN(n)?this.ft(t,13):(this.ft(t,15),Zr(n)?t.gt(0):t.gt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.ft(t,20),"string"==typeof n&&(n=Bi(n)),t.yt(`${n.seconds||""}`),t.gt(n.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.St(t);else if("bytesValue"in e)this.ft(t,30),t.bt(Hi(e.bytesValue)),this.St(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ft(t,45),t.gt(n.latitude||0),t.gt(n.longitude||0)}else"mapValue"in e?_a(e)?this.ft(t,Number.MAX_SAFE_INTEGER):ba(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.St(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.St(t)):ur()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const n=e.fields||{};this.ft(t,55);for(const r of Object.keys(n))this.wt(r,t),this.Rt(n[r],t)}vt(e,t){var n,r;const i=e.fields||{};this.ft(t,53);const a=ra,o=(null===(r=null===(n=i[a].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.ft(t,15),t.gt(Vi(o)),this.wt(a,t),this.Rt(i[a],t)}Ft(e,t){const n=e.values||[];this.ft(t,50);for(const r of n)this.Rt(r,t)}Dt(e,t){this.ft(t,37),jr.fromName(e).path.forEach((e=>{this.ft(t,60),this.Mt(e,t)}))}ft(e,t){e.gt(t)}St(e){e.gt(2)}}hl.xt=new hl;class fl{constructor(){this.Tn=new pl}addToCollectionParentIndex(e,t){return this.Tn.add(t),Gr.resolve()}getCollectionParents(e,t){return Gr.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Gr.resolve()}deleteFieldIndex(e,t){return Gr.resolve()}deleteAllFieldIndexes(e){return Gr.resolve()}createTargetIndexes(e,t){return Gr.resolve()}getDocumentsMatchingTarget(e,t){return Gr.resolve(null)}getIndexType(e,t){return Gr.resolve(0)}getFieldIndexes(e,t){return Gr.resolve([])}getNextCollectionGroupToUpdate(e){return Gr.resolve(null)}getMinOffset(e,t){return Gr.resolve(Hr.min())}getMinOffsetFromCollectionGroup(e,t){return Gr.resolve(Hr.min())}updateCollectionGroup(e,t,n){return Gr.resolve()}updateIndexEntries(e,t){return Gr.resolve()}}class pl{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Oi(Or.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Oi(Or.comparator)).toArray()}}new Uint8Array(0);const gl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ml=41943040;class yl{static withCacheSize(e){return new yl(e,yl.DEFAULT_COLLECTION_PERCENTILE,yl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}yl.DEFAULT_COLLECTION_PERCENTILE=10,yl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yl.DEFAULT=new yl(ml,yl.DEFAULT_COLLECTION_PERCENTILE,yl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yl.DISABLED=new yl(-1,0,0);class vl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new vl(0)}static Un(){return new vl(-1)}}const bl="LruGarbageCollector",wl=1048576;function _l(e,t){let[n,r]=e,[i,a]=t;const o=xr(n,i);return 0===o?xr(r,a):o}class El{constructor(e){this.Hn=e,this.buffer=new Oi(_l),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();_l(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Cl{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Xn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return null!==this.Xn}er(e){or(bl,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Qr(e)?or(bl,"Ignoring IndexedDB error during garbage collection: ",e):await qr(e)}await this.er(3e5)}))}}class Sl{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Gr.resolve(Yr.ae);const n=new El(t);return this.tr.forEachTarget(e,(e=>n.Zn(e.sequenceNumber))).next((()=>this.tr.rr(e,(e=>n.Zn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.tr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(or("LruGarbageCollector","Garbage collection skipped; disabled"),Gr.resolve(gl)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(or("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gl):this.ir(e,t)))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let n,r,i,a,o,s,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(or("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),ar()<=gt.DEBUG&&or("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${a-c}ms\n\tDetermined least recently used ${r} in `+(o-a)+"ms\n"+`\tRemoved ${i} targets in `+(s-o)+"ms\n"+`\tRemoved ${e} documents in `+(l-s)+"ms\n"+`Total Duration: ${l-c}ms`),Gr.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function Tl(e,t){return new Sl(e,t)}class xl{constructor(){this.changes=new mo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Sa.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Gr.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Il{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Al{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Jo(n.mutation,e,Mi.empty(),Pr.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Io()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Io();const r=Eo();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=wo();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Eo();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Io())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=vo();const a=So(),o=So();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof ts)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Jo(o.mutation,t,o.mutation.getFieldMask(),Pr.now())):a.set(t.key,Mi.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>a.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new Il(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=So();let r=new Ni(((e,t)=>e-t)),i=Io();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const a=t.get(e);if(null===a)return;let o=n.get(e)||Mi.empty();o=i.applyToLocalView(a,o),n.set(e,o);const s=(r.get(i.batchId)||Io()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{const a=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),s=r.key,l=r.value,c=Co();l.forEach((e=>{if(!i.has(e)){const r=Qo(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),a.push(this.documentOverlayCache.saveOverlays(e,s,c))}return Gr.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return jr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):no(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Gr.resolve(Eo());let o=Fr,s=i;return a.next((t=>Gr.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?Gr.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,Io()))).next((e=>({batchId:o,changes:_o(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new jr(t)).next((e=>{let t=wo();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let a=wo();return this.indexManager.getCollectionParents(e,i).next((o=>Gr.forEach(o,(o=>{const s=function(e,t){return new Xa(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next((e=>{e.forEach(((e,t)=>{a=a.insert(e,t)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Sa.newInvalidDocument(r)))}));let n=wo();return e.forEach(((e,r)=>{const a=i.get(e);void 0!==a&&Jo(a.mutation,r,Mi.empty(),Pr.now()),ho(t,r)&&(n=n.insert(e,r))})),n}))}}class kl{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Gr.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Us(e.createTime)}}(t)),Gr.resolve()}getNamedQuery(e,t){return Gr.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(e){return{name:e.name,query:dl(e.bundledQuery),readTime:Us(e.readTime)}}(t)),Gr.resolve()}}class Pl{constructor(){this.overlays=new Ni(jr.comparator),this.Rr=new Map}getOverlay(e,t){return Gr.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Eo();return Gr.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.Et(e,t,r)})),Gr.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Rr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Rr.delete(n)),Gr.resolve()}getOverlaysForCollection(e,t,n){const r=Eo(),i=t.length+1,a=new jr(t.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const e=o.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Gr.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Ni(((e,t)=>e-t));const a=this.overlays.getIterator();for(;a.hasNext();){const e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Eo(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Eo(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return Gr.resolve(o)}Et(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Rr.get(r.largestBatchId).delete(n.key);this.Rr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new cs(t,n));let i=this.Rr.get(t);void 0===i&&(i=Io(),this.Rr.set(t,i)),this.Rr.set(t,i.add(n.key))}}class Nl{constructor(){this.sessionToken=Fi.EMPTY_BYTE_STRING}getSessionToken(e){return Gr.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Gr.resolve()}}class Dl{constructor(){this.Vr=new Oi(Rl.mr),this.gr=new Oi(Rl.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const n=new Rl(e,t);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.wr(new Rl(e,t))}Sr(e,t){e.forEach((e=>this.removeReference(e,t)))}br(e){const t=new jr(new Or([])),n=new Rl(t,e),r=new Rl(t,e+1),i=[];return this.gr.forEachInRange([n,r],(e=>{this.wr(e),i.push(e.key)})),i}Dr(){this.Vr.forEach((e=>this.wr(e)))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new jr(new Or([])),n=new Rl(t,e),r=new Rl(t,e+1);let i=Io();return this.gr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Rl(e,0),n=this.Vr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Rl{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return jr.comparator(e.key,t.key)||xr(e.Cr,t.Cr)}static pr(e,t){return xr(e.Cr,t.Cr)||jr.comparator(e.key,t.key)}}class Ol{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Oi(Rl.mr)}checkEmpty(e){return Gr.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new ss(i,t,n,r);this.mutationQueue.push(a);for(const o of r)this.Mr=this.Mr.add(new Rl(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Gr.resolve(a)}lookupMutationBatch(e,t){return Gr.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Nr(n),i=r<0?0:r;return Gr.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Gr.resolve(0===this.mutationQueue.length?Jr:this.Fr-1)}getAllMutationBatches(e){return Gr.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Rl(t,0),r=new Rl(t,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([n,r],(e=>{const t=this.Or(e.Cr);i.push(t)})),Gr.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Oi(xr);return t.forEach((e=>{const t=new Rl(e,0),r=new Rl(e,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([t,r],(e=>{n=n.add(e.Cr)}))})),Gr.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;jr.isDocumentKey(i)||(i=i.child(""));const a=new Rl(new jr(i),0);let o=new Oi(xr);return this.Mr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Cr)),!0)}),a),Gr.resolve(this.Br(o))}Br(e){const t=[];return e.forEach((e=>{const n=this.Or(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){dr(0===this.Lr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Mr;return Gr.forEach(t.mutations,(r=>{const i=new Rl(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Mr=n}))}qn(e){}containsKey(e,t){const n=new Rl(t,0),r=this.Mr.firstAfterOrEqual(n);return Gr.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Gr.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Ll{constructor(e){this.kr=e,this.docs=new Ni(jr.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.kr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Gr.resolve(n?n.document.mutableCopy():Sa.newInvalidDocument(t))}getEntries(e,t){let n=vo();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Sa.newInvalidDocument(e))})),Gr.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=vo();const a=t.path,o=new jr(a.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){const{key:e,value:{document:o}}=s.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||$r(Vr(o),n)<=0||(r.has(o.key)||ho(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return Gr.resolve(i)}getAllFromCollectionGroup(e,t,n,r){ur()}qr(e,t){return Gr.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Ml(this)}getSize(e){return Gr.resolve(this.size)}}class Ml extends xl{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Ir.addEntry(e,r)):this.Ir.removeEntry(n)})),Gr.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}class jl{constructor(e){this.persistence=e,this.Qr=new mo((e=>Qa(e)),Ya),this.lastRemoteSnapshotVersion=Nr.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Dl,this.targetCount=0,this.Ur=vl.Kn()}forEachTarget(e,t){return this.Qr.forEach(((e,n)=>t(n))),Gr.resolve()}getLastRemoteSnapshotVersion(e){return Gr.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Gr.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Gr.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$r&&(this.$r=t),Gr.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new vl(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Gr.resolve()}updateTargetData(e,t){return this.zn(t),Gr.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,Gr.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Qr.forEach(((a,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Qr.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),Gr.waitFor(i).next((()=>r))}getTargetCount(e){return Gr.resolve(this.targetCount)}getTargetData(e,t){const n=this.Qr.get(t)||null;return Gr.resolve(n)}addMatchingKeys(e,t,n){return this.Kr.yr(t,n),Gr.resolve()}removeMatchingKeys(e,t,n){this.Kr.Sr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Gr.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),Gr.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Kr.vr(t);return Gr.resolve(n)}containsKey(e,t){return Gr.resolve(this.Kr.containsKey(t))}}class Fl{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Yr(0),this.zr=!1,this.zr=!0,this.jr=new Nl,this.referenceDelegate=e(this),this.Hr=new jl(this),this.indexManager=new fl,this.remoteDocumentCache=function(e){return new Ll(e)}((e=>this.referenceDelegate.Jr(e))),this.serializer=new ul(t),this.Yr=new kl(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Pl,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Wr[e.toKey()];return n||(n=new Ol(t,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,n){or("MemoryPersistence","Starting transaction:",e);const r=new Ul(this.Gr.next());return this.referenceDelegate.Zr(),n(r).next((e=>this.referenceDelegate.Xr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}ei(e,t){return Gr.or(Object.values(this.Wr).map((n=>()=>n.containsKey(e,t))))}}class Ul extends Wr{constructor(e){super(),this.currentSequenceNumber=e}}class Bl{constructor(e){this.persistence=e,this.ti=new Dl,this.ni=null}static ri(e){return new Bl(e)}get ii(){if(this.ni)return this.ni;throw ur()}addReference(e,t,n){return this.ti.addReference(n,t),this.ii.delete(n.toString()),Gr.resolve()}removeReference(e,t,n){return this.ti.removeReference(n,t),this.ii.add(n.toString()),Gr.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Gr.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach((e=>this.ii.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.ii.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Gr.forEach(this.ii,(n=>{const r=jr.fromPath(n);return this.si(e,r).next((e=>{e||t.removeEntry(r,Nr.min())}))})).next((()=>(this.ni=null,t.apply(e))))}updateLimboDocument(e,t){return this.si(e,t).next((e=>{e?this.ii.delete(t.toString()):this.ii.add(t.toString())}))}Jr(e){return 0}si(e,t){return Gr.or([()=>Gr.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Vl{constructor(e,t){this.persistence=e,this.oi=new mo((e=>ni(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Tl(this,t)}static ri(e,t){return new Vl(e,t)}Zr(){}Xr(e){return Gr.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}sr(e){let t=0;return this.rr(e,(e=>{t++})).next((()=>t))}rr(e,t){return Gr.forEach(this.oi,((n,r)=>this.ar(e,n,r).next((e=>e?Gr.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.qr(e,(r=>this.ar(e,r,t).next((e=>{e||(n++,i.removeEntry(r,Nr.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Gr.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),Gr.resolve()}removeReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),Gr.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Gr.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ha(e.data.value)),t}ar(e,t,n){return Gr.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.oi.get(t);return Gr.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Hl{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Hi=n,this.Ji=r}static Yi(e,t){let n=Io(),r=Io();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Hl(e,t.fromCache,n,r)}}class $l{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class zl{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=Qe()?8:Kr(Ge())>0?6:4}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.rs(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ss(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new $l;return this._s(e,t,n).next((r=>{if(i.result=r,this.Xi)return this.us(e,t,n,r.size)}))})).next((()=>i.result))}us(e,t,n,r){return n.documentReadCount<this.es?(ar()<=gt.DEBUG&&or("QueryEngine","SDK will not create cache indexes for query:",uo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Gr.resolve()):(ar()<=gt.DEBUG&&or("QueryEngine","Query:",uo(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ts*r?(ar()<=gt.DEBUG&&or("QueryEngine","The SDK decides to create cache indexes for query:",uo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,io(t))):Gr.resolve())}rs(e,t){if(to(t))return Gr.resolve(null);let n=io(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=so(t,null,"F"),n=io(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Io(...r);return this.ns.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const a=this.cs(t,r);return this.ls(t,a,i,n.readTime)?this.rs(e,so(t,null,"F")):this.hs(e,a,t,n)}))))})))))}ss(e,t,n,r){return to(t)||r.isEqual(Nr.min())?Gr.resolve(null):this.ns.getDocuments(e,n).next((i=>{const a=this.cs(t,i);return this.ls(t,a,n,r)?Gr.resolve(null):(ar()<=gt.DEBUG&&or("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),uo(t)),this.hs(e,a,t,Br(r,Fr)).next((e=>e)))}))}cs(e,t){let n=new Oi(po(e));return t.forEach(((t,r)=>{ho(e,r)&&(n=n.add(r))})),n}ls(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}_s(e,t,n){return ar()<=gt.DEBUG&&or("QueryEngine","Using full collection scan to execute query:",uo(t)),this.ns.getDocumentsMatchingQuery(e,t,Hr.min(),n)}hs(e,t,n,r){return this.ns.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const Wl="LocalStore";class ql{constructor(e,t,n,r){this.persistence=e,this.Ps=t,this.serializer=r,this.Ts=new Ni(xr),this.Is=new mo((e=>Qa(e)),Ya),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Al(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ts)))}}function Gl(e,t,n,r){return new ql(e,t,n,r)}async function Kl(e,t){const n=hr(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.As(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],a=[];let o=Io();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){a.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({Rs:e,removedBatchIds:i,addedBatchIds:a})))}))}))}function Ql(e){const t=hr(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Hr.getLastRemoteSnapshotVersion(e)))}function Yl(e,t,n){let r=Io(),i=Io();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=vo();return n.forEach(((n,a)=>{const o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Nr.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):or(Wl,"Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Vs:r,fs:i}}))}function Jl(e,t){const n=hr(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=Jr),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Xl(e,t){const n=hr(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Hr.getTargetData(e,t).next((i=>i?(r=i,Gr.resolve(r)):n.Hr.allocateTargetId(e).next((i=>(r=new cl(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Hr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(e.targetId,e),n.Is.set(t,e.targetId)),e}))}async function Zl(e,t,n){const r=hr(e),i=r.Ts.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Qr(e))throw e;or(Wl,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ts=r.Ts.remove(t),r.Is.delete(i.target)}function ec(e,t,n){const r=hr(e);let i=Nr.min(),a=Io();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=hr(e),i=r.Is.get(n);return void 0!==i?Gr.resolve(r.Ts.get(i)):r.Hr.getTargetData(t,n)}(r,e,io(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{a=e}))})).next((()=>r.Ps.getDocumentsMatchingQuery(e,t,n?i:Nr.min(),n?a:Io()))).next((e=>(tc(r,fo(t),e),{documents:e,gs:a})))))}function tc(e,t,n){let r=e.Es.get(t)||Nr.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Es.set(t,r)}class nc{constructor(){this.activeTargetIds=ko()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rc{constructor(){this.ho=new nc,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,n){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new nc,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ic{To(e){}shutdown(){}}const ac="ConnectivityMonitor";class oc{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){or(ac,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){or(ac,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let sc=null;function lc(){return null===sc?sc=268435456+Math.round(2147483648*Math.random()):sc++,"0x"+sc.toString(16)}const cc="RestConnection",uc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dc{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${n}/databases/${r}`,this.wo=this.databaseId.database===Ji?`project_id=${n}`:`project_id=${n}&database_id=${r}`}So(e,t,n,r,i){const a=lc(),o=this.bo(e,t.toUriEncodedString());or(cc,`Sending RPC '${e}' ${a}:`,o,n);const s={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(s,r,i),this.vo(e,o,s,n).then((t=>(or(cc,`Received RPC '${e}' ${a}: `,t),t)),(t=>{throw lr(cc,`RPC '${e}' ${a} failed with error: `,t,"url: ",o,"request:",n),t}))}Co(e,t,n,r,i,a){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+rr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=uc[e];return`${this.po}/v1/${t}:${n}`}terminate(){}}class hc{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}const fc="WebChannelConnection";class pc extends dc{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,n,r){const i=lc();return new Promise(((a,o)=>{const s=new zn;s.setWithCredentials(!0),s.listenOnce(qn.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case Gn.NO_ERROR:const t=s.getResponseJson();or(fc,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),a(t);break;case Gn.TIMEOUT:or(fc,`RPC '${e}' ${i} timed out`),o(new pr(fr.DEADLINE_EXCEEDED,"Request time out"));break;case Gn.HTTP_ERROR:const n=s.getStatus();if(or(fc,`RPC '${e}' ${i} failed with status:`,n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(fr).indexOf(t)>=0?t:fr.UNKNOWN}(t.status);o(new pr(e,t.message))}else o(new pr(fr.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new pr(fr.UNAVAILABLE,"Connection failed."));break;default:ur()}}finally{or(fc,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);or(fc,`RPC '${e}' ${i} sending request:`,r),s.send(t,"POST",l,n,15)}))}Wo(e,t,n){const r=lc(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Jn(),o=Yn(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Do(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");or(fc,`Creating RPC '${e}' stream ${r}: ${c}`,s);const u=a.createWebChannel(c,s);let d=!1,h=!1;const f=new hc({Fo:t=>{h?or(fc,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(or(fc,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),or(fc,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Mo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Wn.EventType.OPEN,(()=>{h||(or(fc,`RPC '${e}' stream ${r} transport opened.`),f.Qo())})),p(u,Wn.EventType.CLOSE,(()=>{h||(h=!0,or(fc,`RPC '${e}' stream ${r} transport closed`),f.Ko())})),p(u,Wn.EventType.ERROR,(t=>{h||(h=!0,lr(fc,`RPC '${e}' stream ${r} transport errored:`,t),f.Ko(new pr(fr.UNAVAILABLE,"The operation could not be completed")))})),p(u,Wn.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];dr(!!i);const a=i,o=(null==a?void 0:a.error)||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){or(fc,`RPC '${e}' stream ${r} received error:`,o);const t=o.status;let n=function(e){const t=ds[e];if(void 0!==t)return ps(t)}(t),i=o.message;void 0===n&&(n=fr.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),h=!0,f.Ko(new pr(n,i)),u.close()}else or(fc,`RPC '${e}' stream ${r} received:`,i),f.Uo(i)}})),p(o,Qn.STAT_EVENT,(t=>{t.stat===Kn.PROXY?or(fc,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Kn.NOPROXY&&or(fc,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.$o()}),0),f}}function gc(){return"undefined"!=typeof document?document:null}function mc(e){return new Os(e,!0)}class yc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Ti=e,this.timerId=t,this.Go=n,this.zo=r,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),r=Math.max(0,t-n);r>0&&or("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,(()=>(this.Yo=Date.now(),e()))),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){null!==this.Jo&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){null!==this.Jo&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}const vc="PersistentStream";class bc{constructor(e,t,n,r,i,a,o,s){this.Ti=e,this.n_=n,this.r_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=s,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new yc(e,t)}u_(){return 1===this.state||5===this.state||this.c_()}c_(){return 2===this.state||3===this.state}start(){this.__=0,4!==this.state?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&null===this.s_&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,(()=>this.T_())))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,4!==e?this.a_.reset():t&&t.code===fr.RESOURCE_EXHAUSTED?(sr(t.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===fr.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.i_===t&&this.V_(n,r)}),(t=>{e((()=>{const e=new pr(fr.UNKNOWN,"Fetching auth token failed: "+t.message);return this.m_(e)}))}))}V_(e,t){const n=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo((()=>{n((()=>this.listener.xo()))})),this.stream.No((()=>{n((()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,(()=>(this.c_()&&(this.state=3),Promise.resolve()))),this.listener.No())))})),this.stream.Lo((e=>{n((()=>this.m_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.__?this.g_(e):this.onNext(e)))}))}l_(){this.state=5,this.a_.Xo((async()=>{this.state=0,this.start()}))}m_(e){return or(vc,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget((()=>this.i_===e?t():(or(vc,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class wc extends bc{constructor(e,t,n,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ur()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(dr(void 0===t||"string"==typeof t),Fi.fromBase64String(t||"")):(dr(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Fi.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){const t=void 0===e.code?fr.UNKNOWN:ps(e.code);return new pr(t,e.message||"")}(o);n=new xs(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=zs(e,r.document.name),a=Us(r.document.updateTime),o=r.document.createTime?Us(r.document.createTime):Nr.min(),s=new Ea({mapValue:{fields:r.document.fields}}),l=Sa.newFoundDocument(i,a,o,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Ss(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=zs(e,r.document),a=r.readTime?Us(r.readTime):Nr.min(),o=Sa.newNoDocument(i,a),s=r.removedTargetIds||[];n=new Ss([],s,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=zs(e,r.document),a=r.removedTargetIds||[];n=new Ss([],a,i,null)}else{if(!("filter"in t))return ur();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,a=new us(r,i),o=e.targetId;n=new Ts(o,a)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Nr.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Nr.min():t.readTime?Us(t.readTime):Nr.min()}(e);return this.listener.p_(t,n)}y_(e){const t={};t.database=Gs(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Ja(r)?{documents:Js(e,r)}:{query:Xs(e,r).ht},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=js(e,t.resumeToken);const r=Ls(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Nr.min())>0){n.readTime=Ms(e,t.snapshotVersion.toTimestamp());const r=Ls(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ur()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.I_(t)}w_(e){const t={};t.database=Gs(this.serializer),t.removeTarget=e,this.I_(t)}}class _c extends bc{constructor(e,t,n,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return dr(!!e.streamToken),this.lastStreamToken=e.streamToken,dr(!e.writeResults||0===e.writeResults.length),this.listener.D_()}onNext(e){dr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=function(e,t){return e&&e.length>0?(dr(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Us(e.updateTime):Us(t);return n.isEqual(Nr.min())&&(n=Us(t)),new Wo(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Us(e.commitTime);return this.listener.v_(n,t)}C_(){const e={};e.database=Gs(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Ys(this.serializer,e)))};this.I_(t)}}class Ec{}class Cc extends Ec{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new pr(fr.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[a,o]=i;return this.connection.So(e,Vs(t,n),r,a,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===fr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new pr(fr.UNKNOWN,e.toString())}))}Co(e,t,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((a=>{let[o,s]=a;return this.connection.Co(e,Vs(t,n),r,o,s,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===fr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new pr(fr.UNKNOWN,e.toString())}))}terminate(){this.F_=!0,this.connection.terminate()}}class Sc{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){0===this.x_&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve()))))}q_(e){"Online"===this.state?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,"Online"===e&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(sr(t),this.N_=!1):or("OnlineStateTracker",t)}Q_(){null!==this.O_&&(this.O_.cancel(),this.O_=null)}}const Tc="RemoteStore";class xc{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To((e=>{n.enqueueAndForget((async()=>{Lc(this)&&(or(Tc,"Restarting streams for network reachability change."),await async function(e){const t=hr(e);t.W_.add(4),await Ac(t),t.j_.set("Unknown"),t.W_.delete(4),await Ic(t)}(this))}))})),this.j_=new Sc(n,r)}}async function Ic(e){if(Lc(e))for(const t of e.G_)await t(!0)}async function Ac(e){for(const t of e.G_)await t(!1)}function kc(e,t){const n=hr(e);n.U_.has(t.targetId)||(n.U_.set(t.targetId,t),Oc(n)?Rc(n):eu(n).c_()&&Nc(n,t))}function Pc(e,t){const n=hr(e),r=eu(n);n.U_.delete(t),r.c_()&&Dc(n,t),0===n.U_.size&&(r.c_()?r.P_():Lc(n)&&n.j_.set("Unknown"))}function Nc(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Nr.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}eu(e).y_(t)}function Dc(e,t){e.H_.Ne(t),eu(e).w_(t)}function Rc(e){e.H_=new As({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.U_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),eu(e).start(),e.j_.B_()}function Oc(e){return Lc(e)&&!eu(e).u_()&&e.U_.size>0}function Lc(e){return 0===hr(e).W_.size}function Mc(e){e.H_=void 0}async function jc(e){e.j_.set("Online")}async function Fc(e){e.U_.forEach(((t,n)=>{Nc(e,t)}))}async function Uc(e,t){Mc(e),Oc(e)?(e.j_.q_(t),Rc(e)):e.j_.set("Unknown")}async function Bc(e,t,n){if(e.j_.set("Online"),t instanceof xs&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.U_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.U_.delete(r),e.H_.removeTarget(r))}(e,t)}catch(n){or(Tc,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Vc(e,n)}else if(t instanceof Ss?e.H_.We(t):t instanceof Ts?e.H_.Ze(t):e.H_.je(t),!n.isEqual(Nr.min()))try{const t=await Ql(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.H_.ot(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.U_.get(r);i&&e.U_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.U_.get(t);if(!r)return;e.U_.set(t,r.withResumeToken(Fi.EMPTY_BYTE_STRING,r.snapshotVersion)),Dc(e,t);const i=new cl(r.target,t,n,r.sequenceNumber);Nc(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){or(Tc,"Failed to raise snapshot:",t),await Vc(e,t)}}async function Vc(e,t,n){if(!Qr(t))throw t;e.W_.add(1),await Ac(e),e.j_.set("Offline"),n||(n=()=>Ql(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{or(Tc,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await Ic(e)}))}function Hc(e,t){return t().catch((n=>Vc(e,n,t)))}async function $c(e){const t=hr(e),n=tu(t);let r=t.K_.length>0?t.K_[t.K_.length-1].batchId:Jr;for(;zc(t);)try{const e=await Jl(t.localStore,r);if(null===e){0===t.K_.length&&n.P_();break}r=e.batchId,Wc(t,e)}catch(e){await Vc(t,e)}qc(t)&&Gc(t)}function zc(e){return Lc(e)&&e.K_.length<10}function Wc(e,t){e.K_.push(t);const n=tu(e);n.c_()&&n.S_&&n.b_(t.mutations)}function qc(e){return Lc(e)&&!tu(e).u_()&&e.K_.length>0}function Gc(e){tu(e).start()}async function Kc(e){tu(e).C_()}async function Qc(e){const t=tu(e);for(const n of e.K_)t.b_(n.mutations)}async function Yc(e,t,n){const r=e.K_.shift(),i=ls.from(r,t,n);await Hc(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await $c(e)}async function Jc(e,t){t&&tu(e).S_&&await async function(e,t){if(function(e){return fs(e)&&e!==fr.ABORTED}(t.code)){const n=e.K_.shift();tu(e).h_(),await Hc(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await $c(e)}}(e,t),qc(e)&&Gc(e)}async function Xc(e,t){const n=hr(e);n.asyncQueue.verifyOperationInProgress(),or(Tc,"RemoteStore received new credentials");const r=Lc(n);n.W_.add(3),await Ac(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await Ic(n)}async function Zc(e,t){const n=hr(e);t?(n.W_.delete(2),await Ic(n)):t||(n.W_.add(2),await Ac(n),n.j_.set("Unknown"))}function eu(e){return e.J_||(e.J_=function(e,t,n){const r=hr(e);return r.M_(),new wc(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:jc.bind(null,e),No:Fc.bind(null,e),Lo:Uc.bind(null,e),p_:Bc.bind(null,e)}),e.G_.push((async t=>{t?(e.J_.h_(),Oc(e)?Rc(e):e.j_.set("Unknown")):(await e.J_.stop(),Mc(e))}))),e.J_}function tu(e){return e.Y_||(e.Y_=function(e,t,n){const r=hr(e);return r.M_(),new _c(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:Kc.bind(null,e),Lo:Jc.bind(null,e),D_:Qc.bind(null,e),v_:Yc.bind(null,e)}),e.G_.push((async t=>{t?(e.Y_.h_(),await $c(e)):(await e.Y_.stop(),e.K_.length>0&&(or(Tc,`Stopping write stream with ${e.K_.length} pending writes`),e.K_=[]))}))),e.Y_}class nu{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const a=Date.now()+n,o=new nu(e,t,a,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new pr(fr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ru(e,t){if(sr("AsyncQueue",`${t}: ${e}`),Qr(e))return new pr(fr.UNAVAILABLE,`${t}: ${e}`);throw e}class iu{static emptySet(e){return new iu(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||jr.comparator(t.key,n.key):(e,t)=>jr.comparator(e.key,t.key),this.keyedMap=wo(),this.sortedSet=new Ni(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof iu))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new iu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class au{constructor(){this.Z_=new Ni(jr.comparator)}track(e){const t=e.doc.key,n=this.Z_.get(t);n?0!==e.type&&3===n.type?this.Z_=this.Z_.insert(t,e):3===e.type&&1!==n.type?this.Z_=this.Z_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Z_=this.Z_.remove(t):1===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):ur():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class ou{constructor(e,t,n,r,i,a,o,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const a=[];return t.forEach((e=>{a.push({type:0,doc:e})})),new ou(e,t,iu.emptySet(t),a,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class su{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some((e=>e.ra()))}}class lu{constructor(){this.queries=cu(),this.onlineState="Unknown",this.ia=new Set}terminate(){!function(e,t){const n=hr(e),r=n.queries;n.queries=cu(),r.forEach(((e,n)=>{for(const r of n.ta)r.onError(t)}))}(this,new pr(fr.ABORTED,"Firestore shutting down"))}}function cu(){return new mo((e=>co(e)),lo)}async function uu(e,t){const n=hr(e);let r=3;const i=t.query;let a=n.queries.get(i);a?!a.na()&&t.ra()&&(r=2):(a=new su,r=t.ra()?0:1);try{switch(r){case 0:a.ea=await n.onListen(i,!0);break;case 1:a.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=ru(e,`Initialization of query '${uo(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,a),a.ta.push(t),t.sa(n.onlineState),a.ea&&t.oa(a.ea)&&pu(n)}async function du(e,t){const n=hr(e),r=t.query;let i=3;const a=n.queries.get(r);if(a){const e=a.ta.indexOf(t);e>=0&&(a.ta.splice(e,1),0===a.ta.length?i=t.ra()?0:1:!a.na()&&t.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function hu(e,t){const n=hr(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.ta)e.oa(i)&&(r=!0);t.ea=i}}r&&pu(n)}function fu(e,t,n){const r=hr(e),i=r.queries.get(t);if(i)for(const a of i.ta)a.onError(n);r.queries.delete(t)}function pu(e){e.ia.forEach((e=>{e.next()}))}var gu,mu;(mu=gu||(gu={}))._a="default",mu.Cache="cache";class yu{constructor(e,t,n){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new ou(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache)return!0;if(!this.ra())return!0;const n="Offline"!==t;return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Pa(e){e=ou.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==gu.Cache}}class vu{constructor(e){this.key=e}}class bu{constructor(e){this.key=e}}class wu{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Io(),this.mutatedKeys=Io(),this.ya=po(e),this.wa=new iu(this.ya)}get Sa(){return this.fa}ba(e,t){const n=t?t.Da:new au,r=t?t.wa:this.wa;let i=t?t.mutatedKeys:this.mutatedKeys,a=r,o=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=ho(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.va(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.ya(u,s)>0||l&&this.ya(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(o=!0)),f&&(u?(a=a.add(u),i=h?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;a.size>this.query.limit;){const e="F"===this.query.limitType?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{wa:a,Da:n,ls:o,mutatedKeys:i}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const a=e.Da.X_();a.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ur()}};return n(e)-n(t)}(e.type,t.type)||this.ya(e.doc,t.doc))),this.Ca(n),r=null!=r&&r;const o=t&&!r?this.Fa():[],s=0===this.pa.size&&this.current&&!r?1:0,l=s!==this.ga;return this.ga=s,0!==a.length||l?{snapshot:new ou(this.query,e.wa,i,a,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:o}:{Ma:o}}sa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({wa:this.wa,Da:new au,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach((e=>this.fa=this.fa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.fa=this.fa.delete(e))),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Io(),this.wa.forEach((e=>{this.xa(e.key)&&(this.pa=this.pa.add(e.key))}));const t=[];return e.forEach((e=>{this.pa.has(e)||t.push(new bu(e))})),this.pa.forEach((n=>{e.has(n)||t.push(new vu(n))})),t}Oa(e){this.fa=e.gs,this.pa=Io();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return ou.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,0===this.ga,this.hasCachedResults)}}const _u="SyncEngine";class Eu{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Cu{constructor(e){this.key=e,this.Ba=!1}}class Su{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.La={},this.ka=new mo((e=>co(e)),lo),this.qa=new Map,this.Qa=new Set,this.$a=new Ni(jr.comparator),this.Ka=new Map,this.Ua=new Dl,this.Wa={},this.Ga=new Map,this.za=vl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return!0===this.ja}}async function Tu(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=qu(e);let i;const a=r.ka.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Na()):i=await Iu(r,t,n,!0),i}async function xu(e,t){const n=qu(e);await Iu(n,t,!0,!1)}async function Iu(e,t,n,r){const i=await Xl(e.localStore,io(t)),a=i.targetId,o=e.sharedClientState.addLocalQueryTarget(a,n);let s;return r&&(s=await Au(e,t,a,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&kc(e.remoteStore,i),s}async function Au(e,t,n,r,i){e.Ha=(t,n,r)=>async function(e,t,n,r){let i=t.view.ba(n);i.ls&&(i=await ec(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ba(n,i)})));const a=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,a,o);return Bu(e,t.targetId,s.Ma),s.snapshot}(e,t,n,r);const a=await ec(e.localStore,t,!0),o=new wu(t,a.gs),s=o.ba(a.documents),l=Cs.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(s,e.isPrimaryClient,l);Bu(e,n,c.Ma);const u=new Eu(t,n,o);return e.ka.set(t,u),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),c.snapshot}async function ku(e,t,n){const r=hr(e),i=r.ka.get(t),a=r.qa.get(i.targetId);if(a.length>1)return r.qa.set(i.targetId,a.filter((e=>!lo(e,t)))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Zl(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Pc(r.remoteStore,i.targetId),Fu(r,i.targetId)})).catch(qr)):(Fu(r,i.targetId),await Zl(r.localStore,i.targetId,!0))}async function Pu(e,t){const n=hr(e),r=n.ka.get(t),i=n.qa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Pc(n.remoteStore,r.targetId))}async function Nu(e,t){const n=hr(e);try{const e=await function(e,t){const n=hr(e),r=t.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const a=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const o=[];t.targetChanges.forEach(((a,s)=>{const l=i.get(s);if(!l)return;o.push(n.Hr.removeMatchingKeys(e,a.removedDocuments,s).next((()=>n.Hr.addMatchingKeys(e,a.addedDocuments,s))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(Fi.EMPTY_BYTE_STRING,Nr.min()).withLastLimboFreeSnapshotVersion(Nr.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,a)&&o.push(n.Hr.updateTargetData(e,c))}));let s=vo(),l=Io();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Yl(e,a,t.documentUpdates).next((e=>{s=e.Vs,l=e.fs}))),!r.isEqual(Nr.min())){const t=n.Hr.getLastRemoteSnapshotVersion(e).next((t=>n.Hr.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return Gr.waitFor(o).next((()=>a.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,l))).next((()=>s))})).then((e=>(n.Ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ka.get(t);r&&(dr(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ba=!0:e.modifiedDocuments.size>0?dr(r.Ba):e.removedDocuments.size>0&&(dr(r.Ba),r.Ba=!1))})),await $u(n,e,t)}catch(e){await qr(e)}}function Du(e,t,n){const r=hr(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ka.forEach(((n,r)=>{const i=r.view.sa(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=hr(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.ta)i.sa(t)&&(r=!0)})),r&&pu(n)}(r.eventManager,t),e.length&&r.La.p_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Ru(e,t,n){const r=hr(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ka.get(t),a=i&&i.key;if(a){let e=new Ni(jr.comparator);e=e.insert(a,Sa.newNoDocument(a,Nr.min()));const n=Io().add(a),i=new Es(Nr.min(),new Map,new Ni(xr),e,n);await Nu(r,i),r.$a=r.$a.remove(a),r.Ka.delete(t),Hu(r)}else await Zl(r.localStore,t,!1).then((()=>Fu(r,t,n))).catch(qr)}async function Ou(e,t){const n=hr(e),r=t.batch.batchId;try{const e=await function(e,t){const n=hr(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,a=i.keys();let o=Gr.resolve();return a.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const a=n.docVersions.get(e);dr(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Io();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);ju(n,r,null),Mu(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await $u(n,e)}catch(e){await qr(e)}}async function Lu(e,t,n){const r=hr(e);try{const e=await function(e,t){const n=hr(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(dr(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);ju(r,t,n),Mu(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await $u(r,e)}catch(n){await qr(n)}}function Mu(e,t){(e.Ga.get(t)||[]).forEach((e=>{e.resolve()})),e.Ga.delete(t)}function ju(e,t,n){const r=hr(e);let i=r.Wa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Wa[r.currentUser.toKey()]=i}}function Fu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.qa.get(t))e.ka.delete(r),n&&e.La.Ja(r,n);e.qa.delete(t),e.isPrimaryClient&&e.Ua.br(t).forEach((t=>{e.Ua.containsKey(t)||Uu(e,t)}))}function Uu(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);null!==n&&(Pc(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ka.delete(n),Hu(e))}function Bu(e,t,n){for(const r of n)r instanceof vu?(e.Ua.addReference(r.key,t),Vu(e,r)):r instanceof bu?(or(_u,"Document no longer in limbo: "+r.key),e.Ua.removeReference(r.key,t),e.Ua.containsKey(r.key)||Uu(e,r.key)):ur()}function Vu(e,t){const n=t.key,r=n.path.canonicalString();e.$a.get(n)||e.Qa.has(r)||(or(_u,"New document in limbo: "+n),e.Qa.add(r),Hu(e))}function Hu(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new jr(Or.fromString(t)),r=e.za.next();e.Ka.set(r,new Cu(n)),e.$a=e.$a.insert(n,r),kc(e.remoteStore,new cl(io(eo(n.path)),r,"TargetPurposeLimboResolution",Yr.ae))}}async function $u(e,t,n){const r=hr(e),i=[],a=[],o=[];r.ka.isEmpty()||(r.ka.forEach(((e,s)=>{o.push(r.Ha(s,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Hl.Yi(s.targetId,e);a.push(t)}})))})),await Promise.all(o),r.La.p_(i),await async function(e,t){const n=hr(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Gr.forEach(t,(t=>Gr.forEach(t.Hi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Gr.forEach(t.Ji,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Qr(e))throw e;or(Wl,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ts=n.Ts.insert(e,i)}}}(r.localStore,a))}async function zu(e,t){const n=hr(e);if(!n.currentUser.isEqual(t)){or(_u,"User change. New user:",t.toKey());const e=await Kl(n.localStore,t);n.currentUser=t,function(e,t){e.Ga.forEach((e=>{e.forEach((e=>{e.reject(new pr(fr.CANCELLED,t))}))})),e.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await $u(n,e.Rs)}}function Wu(e,t){const n=hr(e),r=n.Ka.get(t);if(r&&r.Ba)return Io().add(r.key);{let e=Io();const r=n.qa.get(t);if(!r)return e;for(const t of r){const r=n.ka.get(t);e=e.unionWith(r.view.Sa)}return e}}function qu(e){const t=hr(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Nu.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wu.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ru.bind(null,t),t.La.p_=hu.bind(null,t.eventManager),t.La.Ja=fu.bind(null,t.eventManager),t}function Gu(e){const t=hr(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ou.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Lu.bind(null,t),t}class Ku{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return Gl(this.persistence,new zl,e.initialUser,this.serializer)}Xa(e){return new Fl(Bl.ri,this.serializer)}Za(e){return new rc}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ku.provider={build:()=>new Ku};class Qu extends Ku{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){dr(this.persistence.referenceDelegate instanceof Vl);const n=this.persistence.referenceDelegate.garbageCollector;return new Cl(n,e.asyncQueue,t)}Xa(e){const t=void 0!==this.cacheSizeBytes?yl.withCacheSize(this.cacheSizeBytes):yl.DEFAULT;return new Fl((e=>Vl.ri(e,t)),this.serializer)}}class Yu{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Du(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=zu.bind(null,this.syncEngine),await Zc(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new lu}createDatastore(e){const t=mc(e.databaseInfo.databaseId),n=function(e){return new pc(e)}(e.databaseInfo);return function(e,t,n,r){return new Cc(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new xc(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Du(this.syncEngine,e,0)),oc.D()?new oc:new ic)}createSyncEngine(e,t){return function(e,t,n,r,i,a,o){const s=new Su(e,t,n,r,i,a);return o&&(s.ja=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=hr(e);or(Tc,"RemoteStore shutting down."),t.W_.add(5),await Ac(t),t.z_.shutdown(),t.j_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Yu.provider={build:()=>new Yu};class Ju{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):sr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Xu="FirestoreClient";class Zu{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=nr.UNAUTHENTICATED,this.clientId=Tr.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{or(Xu,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(or(Xu,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(Ty){const n=ru(Ty,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function ed(e,t){e.asyncQueue.verifyOperationInProgress(),or(Xu,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Kl(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function td(e,t){e.asyncQueue.verifyOperationInProgress();const n=await nd(e);or(Xu,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Xc(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Xc(t.remoteStore,n))),e._onlineComponents=t}async function nd(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){or(Xu,"Using user provided OfflineComponentProvider");try{await ed(e,e._uninitializedComponentsProvider._offline)}catch(Ty){const n=Ty;if(!function(e){return"FirebaseError"===e.name?e.code===fr.FAILED_PRECONDITION||e.code===fr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;lr("Error using user provided cache. Falling back to memory cache: "+n),await ed(e,new Ku)}}else or(Xu,"Using default OfflineComponentProvider"),await ed(e,new Qu(void 0));return e._offlineComponents}async function rd(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(or(Xu,"Using user provided OnlineComponentProvider"),await td(e,e._uninitializedComponentsProvider._online)):(or(Xu,"Using default OnlineComponentProvider"),await td(e,new Yu))),e._onlineComponents}function id(e){return rd(e).then((e=>e.syncEngine))}async function ad(e){const t=await rd(e),n=t.eventManager;return n.onListen=Tu.bind(null,t.syncEngine),n.onUnlisten=ku.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=xu.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Pu.bind(null,t.syncEngine),n}function od(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new gr;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const a=new Ju({next:s=>{a.su(),t.enqueueAndForget((()=>du(e,o)));const l=s.docs.has(n);!l&&s.fromCache?i.reject(new pr(fr.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&s.fromCache&&r&&"server"===r.source?i.reject(new pr(fr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new yu(eo(n.path),a,{includeMetadataChanges:!0,Ta:!0});return uu(e,o)}(await ad(e),e.asyncQueue,t,n,r))),r.promise}function sd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new gr;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const a=new Ju({next:n=>{a.su(),t.enqueueAndForget((()=>du(e,o))),n.fromCache&&"server"===r.source?i.reject(new pr(fr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new yu(n,a,{includeMetadataChanges:!0,Ta:!0});return uu(e,o)}(await ad(e),e.asyncQueue,t,n,r))),r.promise}function ld(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const cd=new Map;function ud(e,t,n){if(!n)throw new pr(fr.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function dd(e){if(!jr.isDocumentKey(e))throw new pr(fr.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function hd(e){if(jr.isDocumentKey(e))throw new pr(fr.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function fd(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":ur()}function pd(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new pr(fr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fd(e);throw new pr(fr.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}const gd="firestore.googleapis.com",md=!0;class yd{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new pr(fr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gd,this.ssl=md}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:md;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=ml;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<wl)throw new pr(fr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new pr(fr.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ld(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new pr(fr.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new pr(fr.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new pr(fr.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vd{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yd({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pr(fr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new pr(fr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yd(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new yr;switch(e.type){case"firstParty":return new _r(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new pr(fr.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=cd.get(e);t&&(or("ComponentProvider","Removing Datastore"),cd.delete(e),t.terminate())}(this),Promise.resolve()}}function bd(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const a=(e=pd(e,vd))._getSettings(),o=`${t}:${n}`;if(a.host!==gd&&a.host!==o&&lr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=nr.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ue(JSON.stringify({alg:"none",type:"JWT"})),Ue(JSON.stringify(a)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new pr(fr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new nr(a)}e._authCredentials=new vr(new mr(t,n))}}class wd{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new wd(this.firestore,e,this._query)}}class _d{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ed(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _d(this.firestore,e,this._key)}}class Ed extends wd{constructor(e,t,n){super(e,t,eo(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _d(this.firestore,null,new jr(e))}withConverter(e){return new Ed(this.firestore,e,this._path)}}function Cd(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ct(e),ud("collection","path",t),e instanceof vd){const n=Or.fromString(t,...r);return hd(n),new Ed(e,null,n)}{if(!(e instanceof _d||e instanceof Ed))throw new pr(fr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Or.fromString(t,...r));return hd(n),new Ed(e.firestore,null,n)}}function Sd(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ct(e),1===arguments.length&&(t=Tr.newId()),ud("doc","path",t),e instanceof vd){const n=Or.fromString(t,...r);return dd(n),new _d(e,null,new jr(n))}{if(!(e instanceof _d||e instanceof Ed))throw new pr(fr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Or.fromString(t,...r));return dd(n),new _d(e.firestore,e instanceof Ed?e.converter:null,new jr(n))}}const Td="AsyncQueue";class xd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new yc(this,"async_queue_retry"),this.Su=()=>{const e=gc();e&&or(Td,"Visibility state changed to "+e.visibilityState),this.a_.t_()},this.bu=e;const t=gc();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=gc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise((()=>{}));const t=new gr;return this.vu((()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Vu.push(e),this.Cu())))}async Cu(){if(0!==this.Vu.length){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(dP){if(!Qr(dP))throw dP;or(Td,"Operation failed with retryable error: "+dP)}this.Vu.length>0&&this.a_.Xo((()=>this.Cu()))}}vu(e){const t=this.bu.then((()=>(this.pu=!0,e().catch((e=>{this.gu=e,this.pu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw sr("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.pu=!1,e))))));return this.bu=t,t}enqueueAfterDelay(e,t,n){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const r=nu.createAndSchedule(this,e,t,n,(e=>this.Fu(e)));return this.fu.push(r),r}Du(){this.gu&&ur()}verifyOperationInProgress(){}async Mu(){let e;do{e=this.bu,await e}while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then((()=>{this.fu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.fu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Mu()}))}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function Id(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Ad extends vd{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new xd,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xd(e),this._firestoreClient=void 0,await e}}}function kd(e){if(e._terminated)throw new pr(fr.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Pd(e),e._firestoreClient}function Pd(e){var t,n,r;const i=e._freezeSettings(),a=function(e,t,n,r){return new Yi(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,ld(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Zu(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Nd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nd(Fi.fromBase64String(e))}catch(e){throw new pr(fr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Nd(Fi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Dd{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new pr(fr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mr(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Rd{constructor(e){this._methodName=e}}class Od{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pr(fr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pr(fr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xr(this._lat,e._lat)||xr(this._long,e._long)}}class Ld{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Md=/^__.*__$/;class jd{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new ts(e,this.data,this.fieldMask,t,this.fieldTransforms):new es(e,this.data,t,this.fieldTransforms)}}class Fd{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new ts(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ud(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ur()}}class Bd{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Bd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.$u(e),r}Ku(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.Bu(),r}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return th(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(0===e.length)throw this.Wu("Document fields must not be empty");if(Ud(this.Lu)&&Md.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Vd{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||mc(e)}ju(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Bd({Lu:e,methodName:t,zu:n,path:Mr.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hd(e){const t=e._freezeSettings(),n=mc(e._databaseId);return new Vd(e._databaseId,!!t.ignoreUndefinedProperties,n)}function $d(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.ju(a.merge||a.mergeFields?2:0,t,n,i);Jd("Data must be an object, but it was:",o,r);const s=Qd(r,o);let l,c;if(a.merge)l=new Mi(o.fieldMask),c=o.fieldTransforms;else if(a.mergeFields){const e=[];for(const r of a.mergeFields){const i=Xd(t,r,n);if(!o.contains(i))throw new pr(fr.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);nh(e,i)||e.push(i)}l=new Mi(e),c=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=o.fieldTransforms;return new jd(new Ea(s),l,c)}class zd extends Rd{_toFieldTransform(e){if(2!==e.Lu)throw 1===e.Lu?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zd}}function Wd(e,t,n,r){const i=e.ju(1,t,n);Jd("Data must be an object, but it was:",i,r);const a=[],o=Ea.empty();ki(r,((e,r)=>{const s=eh(t,e,n);r=ct(r);const l=i.Ku(s);if(r instanceof zd)a.push(s);else{const e=Kd(r,l);null!=e&&(a.push(s),o.set(s,e))}}));const s=new Mi(a);return new Fd(o,s,i.fieldTransforms)}function qd(e,t,n,r,i,a){const o=e.ju(1,t,n),s=[Xd(t,r,n)],l=[i];if(a.length%2!=0)throw new pr(fr.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)s.push(Xd(t,a[h])),l.push(a[h+1]);const c=[],u=Ea.empty();for(let h=s.length-1;h>=0;--h)if(!nh(c,s[h])){const e=s[h];let t=l[h];t=ct(t);const n=o.Ku(e);if(t instanceof zd)c.push(e);else{const r=Kd(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new Mi(c);return new Fd(u,d,o.fieldTransforms)}function Gd(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Kd(n,e.ju(r?4:3,t))}function Kd(e,t){if(Yd(e=ct(e)))return Jd("Unsupported field value:",t,e),Qd(e,t);if(e instanceof Rd)return function(e,t){if(!Ud(t.Lu))throw t.Wu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Wu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&4!==t.Lu)throw t.Wu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Kd(i,t.Uu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=ct(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Do(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Pr.fromDate(e);return{timestampValue:Ms(t.serializer,n)}}if(e instanceof Pr){const n=new Pr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ms(t.serializer,n)}}if(e instanceof Od)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Nd)return{bytesValue:js(t.serializer,e._byteString)};if(e instanceof _d){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Wu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Bs(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Ld)return function(e,t){return{mapValue:{fields:{[Zi]:{stringValue:na},[ra]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Wu("VectorValues must only contain numeric values.");return Po(t.serializer,e)}))}}}}}}(e,t);throw t.Wu(`Unsupported field value: ${fd(e)}`)}(e,t)}function Qd(e,t){const n={};return Pi(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ki(e,((e,r)=>{const i=Kd(r,t.qu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Yd(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Pr||e instanceof Od||e instanceof Nd||e instanceof _d||e instanceof Rd||e instanceof Ld)}function Jd(e,t,n){if(!Yd(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=fd(n);throw"an object"===r?t.Wu(e+" a custom object"):t.Wu(e+" "+r)}}function Xd(e,t,n){if((t=ct(t))instanceof Dd)return t._internalPath;if("string"==typeof t)return eh(e,t);throw th("Field path arguments must be of type string or ",e,!1,void 0,n)}const Zd=new RegExp("[~\\*/\\[\\]]");function eh(e,t,n){if(t.search(Zd)>=0)throw th(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Dd(...t.split("."))._internalPath}catch(r){throw th(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function th(e,t,n,r,i){const a=r&&!r.isEmpty(),o=void 0!==i;let s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new pr(fr.INVALID_ARGUMENT,s+e+l)}function nh(e,t){return e.some((e=>e.isEqual(t)))}class rh{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new _d(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ih(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ah("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ih extends rh{data(){return super.data()}}function ah(e,t){return"string"==typeof t?eh(e,t):t instanceof Dd?t._internalPath:t._delegate._internalPath}function oh(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new pr(fr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sh{}class lh extends sh{}function ch(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof sh&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof hh)).length,n=e.filter((e=>e instanceof uh)).length;if(t>1||t>0&&n>0)throw new pr(fr.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class uh extends lh{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new uh(e,t,n)}_apply(e){const t=this._parse(e);return mh(e._query,t),new wd(e.firestore,e.converter,oo(e._query,t))}_parse(e){const t=Hd(e.firestore),n=function(e,t,n,r,i,a,o){let s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new pr(fr.INVALID_ARGUMENT,`Invalid Query. You can't perform '${a}' queries on documentId().`);if("in"===a||"not-in"===a){gh(o,a);const t=[];for(const n of o)t.push(ph(r,e,n));s={arrayValue:{values:t}}}else s=ph(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||gh(o,a),s=Gd(n,t,o,"in"===a||"not-in"===a);return Na.create(i,a,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function dh(e,t,n){const r=t,i=ah("where",e);return uh._create(i,r,n)}class hh extends sh{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new hh(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Da.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)mh(n,i),n=oo(n,i)}(e._query,t),new wd(e.firestore,e.converter,oo(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function fh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach((e=>yh("or",e))),hh._create("or",t)}function ph(e,t,n){if("string"==typeof(n=ct(n))){if(""===n)throw new pr(fr.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!no(t)&&-1!==n.indexOf("/"))throw new pr(fr.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Or.fromString(n));if(!jr.isDocumentKey(r))throw new pr(fr.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fa(e,new jr(r))}if(n instanceof _d)return fa(e,n._key);throw new pr(fr.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fd(n)}.`)}function gh(e,t){if(!Array.isArray(e)||0===e.length)throw new pr(fr.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function mh(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new pr(fr.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new pr(fr.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function yh(e,t){if(!(t instanceof uh||t instanceof hh))throw new pr(fr.INVALID_ARGUMENT,`Function ${e}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class vh{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ia(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ur()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return ki(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[ra].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>Vi(e.doubleValue)));return new Ld(i)}convertGeoPoint(e){return new Od(Vi(e.latitude),Vi(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ki(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Qi(e));default:return null}}convertTimestamp(e){const t=Bi(e);return new Pr(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Or.fromString(e);dr(ll(n));const r=new Xi(n.get(1),n.get(3)),i=new jr(n.popFirst(5));return r.isEqual(t)||sr(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function bh(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class wh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _h extends rh{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(ah("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Eh extends _h{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Ch{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new wh(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Eh(this._firestore,this._userDataWriter,n.key,n,new wh(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new pr(fr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Eh(e._firestore,e._userDataWriter,n.doc.key,n.doc,new wh(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Eh(e._firestore,e._userDataWriter,t.doc.key,t.doc,new wh(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,a=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:Sh(t.type),doc:r,oldIndex:i,newIndex:a}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Sh(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ur()}}function Th(e){e=pd(e,_d);const t=pd(e.firestore,Ad);return od(kd(t),e._key).then((n=>Nh(t,e,n)))}class xh extends vh{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _d(this.firestore,null,t)}}function Ih(e){e=pd(e,wd);const t=pd(e.firestore,Ad),n=kd(t),r=new xh(t);return oh(e._query),sd(n,e._query).then((n=>new Ch(t,r,e,n)))}function Ah(e,t){const n=pd(e.firestore,Ad),r=Sd(e),i=bh(e.converter,t);return Ph(n,[$d(Hd(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,qo.exists(!1))]).then((()=>r))}function kh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=ct(e);let s={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||Id(n[l])||(s=n[l],l++);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Id(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(a=e.error)||void 0===a?void 0:a.bind(e),n[l+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let u,d,h;if(e instanceof _d)d=pd(e.firestore,Ad),h=eo(e._key.path),u={next:t=>{n[l]&&n[l](Nh(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=pd(e,wd);d=pd(t.firestore,Ad),h=t._query;const r=new xh(d);u={next:e=>{n[l]&&n[l](new Ch(d,r,t,e))},error:n[l+1],complete:n[l+2]},oh(e._query)}return function(e,t,n,r){const i=new Ju(r),a=new yu(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>uu(await ad(e),a))),()=>{i.su(),e.asyncQueue.enqueueAndForget((async()=>du(await ad(e),a)))}}(kd(d),h,c,u)}function Ph(e,t){return function(e,t){const n=new gr;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Gu(e);try{const e=await function(e,t){const n=hr(e),r=Pr.now(),i=t.reduce(((e,t)=>e.add(t.key)),Io());let a,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let s=vo(),l=Io();return n.ds.getEntries(e,i).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((i=>{a=i;const o=[];for(const e of t){const t=Xo(e,a.get(e.key).overlayedDocument);null!=t&&o.push(new ts(e.key,t,Ca(t.value.mapValue),qo.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(a,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:_o(a)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Wa[e.currentUser.toKey()];r||(r=new Ni(xr)),r=r.insert(t,n),e.Wa[e.currentUser.toKey()]=r}(r,e.batchId,n),await $u(r,e.changes),await $c(r.remoteStore)}catch(e){const t=ru(e,"Failed to persist write");n.reject(t)}}(await id(e),t,n))),n.promise}(kd(e),t)}function Nh(e,t,n){const r=n.docs.get(t._key),i=new xh(e);return new _h(e,i,t._key,r,new wh(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){rr=e}(xn),_n(new ut("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const a=e.getProvider("app").getImmediate(),o=new Ad(new br(e.getProvider("auth-internal")),new Cr(a,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new pr(fr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xi(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),kn(er,tr,e),kn(er,tr,"esm2017")}();const Dh="@firebase/installations",Rh="0.6.12",Oh=1e4,Lh=`w:${Rh}`,Mh="FIS_v2",jh=36e5,Fh=new Ze("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Uh(e){return e instanceof Xe&&e.code.includes("request-failed")}function Bh(e){let{projectId:t}=e;return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function Vh(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Hh(e,t){const n=(await t.json()).error;return Fh.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function $h(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function zh(e,t){let{refreshToken:n}=t;const r=$h(e);return r.append("Authorization",function(e){return`${Mh} ${e}`}(n)),r}async function Wh(e){const t=await e();return t.status>=500&&t.status<600?e():t}function qh(e){return new Promise((t=>{setTimeout(t,e)}))}const Gh=/^[cdef][\w-]{21}$/;function Kh(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Gh.test(t)?t:""}catch(e){return""}}function Qh(e){return`${e.appName}!${e.appId}`}const Yh=new Map;function Jh(e,t){const n=Qh(e);Xh(n,t),function(e,t){const n=ef();n&&n.postMessage({key:e,fid:t});tf()}(n,t)}function Xh(e,t){const n=Yh.get(e);if(n)for(const r of n)r(t)}let Zh=null;function ef(){return!Zh&&"BroadcastChannel"in self&&(Zh=new BroadcastChannel("[Firebase] FID Change"),Zh.onmessage=e=>{Xh(e.data.key,e.data.fid)}),Zh}function tf(){0===Yh.size&&Zh&&(Zh.close(),Zh=null)}const nf="firebase-installations-store";let rf=null;function af(){return rf||(rf=Rt("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(nf)}})),rf}async function of(e,t){const n=Qh(e),r=(await af()).transaction(nf,"readwrite"),i=r.objectStore(nf),a=await i.get(n);return await i.put(t,n),await r.done,a&&a.fid===t.fid||Jh(e,t.fid),t}async function sf(e){const t=Qh(e),n=(await af()).transaction(nf,"readwrite");await n.objectStore(nf).delete(t),await n.done}async function lf(e,t){const n=Qh(e),r=(await af()).transaction(nf,"readwrite"),i=r.objectStore(nf),a=await i.get(n),o=t(a);return void 0===o?await i.delete(n):await i.put(o,n),await r.done,!o||a&&a.fid===o.fid||Jh(e,o.fid),o}async function cf(e){let t;const n=await lf(e.appConfig,(n=>{const r=function(e){const t=e||{fid:Kh(),registrationStatus:0};return hf(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Fh.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const a=Bh(n),o=$h(n),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const l={fid:i,authVersion:Mh,appId:n.appId,sdkVersion:Lh},c={method:"POST",headers:o,body:JSON.stringify(l)},u=await Wh((()=>fetch(a,c)));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:Vh(e.authToken)}}throw await Hh("Create Installation",u)}(e,t);return of(e.appConfig,n)}catch(dP){throw Uh(dP)&&409===dP.customData.serverCode?await sf(e.appConfig):await of(e.appConfig,{fid:t.fid,registrationStatus:0}),dP}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:uf(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function uf(e){let t=await df(e.appConfig);for(;1===t.registrationStatus;)await qh(100),t=await df(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await cf(e);return n||t}return t}function df(e){return lf(e,(e=>{if(!e)throw Fh.create("installation-not-found");return hf(e)}))}function hf(e){return 1===(t=e).registrationStatus&&t.registrationTime+Oh<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function ff(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return`${Bh(e)}/${n}/authTokens:generate`}(n,t),a=zh(n,t),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const s={installation:{sdkVersion:Lh,appId:n.appId}},l={method:"POST",headers:a,body:JSON.stringify(s)},c=await Wh((()=>fetch(i,l)));if(c.ok){return Vh(await c.json())}throw await Hh("Generate Auth Token",c)}async function pf(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await lf(e.appConfig,(r=>{if(!mf(r))throw Fh.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+jh}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await gf(e.appConfig);for(;1===n.authToken.requestStatus;)await qh(100),n=await gf(e.appConfig);const r=n.authToken;return 0===r.requestStatus?pf(e,t):r}(e,n),r;{if(!navigator.onLine)throw Fh.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await ff(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await of(e.appConfig,r),n}catch(dP){if(!Uh(dP)||401!==dP.customData.serverCode&&404!==dP.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await of(e.appConfig,n)}else await sf(e.appConfig);throw dP}}(e,n),n}}));return t?await t:r.authToken}function gf(e){return lf(e,(e=>{if(!mf(e))throw Fh.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Oh<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function mf(e){return void 0!==e&&2===e.registrationStatus}async function yf(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await cf(e);t&&await t}(n);return(await pf(n,t)).token}function vf(e){return Fh.create("missing-app-config-values",{valueName:e})}const bf="installations",wf=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw vf("App Configuration");if(!e.name)throw vf("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw vf(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:En(t,"heartbeat"),_delete:()=>Promise.resolve()}},_f=e=>{const t=En(e.getProvider("app").getImmediate(),bf).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await cf(t);return r?r.catch(console.error):pf(t).catch(console.error),n.fid}(t),getToken:e=>yf(t,e)}};_n(new ut(bf,wf,"PUBLIC")),_n(new ut("installations-internal",_f,"PRIVATE")),kn(Dh,Rh),kn(Dh,Rh,"esm2017");const Ef="analytics",Cf="https://www.googletagmanager.com/gtag/js",Sf=new wt("@firebase/analytics"),Tf=new Ze("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function xf(e){if(!e.startsWith(Cf)){const t=Tf.create("invalid-gtag-resource",{gtagURL:e});return Sf.warn(t.message),""}return e}function If(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function Af(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:xf}),r=document.createElement("script"),i=`${Cf}?l=${e}&id=${t}`;r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function kf(e,t,n,r){return async function(i){try{for(var a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];if("event"===i){const[r,i]=o;await async function(e,t,n,r,i){try{let a=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await If(n);for(const n of e){const e=r.find((e=>e.measurementId===n)),i=e&&t[e.appId];if(!i){a=[];break}a.push(i)}}0===a.length&&(a=Object.values(t)),await Promise.all(a),e("event",r,i||{})}catch(dP){Sf.error(dP)}}(e,t,n,r,i)}else if("config"===i){const[i,a]=o;await async function(e,t,n,r,i,a){const o=r[i];try{if(o)await t[o];else{const e=(await If(n)).find((e=>e.measurementId===i));e&&await t[e.appId]}}catch(dP){Sf.error(dP)}e("config",i,a)}(e,t,n,r,i,a)}else if("consent"===i){const[t,n]=o;e("consent",t,n)}else if("get"===i){const[t,n,r]=o;e("get",t,n,r)}else if("set"===i){const[t]=o;e("set",t)}else e(i,...o)}catch(dP){Sf.error(dP)}}}const Pf=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Nf(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Df(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pf,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:a}=e.options;if(!r)throw Tf.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw Tf.create("no-api-key")}const o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new Of;return setTimeout((async()=>{s.abort()}),void 0!==n?n:6e4),Rf({appId:r,apiKey:i,measurementId:a},o,s,t)}async function Rf(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Pf;var o;const{appId:s,measurementId:l}=e;try{await function(e,t){return new Promise(((n,r)=>{const i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((()=>{clearTimeout(a),r(Tf.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(n,r)}catch(dP){if(l)return Sf.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null===dP||void 0===dP?void 0:dP.message}]`),{appId:s,measurementId:l};throw dP}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:Nf(r)},a="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),o=await fetch(a,i);if(200!==o.status&&304!==o.status){let e="";try{const n=await o.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(s){}throw Tf.create("config-fetch-failed",{httpStatus:o.status,responseMessage:e})}return o.json()}(e);return a.deleteThrottleMetadata(s),t}catch(dP){const r=dP;if(!function(e){if(!(e instanceof Xe)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(a.deleteThrottleMetadata(s),l)return Sf.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null===r||void 0===r?void 0:r.message}]`),{appId:s,measurementId:l};throw dP}const c=503===Number(null===(o=null===r||void 0===r?void 0:r.customData)||void 0===o?void 0:o.httpStatus)?lt(i,a.intervalMillis,30):lt(i,a.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:i+1};return a.setThrottleMetadata(s,u),Sf.debug(`Calling attemptFetch again in ${c} millis`),Rf(e,u,n,a)}}class Of{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}let Lf,Mf;function jf(e){Mf=e}function Ff(e){Lf=e}async function Uf(e,t,n,r,i,a,o){var s;const l=Df(e);l.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Sf.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)})).catch((e=>Sf.error(e))),t.push(l);const c=async function(){if(!Ye())return Sf.warn(Tf.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Je()}catch(dP){return Sf.warn(Tf.create("indexeddb-unavailable",{errorInfo:null===dP||void 0===dP?void 0:dP.toString()}).message),!1}return!0}().then((e=>e?r.getId():void 0)),[u,d]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Cf)&&n.src.includes(e))return n;return null})(a)||Af(a,u.measurementId),Mf&&(i("consent","default",Mf),jf(void 0)),i("js",new Date);const h=null!==(s=null===o||void 0===o?void 0:o.config)&&void 0!==s?s:{};return h.origin="firebase",h.update=!0,null!=d&&(h.firebase_id=d),i("config",u.measurementId,h),Lf&&(i("set",Lf),Ff(void 0)),u.measurementId}class Bf{constructor(e){this.app=e}_delete(){return delete Vf[this.app.options.appId],Promise.resolve()}}let Vf={},Hf=[];const $f={};let zf,Wf,qf="dataLayer",Gf="gtag",Kf=!1;function Qf(){const e=[];if(Ke()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>`(${t+1}) ${e}`)).join(" "),n=Tf.create("invalid-analytics-context",{errorInfo:t});Sf.warn(n.message)}}function Yf(e,t,n){Qf();const r=e.options.appId;if(!r)throw Tf.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Tf.create("no-api-key");Sf.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Vf[r])throw Tf.create("already-exists",{id:r});if(!Kf){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(qf);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=kf(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}(Vf,Hf,$f,qf,Gf);Wf=e,zf=t,Kf=!0}Vf[r]=Uf(e,Hf,$f,t,zf,qf,n);return new Bf(e)}function Jf(e,t,n,r){e=ct(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(Wf,Vf[e.app.options.appId],t,n,r).catch((e=>Sf.error(e)))}const Xf="@firebase/analytics",Zf="0.10.11";_n(new ut(Ef,((e,t)=>{let{options:n}=t;return Yf(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),_n(new ut("analytics-internal",(function(e){try{const t=e.getProvider(Ef).getImmediate();return{logEvent:(e,n,r)=>Jf(t,e,n,r)}}catch(dP){throw Tf.create("interop-component-reg-failed",{reason:dP})}}),"PRIVATE")),kn(Xf,Zf),kn(Xf,Zf,"esm2017");function ep(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function tp(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const np=tp,rp=new Ze("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ip=new wt("@firebase/auth");function ap(e){if(ip.logLevel<=gt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ip.error(`Auth (${xn}): ${e}`,...n)}}function op(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw dp(e,...n)}function sp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return dp(e,...n)}function lp(e,t,n){const r=Object.assign(Object.assign({},np()),{[t]:n});return new Ze("auth","Firebase",r).create(t,{appName:e.name})}function cp(e){return lp(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function up(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&op(e,"argument-error"),lp(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return rp.create(e,...n)}function hp(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw dp(t,...r)}}function fp(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ap(t),new Error(t)}function pp(e,t){e||fp(t)}function gp(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function mp(){return"http:"===yp()||"https:"===yp()}function yp(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class vp{constructor(e,t){this.shortDelay=e,this.longDelay=t,pp(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(mp()||Ke()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function bp(e,t){pp(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class wp{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void fp("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void fp("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void fp("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _p={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ep=new vp(3e4,6e4);function Cp(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Sp(e,t,n,r){return Tp(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},a={};r&&("GET"===t?a=r:i={body:JSON.stringify(r)});const o=rt(Object.assign({key:e.config.apiKey},a)).slice(1),s=await e._getAdditionalHeaders();s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:s},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),wp.fetch()(Ip(e,e.config.apiHost,n,o),l)}))}async function Tp(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},_p),t);try{const t=new kp(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Pp(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const t=i.ok?a.errorMessage:a.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Pp(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===n)throw Pp(e,"email-already-in-use",a);if("USER_DISABLED"===n)throw Pp(e,"user-disabled",a);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw lp(e,s,o);op(e,s)}}catch(dP){if(dP instanceof Xe)throw dP;op(e,"network-request-failed",{message:String(dP)})}}async function xp(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const a=await Sp(e,t,n,r,i);return"mfaPendingCredential"in a&&op(e,"multi-factor-auth-required",{_serverResponse:a}),a}function Ip(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?bp(e.config,i):`${e.config.apiScheme}://${i}`}function Ap(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kp{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(sp(this.auth,"network-request-failed"))),Ep.get())}))}}function Pp(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=sp(e,t,r);return i.customData._tokenResponse=n,i}function Np(e){return void 0!==e&&void 0!==e.enterprise}class Dp{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Ap(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Rp(e,t){return Sp(e,"GET","/v2/recaptchaConfig",Cp(e,t))}async function Op(e,t){return Sp(e,"POST","/v1/accounts:lookup",t)}function Lp(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(dP){}}function Mp(e){return 1e3*Number(e)}function jp(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return ap("JWT malformed, contained fewer than 3 sections"),null;try{const e=Be(n);return e?JSON.parse(e):(ap("Failed to decode base64 JWT payload"),null)}catch(dP){return ap("Caught error parsing JWT payload as JSON",null===dP||void 0===dP?void 0:dP.toString()),null}}function Fp(e){const t=jp(e);return hp(t,"internal-error"),hp("undefined"!==typeof t.exp,"internal-error"),hp("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Up(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(dP){throw dP instanceof Xe&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(dP)&&e.auth.currentUser===e&&await e.auth.signOut(),dP}}class Bp{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(dP){return void("auth/network-request-failed"===(null===dP||void 0===dP?void 0:dP.code)&&this.schedule(!0))}this.schedule()}}class Vp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lp(this.lastLoginAt),this.creationTime=Lp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Hp(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Up(e,Op(n,{idToken:r}));hp(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const o=(null===(t=a.providerUserInfo)||void 0===t?void 0:t.length)?$p(a.providerUserInfo):[],s=(l=e.providerData,c=o,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&a.passwordHash)&&!(null===s||void 0===s?void 0:s.length),h=!!u&&d,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new Vp(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function $p(e){return e.map((e=>{var{providerId:t}=e,n=ep(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class zp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){hp(e.idToken,"internal-error"),hp("undefined"!==typeof e.idToken,"internal-error"),hp("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Fp(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){hp(0!==e.length,"internal-error");const t=Fp(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(hp(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Tp(e,{},(async()=>{const n=rt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=Ip(e,r,"/v1/token",`key=${i}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",wp.fetch()(a,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new zp;return n&&(hp("string"===typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(hp("string"===typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(hp("number"===typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zp,this.toJSON())}_performRefresh(){return fp("not implemented")}}function Wp(e,t){hp("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class qp{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=ep(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Bp(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Vp(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Up(this,this.stsTokenManager.getToken(this.auth,e));return hp(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=ct(e),r=await n.getIdToken(t),i=jp(r);hp(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a="object"===typeof i.firebase?i.firebase:void 0,o=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Lp(Mp(i.auth_time)),issuedAtTime:Lp(Mp(i.iat)),expirationTime:Lp(Mp(i.exp)),signInProvider:o||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=ct(e);await Hp(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(hp(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new qp(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){hp(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Hp(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cn(this.auth.app))return Promise.reject(cp(this.auth));const e=await this.getIdToken();return await Up(this,async function(e,t){return Sp(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,a,o,s,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(a=t.photoURL)&&void 0!==a?a:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:E}=t;hp(v&&E,e,"internal-error");const C=zp.fromJSON(this.name,E);hp("string"===typeof v,e,"internal-error"),Wp(u,e.name),Wp(d,e.name),hp("boolean"===typeof b,e,"internal-error"),hp("boolean"===typeof w,e,"internal-error"),Wp(h,e.name),Wp(f,e.name),Wp(p,e.name),Wp(g,e.name),Wp(m,e.name),Wp(y,e.name);const S=new qp({uid:v,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:C,createdAt:m,lastLoginAt:y});return _&&Array.isArray(_)&&(S.providerData=_.map((e=>Object.assign({},e)))),g&&(S._redirectEventId=g),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new zp;r.updateFromServerResponse(t);const i=new qp({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Hp(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];hp(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?$p(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),o=new zp;o.updateFromIdToken(n);const s=new qp({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:a}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Vp(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(s,l),s}}const Gp=new Map;function Kp(e){pp(e instanceof Function,"Expected a class definition");let t=Gp.get(e);return t?(pp(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Gp.set(e,t),t)}class Qp{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Qp.type="NONE";const Yp=Qp;function Jp(e,t,n){return`firebase:${e}:${t}:${n}`}class Xp{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Jp(this.userKey,r.apiKey,i),this.fullPersistenceKey=Jp("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?qp._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Xp(Kp(Yp),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Kp(Yp);const a=Jp(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(a);if(t){const n=qp._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(l){}const s=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&s.length?(i=s[0],o&&await i._set(a,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(a)}catch(l){}}))),new Xp(i,e,n)):new Xp(i,e,n)}}function Zp(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(rg(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(eg(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ag(t))return"Blackberry";if(og(t))return"Webos";if(tg(t))return"Safari";if((t.includes("chrome/")||ng(t))&&!t.includes("edge/"))return"Chrome";if(ig(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function eg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return/firefox\//i.test(e)}function tg(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ng(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return/crios\//i.test(e)}function rg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return/iemobile/i.test(e)}function ig(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return/android/i.test(e)}function ag(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return/blackberry/i.test(e)}function og(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return/webos/i.test(e)}function sg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function lg(){return function(){const e=Ge();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function cg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return sg(e)||ig(e)||og(e)||ag(e)||/windows phone/i.test(e)||rg(e)}function ug(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Zp(Ge());break;case"Worker":t=`${Zp(Ge())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${xn}/${r}`}class dg{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(dP){r(dP)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(dP){t.reverse();for(const n of t)try{n()}catch(qv){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===dP||void 0===dP?void 0:dP.message})}}}class hg{constructor(e){var t,n,r,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=a.minPasswordLength)&&void 0!==t?t:6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),void 0!==a.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),void 0!==a.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),void 0!==a.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),void 0!==a.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,a,o;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(a=s.containsNumericCharacter)||void 0===a||a),s.isValid&&(s.isValid=null===(o=s.containsNonAlphanumericCharacter)||void 0===o||o),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class fg{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gg(this),this.idTokenSubscription=new gg(this),this.beforeStateQueue=new dg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rp,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Kp(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Xp.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(dP){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Op(this,{idToken:e}),n=await qp._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Cn(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(dP){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(dP)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return hp(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(dP){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Hp(e)}catch(dP){if("auth/network-request-failed"!==(null===dP||void 0===dP?void 0:dP.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cn(this.app))return Promise.reject(cp(this));const t=e?ct(e):null;return t&&hp(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&hp(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return Cn(this.app)?Promise.reject(cp(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cn(this.app)?Promise.reject(cp(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(Kp(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Sp(e,"GET","/v2/passwordPolicy",Cp(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new hg(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ze("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Sp(e,"POST","/v2/accounts:revokeToken",Cp(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Kp(e)||this._popupRedirectResolver;hp(t,this,"argument-error"),this.redirectPersistenceManager=await Xp.create(this,[Kp(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(hp(o,this,"internal-error"),o.then((()=>{a||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{a=!0,i()}}{const n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return hp(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ug(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(ip.logLevel<=gt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ip.warn(`Auth (${xn}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function pg(e){return ct(e)}class gg{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new ot(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return hp(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let mg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yg(e){return mg.loadJS(e)}function vg(e){return`__${e}${Math.floor(1e6*Math.random())}`}class bg{constructor(){this.enterprise=new wg}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class wg{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const _g="NO_RECAPTCHA";class Eg{constructor(e){this.type="recaptcha-enterprise",this.auth=pg(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Np(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(_g)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new bg).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Rp(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Dp(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Np(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=mg.recaptchaEnterpriseScript;0!==t.length&&(t+=i),yg(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Cg(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const a=new Eg(e);let o;if(i)o=_g;else try{o=await a.verify(n)}catch(l){o=await a.verify(n,!0)}const s=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Sg(e,t,n,r,i){var a,o;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Cg(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await Cg(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("PHONE_PROVIDER")){const i=await Cg(e,t,n);return r(e,i).catch((async i=>{var a;if("AUDIT"===(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await Cg(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)}))}{const i=await Cg(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Tg(e){const t=pg(e),n=await Rp(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Dp(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Eg(t).verify()}}function xg(e,t,n){const r=pg(e);hp(r._canInitEmulator,r,"emulator-config-failed"),hp(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Ig(t),{host:o,port:s}=function(e){const t=Ig(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ag(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ag(t)}}}(t),l=null===s?"":`:${s}`;r.config.emulator={url:`${a}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ig(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ag(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class kg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return fp("not implemented")}_getIdTokenResponse(e){return fp("not implemented")}_linkToIdToken(e,t){return fp("not implemented")}_getReauthenticationResolver(e){return fp("not implemented")}}async function Pg(e,t){return Sp(e,"POST","/v1/accounts:signUp",t)}async function Ng(e,t){return xp(e,"POST","/v1/accounts:signInWithPassword",Cp(e,t))}class Dg extends kg{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Dg(e,t,"password")}static _fromEmailAndCode(e,t){return new Dg(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Sg(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ng,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return xp(e,"POST","/v1/accounts:signInWithEmailLink",Cp(e,t))}(e,{email:this._email,oobCode:this._password});default:op(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Sg(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Pg,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return xp(e,"POST","/v1/accounts:signInWithEmailLink",Cp(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:op(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Rg(e,t){return xp(e,"POST","/v1/accounts:signInWithIdp",Cp(e,t))}class Og extends kg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Og(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):op("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=ep(t,["providerId","signInMethod"]);if(!n||!r)return null;const a=new Og(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return Rg(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Rg(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Rg(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=rt(t)}return e}}async function Lg(e,t){return Sp(e,"POST","/v1/accounts:sendVerificationCode",Cp(e,t))}const Mg={USER_NOT_FOUND:"user-not-found"};class jg extends kg{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new jg({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new jg({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return xp(e,"POST","/v1/accounts:signInWithPhoneNumber",Cp(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await xp(e,"POST","/v1/accounts:signInWithPhoneNumber",Cp(e,t));if(n.temporaryProof)throw Pp(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return xp(e,"POST","/v1/accounts:signInWithPhoneNumber",Cp(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Mg)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new jg({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Fg{constructor(e){var t,n,r,i,a,o;const s=it(at(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);hp(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(a=s.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(o=s.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=it(at(e)).link,n=t?it(at(t)).deep_link_id:null,r=it(at(e)).deep_link_id;return(r?it(at(r)).link:null)||r||n||t||e}(e);try{return new Fg(t)}catch(n){return null}}}class Ug{constructor(){this.providerId=Ug.PROVIDER_ID}static credential(e,t){return Dg._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Fg.parseLink(t);return hp(n,"argument-error"),Dg._fromEmailAndCode(e,n.code,n.tenantId)}}Ug.PROVIDER_ID="password",Ug.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ug.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Bg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Vg extends Bg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Hg extends Vg{constructor(){super("facebook.com")}static credential(e){return Og._fromParams({providerId:Hg.PROVIDER_ID,signInMethod:Hg.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hg.credentialFromTaggedObject(e)}static credentialFromError(e){return Hg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Hg.credential(t.oauthAccessToken)}catch(n){return null}}}Hg.FACEBOOK_SIGN_IN_METHOD="facebook.com",Hg.PROVIDER_ID="facebook.com";class $g extends Vg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Og._fromParams({providerId:$g.PROVIDER_ID,signInMethod:$g.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return $g.credentialFromTaggedObject(e)}static credentialFromError(e){return $g.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return $g.credential(n,r)}catch(i){return null}}}$g.GOOGLE_SIGN_IN_METHOD="google.com",$g.PROVIDER_ID="google.com";class zg extends Vg{constructor(){super("github.com")}static credential(e){return Og._fromParams({providerId:zg.PROVIDER_ID,signInMethod:zg.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zg.credentialFromTaggedObject(e)}static credentialFromError(e){return zg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return zg.credential(t.oauthAccessToken)}catch(n){return null}}}zg.GITHUB_SIGN_IN_METHOD="github.com",zg.PROVIDER_ID="github.com";class Wg extends Vg{constructor(){super("twitter.com")}static credential(e,t){return Og._fromParams({providerId:Wg.PROVIDER_ID,signInMethod:Wg.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Wg.credentialFromTaggedObject(e)}static credentialFromError(e){return Wg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Wg.credential(n,r)}catch(i){return null}}}Wg.TWITTER_SIGN_IN_METHOD="twitter.com",Wg.PROVIDER_ID="twitter.com";class qg{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await qp._fromIdTokenResponse(e,n,r),a=Gg(n);return new qg({user:i,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Gg(n);return new qg({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Gg(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Kg extends Xe{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Kg.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Kg(e,t,n,r)}}function Qg(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Kg._fromErrorAndOperation(e,n,t,r);throw n}))}async function Yg(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Up(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return qg._forOperation(e,"link",r)}async function Jg(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Cn(r.app))return Promise.reject(cp(r));const i="reauthenticate";try{const a=await Up(e,Qg(r,i,t,e),n);hp(a.idToken,r,"internal-error");const o=jp(a.idToken);hp(o,r,"internal-error");const{sub:s}=o;return hp(e.uid===s,r,"user-mismatch"),qg._forOperation(e,i,a)}catch(dP){throw"auth/user-not-found"===(null===dP||void 0===dP?void 0:dP.code)&&op(r,"user-mismatch"),dP}}async function Xg(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Cn(e.app))return Promise.reject(cp(e));const r="signIn",i=await Qg(e,r,t),a=await qg._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}function Zg(e,t,n,r){return ct(e).onAuthStateChanged(t,n,r)}function em(e,t){return Sp(e,"POST","/v2/accounts/mfaEnrollment:start",Cp(e,t))}new WeakMap;const tm="__sak";class nm{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(tm,"1"),this.storage.removeItem(tm),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class rm extends nm{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cg(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);lg()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}rm.type="LOCAL";const im=rm;class am extends nm{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}am.type="SESSION";const om=am;class sm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new sm(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(!(null===a||void 0===a?void 0:a.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(a).map((async e=>e(t.origin,i))),s=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function lm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}sm.receivers=[];class cm{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise(((o,s)=>{const l=lm("",20);r.port1.start();const c=setTimeout((()=>{s(new Error("unsupported_event"))}),n);a={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{a&&this.removeMessageHandler(a)}))}}function um(){return window}function dm(){return"undefined"!==typeof um().WorkerGlobalScope&&"function"===typeof um().importScripts}const hm="firebaseLocalStorageDb",fm="firebaseLocalStorage",pm="fbase_key";class gm{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function mm(e,t){return e.transaction([fm],t?"readwrite":"readonly").objectStore(fm)}function ym(){const e=indexedDB.open(hm,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(fm,{keyPath:pm})}catch(dP){n(dP)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(fm)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(hm);return new gm(e).toPromise()}(),t(await ym()))}))}))}async function vm(e,t,n){const r=mm(e,!0).put({[pm]:t,value:n});return new gm(r).toPromise()}function bm(e,t){const n=mm(e,!0).delete(t);return new gm(n).toPromise()}class wm{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await ym()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(dP){if(t++>3)throw dP;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dm()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sm._getInstance(dm()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new cm(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ym();return await vm(e,tm,"1"),await bm(e,tm),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>vm(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=mm(e,!1).get(t),r=await new gm(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>bm(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=mm(e,!1).getAll();return new gm(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}wm.type="LOCAL";const _m=wm;function Em(e,t){return Sp(e,"POST","/v2/accounts/mfaSignIn:start",Cp(e,t))}vg("rcb"),new vp(3e4,6e4);const Cm="recaptcha";async function Sm(e,t,n){var r;if(!e._getRecaptchaConfig())try{await Tg(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){hp("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},a=Sg(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===_g){hp((null===n||void 0===n?void 0:n.type)===Cm,e,"argument-error");return em(e,await Tm(e,t,n))}return em(e,t)}),"PHONE_PROVIDER"),o=await a.catch((e=>Promise.reject(e)));return o.phoneSessionInfo.sessionInfo}{hp("signin"===t.type,e,"internal-error");const a=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;hp(a,e,"missing-multi-factor-info");const o={mfaPendingCredential:t.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},s=Sg(e,o,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===_g){hp((null===n||void 0===n?void 0:n.type)===Cm,e,"argument-error");return Em(e,await Tm(e,t,n))}return Em(e,t)}),"PHONE_PROVIDER"),l=await s.catch((e=>Promise.reject(e)));return l.phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Sg(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===_g){hp((null===n||void 0===n?void 0:n.type)===Cm,e,"argument-error");return Lg(e,await Tm(e,t,n))}return Lg(e,t)}),"PHONE_PROVIDER"),a=await r.catch((e=>Promise.reject(e)));return a.sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Tm(e,t,n){hp(n.type===Cm,e,"argument-error");const r=await n.verify();hp("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,a=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:a}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class xm{constructor(e){this.providerId=xm.PROVIDER_ID,this.auth=pg(e)}verifyPhoneNumber(e,t){return Sm(this.auth,e,ct(t))}static credential(e,t){return jg._fromVerification(e,t)}static credentialFromResult(e){const t=e;return xm.credentialFromTaggedObject(t)}static credentialFromError(e){return xm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?jg._fromTokenResponse(n,r):null}}function Im(e,t){return t?Kp(t):(hp(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}xm.PROVIDER_ID="phone",xm.PHONE_SIGN_IN_METHOD="phone";class Am extends kg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Rg(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Rg(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Rg(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function km(e){return Xg(e.auth,new Am(e),e.bypassAuthState)}function Pm(e){const{auth:t,user:n}=e;return hp(n,t,"internal-error"),Jg(n,new Am(e),e.bypassAuthState)}async function Nm(e){const{auth:t,user:n}=e;return hp(n,t,"internal-error"),Yg(n,new Am(e),e.bypassAuthState)}class Dm{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(dP){this.reject(dP)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:o}=e;if(a)return void this.reject(a);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(s))}catch(dP){this.reject(dP)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return km;case"linkViaPopup":case"linkViaRedirect":return Nm;case"reauthViaPopup":case"reauthViaRedirect":return Pm;default:op(this.auth,"internal-error")}}resolve(e){pp(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pp(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Rm=new vp(2e3,1e4);class Om extends Dm{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Om.currentPopupAction&&Om.currentPopupAction.cancel(),Om.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return hp(e,this.auth,"internal-error"),e}async onExecution(){pp(1===this.filter.length,"Popup operations only handle one event");const e=lm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(sp(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(sp(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Om.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(sp(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Rm.get())};e()}}Om.currentPopupAction=null;const Lm=new Map;class Mm extends Dm{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Lm.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Um(t),r=Fm(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(dP){e=()=>Promise.reject(dP)}Lm.set(this.auth._key(),e)}return this.bypassAuthState||Lm.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function jm(e,t){Lm.set(e._key(),t)}function Fm(e){return Kp(e._redirectPersistence)}function Um(e){return Jp("pendingRedirect",e.config.apiKey,e.name)}async function Bm(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Cn(e.app))return Promise.reject(cp(e));const r=pg(e),i=Im(r,t),a=new Mm(r,i,n),o=await a.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class Vm{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $m(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!$m(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(sp(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hm(e))}saveEventToCache(e){this.cachedEventUids.add(Hm(e)),this.lastProcessedEventTime=Date.now()}}function Hm(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function $m(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const zm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wm=/^https?/;async function qm(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Sp(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Gm(r))return}catch(n){}op(e,"unauthorized-domain")}function Gm(e){const t=gp(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Wm.test(n))return!1;if(zm.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Km=new vp(3e4,6e4);function Qm(){const e=um().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Ym(e){return new Promise(((t,n)=>{var r,i,a;function o(){Qm(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Qm(),n(sp(e,"network-request-failed"))},timeout:Km.get()})}if(null===(i=null===(r=um().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=um().gapi)||void 0===a?void 0:a.load)){const t=vg("iframefcb");return um()[t]=()=>{gapi.load?o():n(sp(e,"network-request-failed"))},yg(`${mg.gapiScript}?onload=${t}`).catch((e=>n(e)))}o()}})).catch((e=>{throw Jm=null,e}))}let Jm=null;const Xm=new vp(5e3,15e3),Zm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ey=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ty(e){const t=e.config;hp(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?bp(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:xn},i=ey.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${rt(r).slice(1)}`}async function ny(e){const t=await function(e){return Jm=Jm||Ym(e),Jm}(e),n=um().gapi;return hp(n,e,"internal-error"),t.open({where:document.body,url:ty(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zm,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=sp(e,"network-request-failed"),a=um().setTimeout((()=>{r(i)}),Xm.get());function o(){um().clearTimeout(a),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}const ry={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class iy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(dP){}}}function ay(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},ry),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Ge().toLowerCase();n&&(s=ng(c)?"_blank":n),eg(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return sg(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new iy(null);const d=window.open(t||"",s,u);hp(d,e,"popup-blocked");try{d.focus()}catch(dP){}return new iy(d)}const oy="__/auth/handler",sy="emulator/auth/handler",ly=encodeURIComponent("fac");async function cy(e,t,n,r,i,a){hp(e.config.authDomain,e,"auth-domain-config-required"),hp(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:xn,eventId:i};if(t instanceof Bg){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))o[e]=t}if(t instanceof Vg){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const s=o;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await e._getAppCheckToken(),c=l?`#${ly}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${oy}`;return bp(t,sy)}(e)}?${rt(s).slice(1)}${c}`}const uy="webStorageSupport";const dy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=om,this._completeRedirectFn=Bm,this._overrideRedirectResult=jm}async _openPopup(e,t,n,r){var i;pp(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return ay(e,await cy(e,t,n,gp(),r),lm())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){um().location.href=e}(await cy(e,t,n,gp(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(pp(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await ny(e),n=new Vm(e);return t.register("authEvent",(t=>{hp(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(uy,{type:uy},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[uy];void 0!==i&&t(!!i),op(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=qm(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return cg()||tg()||sg()}};var hy="@firebase/auth",fy="1.9.0";class py{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){hp(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const gy=We("authIdTokenMaxAge")||300;let my=null;var yy;!function(e){mg=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=sp("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),yy="Browser",_n(new ut("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=r.options;hp(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:s,clientPlatform:yy,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ug(yy)},c=new fg(r,i,a,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Kp);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),_n(new ut("auth-internal",(e=>(e=>new py(e))(pg(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),kn(hy,fy,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(yy)),kn(hy,fy,"esm2017");const vy=In({apiKey:"AIzaSyC3BQWHWwt95U96YEiIyhKvxOMt3qCt41w",authDomain:"jnj-online.firebaseapp.com",projectId:"jnj-online",storageBucket:"jnj-online.firebasestorage.app",messagingSenderId:"782778747979",appId:"1:782778747979:web:431d9dc56d1adbde96d1ce",measurementId:"G-HTVE1315K4"}),by=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:An();e=ct(e);const t=En(e,Ef);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=En(e,Ef);if(n.isInitialized()){const e=n.getImmediate();if(tt(t,n.getOptions()))return e;throw Tf.create("already-initialized")}const r=n.initialize({options:t})}(e)}(vy),function(e,t){const n="object"==typeof e?e:An(),r="string"==typeof e?e:t||Ji,i=En(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(e=>{const t=$e(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&bd(i,...e)}return i}(vy)),wy=new $g(vy);wy.setCustomParameters({prompt:"select_account "});const _y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:An();const t=En(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=En(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(tt(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;op(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:dy,persistence:[_m,im,om]}),r=We("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>gy)return;const r=null===t||void 0===t?void 0:t.token;my!==r&&(my=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){ct(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){ct(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const a=$e("auth");return a&&xg(n,`http://${a}`),n}(),Ey=()=>async function(e,t,n){if(Cn(e.app))return Promise.reject(sp(e,"operation-not-supported-in-this-environment"));const r=pg(e);up(e,t,Bg);const i=Im(r,n);return new Om(r,"signInViaPopup",t,i).executeNotNull()}(_y,wy);const Cy=n.p+"static/media/default_profile.bfa6b1bf0bb79cddcb1583911fc58628.svg";function Sy(e){let{userInfo:n,setUserInfo:r}=e;const[i,a]=(0,t.useState)(!1),[o,s]=(0,t.useState)("");async function l(){try{if(null===_y.currentUser)throw new Error("No Current user is found!");await function(e,t,n){e=pd(e,_d);const r=pd(e.firestore,Ad),i=bh(e.converter,t,n);return Ph(r,[$d(Hd(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,qo.none())])}(Sd(by,"players",_y.currentUser.uid),{name:o,characters:[],campaigns:[]}),r(_y.currentUser),a(!1)}catch(e){console.log(e),console.log("Error adding Player!")}}return(0,Re.jsxs)("nav",{className:"Navigation",children:[(0,Re.jsx)(ke,{to:"/home",className:"Navigation-button",children:"Home"}),(0,Re.jsx)(ke,{to:"/blog",className:"Navigation-button",children:"Blog"}),(0,Re.jsx)(ke,{to:"/characters",className:"Navigation-button",children:"Characters"}),(0,Re.jsx)(ke,{to:"/class-list",className:"Navigation-button",children:"Class List"}),(0,Re.jsx)(ke,{to:"/campaigns",className:"Navigation-button",children:"Campaigns"}),(0,Re.jsx)(ke,{to:"/account",className:"Navigation-button",children:"Account"}),(0,Re.jsxs)("button",{onClick:async()=>{try{const e=await Ey(),t=e.user;(await Th(Sd(by,"players",t.uid))).exists()?(console.log("the user exists!"),r(e.user),a(!1),console.log(t.uid)):(console.log("user does not exist, making a new player!"),a(!0))}catch(e){console.log(e)}},className:"Navigation-button",children:["Sign In",(0,Re.jsx)("img",{src:(null===n||void 0===n?void 0:n.photoURL)||Cy,alt:(null===n||void 0===n?void 0:n.displayName)||"User",className:"Navigation-user-icon"})]}),i&&(0,Re.jsxs)("div",{className:"Navigation-new-player",children:[(0,Re.jsx)("h1",{children:"New Account:"}),(0,Re.jsx)("input",{className:"Navigation-new-player-input",type:"text",required:!0,name:"name",onChange:e=>s(e.target.value),placeholder:"player name"}),(0,Re.jsx)("button",{className:"Navigation-new-player-button",onClick:()=>l(),children:"Submit"})]})]})}function Ty(){return Ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ty.apply(this,arguments)}const xy=["children","options"],Iy="0",Ay="1",ky="2",Py="3",Ny="4",Dy="5",Ry="6",Oy="7",Ly="8",My="9",jy="10",Fy="11",Uy="12",By="13",Vy="14",Hy="15",$y="16",zy="17",Wy="18",qy="19",Gy="20",Ky="21",Qy="22",Yy="23",Jy="24",Xy="25",Zy="26",ev="27",tv="28",nv="29",rv="30",iv="31",av="32",ov="33";var sv;!function(e){e[e.MAX=0]="MAX",e[e.HIGH=1]="HIGH",e[e.MED=2]="MED",e[e.LOW=3]="LOW",e[e.MIN=4]="MIN"}(sv||(sv={}));const lv=["allowFullScreen","allowTransparency","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","charSet","className","classId","colSpan","contentEditable","contextMenu","crossOrigin","encType","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","hrefLang","inputMode","keyParams","keyType","marginHeight","marginWidth","maxLength","mediaGroup","minLength","noValidate","radioGroup","readOnly","rowSpan","spellCheck","srcDoc","srcLang","srcSet","tabIndex","useMap"].reduce(((e,t)=>(e[t.toLowerCase()]=t,e)),{for:"htmlFor"}),cv={amp:"&",apos:"'",gt:">",lt:"<",nbsp:"\xa0",quot:"\u201c"},uv=["style","script"],dv=/([-A-Z0-9_:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|(?:\{((?:\\.|{[^}]*?}|[^}])*)\})))?/gi,hv=/mailto:/i,fv=/\n{2,}$/,pv=/^(\s*>[\s\S]*?)(?=\n{2,})/,gv=/^ *> ?/gm,mv=/^ {2,}\n/,yv=/^(?:( *[-*_])){3,} *(?:\n *)+\n/,vv=/^\s*(`{3,}|~{3,}) *(\S+)?([^\n]*?)?\n([\s\S]+?)\s*\1 *(?:\n *)*\n?/,bv=/^(?: {4}[^\n]+\n*)+(?:\n *)+\n?/,wv=/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,_v=/^(?:\n *)*\n/,Ev=/\r\n?/g,Cv=/^\[\^([^\]]+)](:(.*)((\n+ {4,}.*)|(\n(?!\[\^).+))*)/,Sv=/^\[\^([^\]]+)]/,Tv=/\f/g,xv=/^---[ \t]*\n(.|\n)*\n---[ \t]*\n/,Iv=/^\s*?\[(x|\s)\]/,Av=/^ *(#{1,6}) *([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,kv=/^ *(#{1,6}) +([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,Pv=/^([^\n]+)\n *(=|-){3,} *(?:\n *)+\n/,Nv=/^ *(?!<[a-z][^ >/]* ?\/>)<([a-z][^ >/]*) ?((?:[^>]*[^/])?)>\n?(\s*(?:<\1[^>]*?>[\s\S]*?<\/\1>|(?!<\1\b)[\s\S])*?)<\/\1>(?!<\/\1>)\n*/i,Dv=/&([a-z0-9]+|#[0-9]{1,6}|#x[0-9a-fA-F]{1,6});/gi,Rv=/^<!--[\s\S]*?(?:-->)/,Ov=/^(data|aria|x)-[a-z_][a-z\d_.-]*$/,Lv=/^ *<([a-z][a-z0-9:]*)(?:\s+((?:<.*?>|[^>])*))?\/?>(?!<\/\1>)(\s*\n)?/i,Mv=/^\{.*\}$/,jv=/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,Fv=/^<([^ >]+@[^ >]+)>/,Uv=/^<([^ >]+:\/[^ >]+)>/,Bv=/-([a-z])?/gi,Vv=/^(.*\|.*)\n(?: *(\|? *[-:]+ *\|[-| :]*)\n((?:.*\|.*\n)*))?\n?/,Hv=/^\[([^\]]*)\]:\s+<?([^\s>]+)>?\s*("([^"]*)")?/,$v=/^!\[([^\]]*)\] ?\[([^\]]*)\]/,zv=/^\[([^\]]*)\] ?\[([^\]]*)\]/,Wv=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s)/,qv=/\t/g,Gv=/(^ *\||\| *$)/g,Kv=/^ *:-+: *$/,Qv=/^ *:-+ *$/,Yv=/^ *-+: *$/,Jv="((?:\\[.*?\\][([].*?[)\\]]|<.*?>(?:.*?<.*?>)?|`.*?`|~~.*?~~|==.*?==|.|\\n)*?)",Xv=new RegExp(`^([*_])\\1${Jv}\\1\\1(?!\\1)`),Zv=new RegExp(`^([*_])${Jv}\\1(?!\\1|\\w)`),eb=new RegExp(`^==${Jv}==`),tb=new RegExp(`^~~${Jv}~~`),nb=/^\\([^0-9A-Za-z\s])/,rb=/^[\s\S]+?(?=[^0-9A-Z\s\u00c0-\uffff&#;.()'"]|\d+\.|\n\n| {2,}\n|\w+:\S|$)/i,ib=/^\n+/,ab=/^([ \t]*)/,ob=/\\([^\\])/g,sb=/ *\n+$/,lb=/(?:^|\n)( *)$/,cb="(?:\\d+\\.)",ub="(?:[*+-])";function db(e){return"( *)("+(1===e?cb:ub)+") +"}const hb=db(1),fb=db(2);function pb(e){return new RegExp("^"+(1===e?hb:fb))}const gb=pb(1),mb=pb(2);function yb(e){return new RegExp("^"+(1===e?hb:fb)+"[^\\n]*(?:\\n(?!\\1"+(1===e?cb:ub)+" )[^\\n]*)*(\\n|$)","gm")}const vb=yb(1),bb=yb(2);function wb(e){const t=1===e?cb:ub;return new RegExp("^( *)("+t+") [\\s\\S]+?(?:\\n{2,}(?! )(?!\\1"+t+" (?!"+t+" ))\\n*|\\s*\\n*$)")}const _b=wb(1),Eb=wb(2);function Cb(e,t){const n=1===t,r=n?_b:Eb,i=n?vb:bb,a=n?gb:mb;return{match(e,t){const n=lb.exec(t.prevCapture);return n&&(t.list||!t.inline&&!t.simple)?r.exec(e=n[1]+e):null},order:1,parse(e,t,r){const o=n?+e[2]:void 0,s=e[0].replace(fv,"\n").match(i);let l=!1;return{items:s.map((function(e,n){const i=a.exec(e)[0].length,o=new RegExp("^ {1,"+i+"}","gm"),c=e.replace(o,"").replace(a,""),u=n===s.length-1,d=-1!==c.indexOf("\n\n")||u&&l;l=d;const h=r.inline,f=r.list;let p;r.list=!0,d?(r.inline=!1,p=c.replace(sb,"\n\n")):(r.inline=!0,p=c.replace(sb,""));const g=t(p,r);return r.inline=h,r.list=f,g})),ordered:n,start:o}},render:(t,n,r)=>e(t.ordered?"ol":"ul",{key:r.key,start:t.type===Gy?t.start:void 0},t.items.map((function(t,i){return e("li",{key:i},n(t,r))})))}}const Sb=new RegExp("^\\[((?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*)\\]\\(\\s*<?((?:\\([^)]*\\)|[^\\s\\\\]|\\\\.)*?)>?(?:\\s+['\"]([\\s\\S]*?)['\"])?\\s*\\)"),Tb=/^!\[(.*?)\]\( *((?:\([^)]*\)|[^() ])*) *"?([^)"]*)?"?\)/,xb=[pv,vv,bv,Av,Pv,kv,Rv,Vv,vb,_b,bb,Eb],Ib=[...xb,/^[^\n]+(?:  \n|\n{2,})/,Nv,Lv];function Ab(e){return e.replace(/[\xc0\xc1\xc2\xc3\xc4\xc5\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xc6]/g,"a").replace(/[\xe7\xc7]/g,"c").replace(/[\xf0\xd0]/g,"d").replace(/[\xc8\xc9\xca\xcb\xe9\xe8\xea\xeb]/g,"e").replace(/[\xcf\xef\xce\xee\xcd\xed\xcc\xec]/g,"i").replace(/[\xd1\xf1]/g,"n").replace(/[\xf8\xd8\u0153\u0152\xd5\xf5\xd4\xf4\xd3\xf3\xd2\xf2]/g,"o").replace(/[\xdc\xfc\xdb\xfb\xda\xfa\xd9\xf9]/g,"u").replace(/[\u0178\xff\xdd\xfd]/g,"y").replace(/[^a-z0-9- ]/gi,"").replace(/ /gi,"-").toLowerCase()}function kb(e){return Yv.test(e)?"right":Kv.test(e)?"center":Qv.test(e)?"left":null}function Pb(e,t,n,r){const i=n.inTable;n.inTable=!0;let a=e.trim().split(/( *(?:`[^`]*`|<.*?>.*?<\/.*?>(?!<\/.*?>)|\\\||\|) *)/).reduce(((e,i)=>("|"===i.trim()?e.push(r?{type:Zy}:{type:ev,text:i}):""!==i&&e.push.apply(e,t(i,n)),e)),[]);n.inTable=i;let o=[[]];return a.forEach((function(e,t){e.type===Zy?0!==t&&t!==a.length-1&&o.push([]):(e.type!==ev||null!=a[t+1]&&a[t+1].type!==Zy||(e.text=e.text.trimEnd()),o[o.length-1].push(e))})),o}function Nb(e,t,n){n.inline=!0;const r=e[2]?e[2].replace(Gv,"").split("|").map(kb):[],i=e[3]?function(e,t,n){return e.trim().split("\n").map((function(e){return Pb(e,t,n,!0)}))}(e[3],t,n):[],a=Pb(e[1],t,n,!!i.length);return n.inline=!1,i.length?{align:r,cells:i,header:a,type:Xy}:{children:a,type:Ky}}function Db(e,t){return null==e.align[t]?{}:{textAlign:e.align[t]}}function Rb(e){return function(t,n){return n.inline?e.exec(t):null}}function Ob(e){return function(t,n){return n.inline||n.simple?e.exec(t):null}}function Lb(e){return function(t,n){return n.inline||n.simple?null:e.exec(t)}}function Mb(e){return function(t){return e.exec(t)}}function jb(e,t,n){if(t.inline||t.simple)return null;if(n&&!n.endsWith("\n"))return null;let r="";e.split("\n").every((e=>!xb.some((t=>t.test(e)))&&(r+=e+"\n",e.trim())));const i=r.trimEnd();return""==i?null:[r,i]}function Fb(e){try{if(decodeURIComponent(e).replace(/[^A-Za-z0-9/:]/g,"").match(/^\s*(javascript|vbscript|data(?!:image)):/i))return null}catch(e){return null}return e}function Ub(e){return e.replace(ob,"$1")}function Bb(e,t,n){const r=n.inline||!1,i=n.simple||!1;n.inline=!0,n.simple=!0;const a=e(t,n);return n.inline=r,n.simple=i,a}function Vb(e,t,n){const r=n.inline||!1,i=n.simple||!1;n.inline=!1,n.simple=!0;const a=e(t,n);return n.inline=r,n.simple=i,a}function Hb(e,t,n){const r=n.inline||!1;n.inline=!1;const i=e(t,n);return n.inline=r,i}const $b=(e,t,n)=>({children:Bb(t,e[1],n)});function zb(){return{}}function Wb(){return null}function qb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}function Gb(e,t,n){let r=e;const i=t.split(".");for(;i.length&&(r=r[i[0]],void 0!==r);)i.shift();return r||n}function Kb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};function r(e,t){const r=Gb(n.overrides,`${e}.props`,{});for(var i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];return n.createElement(function(e,t){const n=Gb(t,e);return n?"function"==typeof n||"object"==typeof n&&"render"in n?n:Gb(t,`${e}.component`,e):e}(e,n.overrides),Ty({},t,r,{className:qb(null==t?void 0:t.className,r.className)||void 0}),...a)}function i(e){e=e.replace(xv,"");let i=!1;n.forceInline?i=!0:n.forceBlock||(i=!1===Wv.test(e));const a=u(c(i?e:`${e.trimEnd().replace(ib,"")}\n\n`,{inline:i}));for(;"string"==typeof a[a.length-1]&&!a[a.length-1].trim();)a.pop();if(null===n.wrapper)return a;const o=n.wrapper||(i?"span":"div");let s;if(a.length>1||n.forceWrapper)s=a;else{if(1===a.length)return s=a[0],"string"==typeof s?r("span",{key:"outer"},s):s;s=null}return t.createElement(o,{key:"outer"},s)}function a(e,r){const a=r.match(dv);return a?a.reduce((function(r,a,o){const s=a.indexOf("=");if(-1!==s){const l=function(e){return-1!==e.indexOf("-")&&null===e.match(Ov)&&(e=e.replace(Bv,(function(e,t){return t.toUpperCase()}))),e}(a.slice(0,s)).trim(),c=function(e){const t=e[0];return('"'===t||"'"===t)&&e.length>=2&&e[e.length-1]===t?e.slice(1,-1):e}(a.slice(s+1).trim()),u=lv[l]||l,d=r[u]=function(e,t,n,r){return"style"===t?n.split(/;\s?/).reduce((function(e,t){const n=t.slice(0,t.indexOf(":"));return e[n.trim().replace(/(-[a-z])/g,(e=>e[1].toUpperCase()))]=t.slice(n.length+1).trim(),e}),{}):"href"===t||"src"===t?r(n,e,t):(n.match(Mv)&&(n=n.slice(1,n.length-1)),"true"===n||"false"!==n&&n)}(e,l,c,n.sanitizer);"string"==typeof d&&(Nv.test(d)||Lv.test(d))&&(r[u]=t.cloneElement(i(d.trim()),{key:o}))}else"style"!==a&&(r[lv[a]||a]=!0);return r}),{}):null}n.overrides=n.overrides||{},n.sanitizer=n.sanitizer||Fb,n.slugify=n.slugify||Ab,n.namedCodesToUnicode=n.namedCodesToUnicode?Ty({},cv,n.namedCodesToUnicode):cv,n.createElement=n.createElement||t.createElement;const o=[],s={},l={[Iy]:{match:Lb(pv),order:1,parse:(e,t,n)=>({children:t(e[0].replace(gv,""),n)}),render:(e,t,n)=>r("blockquote",{key:n.key},t(e.children,n))},[Ay]:{match:Mb(mv),order:1,parse:zb,render:(e,t,n)=>r("br",{key:n.key})},[ky]:{match:Lb(yv),order:1,parse:zb,render:(e,t,n)=>r("hr",{key:n.key})},[Py]:{match:Lb(bv),order:0,parse:e=>({lang:void 0,text:e[0].replace(/^ {4}/gm,"").replace(/\n+$/,"")}),render:(e,t,n)=>r("pre",{key:n.key},r("code",Ty({},e.attrs,{className:e.lang?`lang-${e.lang}`:""}),e.text))},[Ny]:{match:Lb(vv),order:0,parse:e=>({attrs:a("code",e[3]||""),lang:e[2]||void 0,text:e[4],type:Py})},[Dy]:{match:Ob(wv),order:3,parse:e=>({text:e[2]}),render:(e,t,n)=>r("code",{key:n.key},e.text)},[Ry]:{match:Lb(Cv),order:0,parse:e=>(o.push({footnote:e[2],identifier:e[1]}),{}),render:Wb},[Oy]:{match:Rb(Sv),order:1,parse:e=>({target:`#${n.slugify(e[1],Ab)}`,text:e[1]}),render:(e,t,i)=>r("a",{key:i.key,href:n.sanitizer(e.target,"a","href")},r("sup",{key:i.key},e.text))},[Ly]:{match:Rb(Iv),order:1,parse:e=>({completed:"x"===e[1].toLowerCase()}),render:(e,t,n)=>r("input",{checked:e.completed,key:n.key,readOnly:!0,type:"checkbox"})},[My]:{match:Lb(n.enforceAtxHeadings?kv:Av),order:1,parse:(e,t,r)=>({children:Bb(t,e[2],r),id:n.slugify(e[2],Ab),level:e[1].length}),render:(e,t,n)=>r(`h${e.level}`,{id:e.id,key:n.key},t(e.children,n))},[jy]:{match:Lb(Pv),order:0,parse:(e,t,n)=>({children:Bb(t,e[1],n),level:"="===e[2]?1:2,type:My})},[Fy]:{match:Mb(Nv),order:1,parse(e,t,n){const[,r]=e[3].match(ab),i=new RegExp(`^${r}`,"gm"),o=e[3].replace(i,""),s=(l=o,Ib.some((e=>e.test(l)))?Hb:Bb);var l;const c=e[1].toLowerCase(),u=-1!==uv.indexOf(c),d=(u?c:e[1]).trim(),h={attrs:a(d,e[2]),noInnerParse:u,tag:d};return n.inAnchor=n.inAnchor||"a"===c,u?h.text=e[3]:h.children=s(t,o,n),n.inAnchor=!1,h},render:(e,t,n)=>r(e.tag,Ty({key:n.key},e.attrs),e.text||(e.children?t(e.children,n):""))},[By]:{match:Mb(Lv),order:1,parse(e){const t=e[1].trim();return{attrs:a(t,e[2]||""),tag:t}},render:(e,t,n)=>r(e.tag,Ty({},e.attrs,{key:n.key}))},[Uy]:{match:Mb(Rv),order:1,parse:()=>({}),render:Wb},[Vy]:{match:Ob(Tb),order:1,parse:e=>({alt:e[1],target:Ub(e[2]),title:e[3]}),render:(e,t,i)=>r("img",{key:i.key,alt:e.alt||void 0,title:e.title||void 0,src:n.sanitizer(e.target,"img","src")})},[Hy]:{match:Rb(Sb),order:3,parse:(e,t,n)=>({children:Vb(t,e[1],n),target:Ub(e[2]),title:e[3]}),render:(e,t,i)=>r("a",{key:i.key,href:n.sanitizer(e.target,"a","href"),title:e.title},t(e.children,i))},[$y]:{match:Rb(Uv),order:0,parse:e=>({children:[{text:e[1],type:ev}],target:e[1],type:Hy})},[zy]:{match:(e,t)=>t.inAnchor||n.disableAutoLink?null:Rb(jv)(e,t),order:0,parse:e=>({children:[{text:e[1],type:ev}],target:e[1],title:void 0,type:Hy})},[Wy]:{match:Rb(Fv),order:0,parse(e){let t=e[1],n=e[1];return hv.test(n)||(n="mailto:"+n),{children:[{text:t.replace("mailto:",""),type:ev}],target:n,type:Hy}}},[Gy]:Cb(r,1),[ov]:Cb(r,2),[qy]:{match:Lb(_v),order:3,parse:zb,render:()=>"\n"},[Ky]:{match:jb,order:3,parse:$b,render:(e,t,n)=>r("p",{key:n.key},t(e.children,n))},[Qy]:{match:Rb(Hv),order:0,parse:e=>(s[e[1]]={target:e[2],title:e[4]},{}),render:Wb},[Yy]:{match:Ob($v),order:0,parse:e=>({alt:e[1]||void 0,ref:e[2]}),render:(e,t,i)=>s[e.ref]?r("img",{key:i.key,alt:e.alt,src:n.sanitizer(s[e.ref].target,"img","src"),title:s[e.ref].title}):null},[Jy]:{match:Rb(zv),order:0,parse:(e,t,n)=>({children:t(e[1],n),fallbackChildren:e[0],ref:e[2]}),render:(e,t,i)=>s[e.ref]?r("a",{key:i.key,href:n.sanitizer(s[e.ref].target,"a","href"),title:s[e.ref].title},t(e.children,i)):r("span",{key:i.key},e.fallbackChildren)},[Xy]:{match:Lb(Vv),order:1,parse:Nb,render(e,t,n){const i=e;return r("table",{key:n.key},r("thead",null,r("tr",null,i.header.map((function(e,a){return r("th",{key:a,style:Db(i,a)},t(e,n))})))),r("tbody",null,i.cells.map((function(e,a){return r("tr",{key:a},e.map((function(e,a){return r("td",{key:a,style:Db(i,a)},t(e,n))})))}))))}},[ev]:{match:Mb(rb),order:4,parse:e=>({text:e[0].replace(Dv,((e,t)=>n.namedCodesToUnicode[t]?n.namedCodesToUnicode[t]:e))}),render:e=>e.text},[tv]:{match:Ob(Xv),order:2,parse:(e,t,n)=>({children:t(e[2],n)}),render:(e,t,n)=>r("strong",{key:n.key},t(e.children,n))},[nv]:{match:Ob(Zv),order:3,parse:(e,t,n)=>({children:t(e[2],n)}),render:(e,t,n)=>r("em",{key:n.key},t(e.children,n))},[rv]:{match:Ob(nb),order:1,parse:e=>({text:e[1],type:ev})},[iv]:{match:Ob(eb),order:3,parse:$b,render:(e,t,n)=>r("mark",{key:n.key},t(e.children,n))},[av]:{match:Ob(tb),order:3,parse:$b,render:(e,t,n)=>r("del",{key:n.key},t(e.children,n))}};!0===n.disableParsingRawHTML&&(delete l[Fy],delete l[By]);const c=function(e){let t=Object.keys(e);function n(r,i){let a=[];for(i.prevCapture=i.prevCapture||"";r;){let o=0;for(;o<t.length;){const s=t[o],l=e[s],c=l.match(r,i);if(c){const e=c[0];i.prevCapture+=e,r=r.substring(e.length);const t=l.parse(c,n,i);null==t.type&&(t.type=s),a.push(t);break}o++}}return i.prevCapture="",a}return t.sort((function(t,n){let r=e[t].order,i=e[n].order;return r!==i?r-i:t<n?-1:1})),function(e,t){return n(function(e){return e.replace(Ev,"\n").replace(Tv,"").replace(qv,"    ")}(e),t)}}(l),u=(d=function(e,t){return function(n,r,i){const a=e[n.type].render;return t?t((()=>a(n,r,i)),n,r,i):a(n,r,i)}}(l,n.renderRule),function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Array.isArray(t)){const r=n.key,i=[];let a=!1;for(let o=0;o<t.length;o++){n.key=o;const r=e(t[o],n),s="string"==typeof r;s&&a?i[i.length-1]+=r:null!==r&&i.push(r),a=s}return n.key=r,i}return d(t,e,n)});var d;const h=i(e);return o.length?r("div",null,h,r("footer",{key:"footer"},o.map((function(e){return r("div",{id:n.slugify(e.identifier,Ab),key:e.identifier},e.identifier,u(c(e.footnote,{inline:!0})))})))):h}const Qb=e=>{let{children:n="",options:r}=e,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i}(e,xy);return t.cloneElement(Kb(n,r),i)};var Yb=n(995),Jb=n.n(Yb);const Xb=e=>{const r=`${e.post}.md`,[i,a]=(0,t.useState)([]),[o,s]=(0,t.useState)(1),[l,c]=(0,t.useState)([]),[u,d]=(0,t.useState)(!1);(0,t.useEffect)((()=>{n(424)(`./${r}`).then((e=>{fetch(e.default).then((e=>e.text())).then((e=>{c((e=>{const t=[];var n,r=[];return e.split("\n").forEach((e=>{const i=e.match(/^(#{1,6})\s+(.*)/);if(i){const e=i[1].length,a=i[2];1===e?0===t.length?(t.push({text:a}),n={text:a}):(t.push({...n,subHeaders:r}),n={text:a},r=[]):r.push({text:a,level:e})}})),t.push({...n,subHeaders:r}),t.shift(),t.shift(),t})(e)),a((e=>{const t=[];let n="";return e.split("\n").forEach((e=>{e.startsWith("# ")?(n&&t.push(n),n=e):n+="\n"+e})),n&&t.push(n),t})(e))}))})).catch((e=>console.log(e))),document.title=e.post}),[e.post,r]);const h=(0,Re.jsxs)("div",{className:"BlogPage-nav-buttons",children:[(0,Re.jsx)("button",{onClick:()=>{o>0&&(s(o-1),window.scrollTo(0,0))},disabled:1===o,children:"Previous Page"}),(0,Re.jsx)("button",{onClick:()=>{o<i.length-1&&(s(o+1),window.scrollTo(0,0))},disabled:o===i.length-1,children:"Next Page"})]});return(0,Re.jsxs)("div",{className:"BlogPage-content",children:[(0,Re.jsx)("div",{className:"BlogPage-summary-sidebar",onMouseOver:()=>d(!0),onMouseOut:()=>d(!1),children:u&&(0,Re.jsxs)("div",{className:"BlogPage-summary-sidebar-content",children:[(0,Re.jsx)("h2",{children:"Pages:"}),null===l||void 0===l?void 0:l.map(((e,t)=>{var n;return(0,Re.jsx)(Jb(),{trigger:(0,Re.jsx)("div",{style:{fontSize:24},onClick:()=>{s(t+1),window.scrollTo(0,0)},children:(null===e||void 0===e?void 0:e.text)||"Placeholder"}),transitionTime:100,children:null===e||void 0===e||null===(n=e.subHeaders)||void 0===n?void 0:n.map(((e,n)=>(0,Re.jsx)("div",{style:{marginLeft:20*(e.level-1)},children:(0,Re.jsxs)("a",{href:`#${e.text.slice(0,-1).replace(/\s+/g,"-").replace(/[\\\/]/g,"").toLowerCase()}`,className:"BlogPage-summary-sidebar-subheader-href",children:["- ",e.text]})},`sidebar-header-${t}-${n}`)))},`sidebar-header-${t}`)}))]})}),(0,Re.jsx)(Qb,{children:null===i||void 0===i?void 0:i.at(0)}),h,(0,Re.jsx)(Qb,{children:null===i||void 0===i?void 0:i.at(o)}),h,(0,Re.jsx)("br",{})]})},Zb=()=>(document.title="404 Invalid Page",(0,Re.jsxs)("div",{children:[(0,Re.jsx)("div",{className:"Invalid-page-big-text",children:"404 Not Found"}),"The page you are looking for is not here."]}));const ew=n.p+"static/media/loading.d0eb5ef18157850cbf97f4481df38b36.svg",tw=JSON.parse('{"player_name":"player name","character_name":"character name","class":"class","class_id":"id","current_health":0,"maximum_health":10,"temporary_health":0,"base_armor_class":14,"base_hit_modifier":4,"base_damage_modifier":2,"base_damage_dice":1,"base_damage_dice_type":1,"base_healing_dice_type":1,"experience_points":0,"hardness":0,"strength_stat":4,"dexterity_stat":1,"intelligence_stat":2,"charisma_stat":3,"action_points":3,"skills_and_flaws":[{"isSkill":true,"degree":1,"name":"Skill Name","description":"description","isVisible":false},{"isSkill":false,"degree":1,"name":"Flaw Name","description":"description","isVisible":false}],"actions":[{"actionName":"action 1","actionCost":3,"range":"Zone 0, AOE","toHitBool":true,"toHit":"1","difficultyClass":"","description":"This is where an action description would go. You would just have a string of characters here explaining what it does and then maybe some flavor later, sue me.","tags":[{"tagInfo":"red tag","tagColor":"#A84646","textColor":"#FAF6F6","tagDescription":"this tag is red."},{"tagInfo":"blue tag","tagColor":"#248AE4","textColor":"#FAF6F6"}]},{"actionName":"action 2","actionCost":1,"range":"1 Zone","toHitBool":false,"toHit":"","difficultyClass":"Dex,0","description":"This is where an action description would go. You would just have a string of characters here explaining what it does and then maybe some flavor later, sue me. This is indeed different from the other action description, you are not paranoid."}],"inventory":[{"itemName":"Plate","description":"A singular, white plate","colNum":0},{"itemName":"Chef Knife","description":"Used for cooking.","colNum":1},{"itemName":"Chef Hat","description":"White chef hat.","colNum":2},{"itemName":"Scales of Sound and Light","description":"Rarity: Uncommon\\nTags: [Equipment: Single-Handed Gauntlet] [Active] [Magical][Damaging][Passive Stat Increase]\\nRequires Attunement:\\nWhile Attuned gain +1 to intelligence.\\nUses: Once per long rest\\nCrafted from thin, flexible, plana-infused steel, this gauntlet feels as if you\u2019re wearing nothing at all.\\nJudgment of Balance\\nFor 3 actions, snap your fingers with the gauntlet-worn hand, causing a spectral steel balance scale to manifest in your grasp. Choose yourself and one other creature up to 1 zone away\u2014you decide who will embody Light and who will embody Sound.\\nThe Creature of Sound becomes deafened, mute, and encumbered.\\nThe Creature of Light becomes blinded.\\nThis effect lasts until the end of the next round.\\nJust before Judgment of Balance ends both creatures must then make a contested Intelligence check. The winner tips the scales in their favor, causing the loser to suffer 3d8 psychic damage.","colNum":0}],"tooltips":true,"background_color":"#a9a9a9","navigation_color":"#6600cc"}'),nw=Math.min,rw=Math.max,iw=Math.round,aw=Math.floor,ow=e=>({x:e,y:e}),sw={left:"right",right:"left",bottom:"top",top:"bottom"},lw={start:"end",end:"start"};function cw(e,t,n){return rw(e,nw(t,n))}function uw(e,t){return"function"===typeof e?e(t):e}function dw(e){return e.split("-")[0]}function hw(e){return e.split("-")[1]}function fw(e){return"x"===e?"y":"x"}function pw(e){return"y"===e?"height":"width"}function gw(e){return["top","bottom"].includes(dw(e))?"y":"x"}function mw(e){return fw(gw(e))}function yw(e){return e.replace(/start|end/g,(e=>lw[e]))}function vw(e){return e.replace(/left|right|bottom|top/g,(e=>sw[e]))}function bw(e){return"number"!==typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function ww(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function _w(e,t,n){let{reference:r,floating:i}=e;const a=gw(t),o=mw(t),s=pw(o),l=dw(t),c="y"===a,u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[s]/2-i[s]/2;let f;switch(l){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-i.width,y:d};break;default:f={x:r.x,y:r.y}}switch(hw(t)){case"start":f[o]-=h*(n&&c?-1:1);break;case"end":f[o]+=h*(n&&c?-1:1)}return f}async function Ew(e,t){var n;void 0===t&&(t={});const{x:r,y:i,platform:a,rects:o,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=uw(t,e),p=bw(f),g=s[h?"floating"===d?"reference":"floating":d],m=ww(await a.getClippingRect({element:null==(n=await(null==a.isElement?void 0:a.isElement(g)))||n?g:g.contextElement||await(null==a.getDocumentElement?void 0:a.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),y="floating"===d?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,v=await(null==a.getOffsetParent?void 0:a.getOffsetParent(s.floating)),b=await(null==a.isElement?void 0:a.isElement(v))&&await(null==a.getScale?void 0:a.getScale(v))||{x:1,y:1},w=ww(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:y,offsetParent:v,strategy:l}):y);return{top:(m.top-w.top+p.top)/b.y,bottom:(w.bottom-m.bottom+p.bottom)/b.y,left:(m.left-w.left+p.left)/b.x,right:(w.right-m.right+p.right)/b.x}}function Cw(){return"undefined"!==typeof window}function Sw(e){return Iw(e)?(e.nodeName||"").toLowerCase():"#document"}function Tw(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function xw(e){var t;return null==(t=(Iw(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Iw(e){return!!Cw()&&(e instanceof Node||e instanceof Tw(e).Node)}function Aw(e){return!!Cw()&&(e instanceof Element||e instanceof Tw(e).Element)}function kw(e){return!!Cw()&&(e instanceof HTMLElement||e instanceof Tw(e).HTMLElement)}function Pw(e){return!(!Cw()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof Tw(e).ShadowRoot)}function Nw(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=jw(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function Dw(e){return["table","td","th"].includes(Sw(e))}function Rw(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(dP){return!1}}))}function Ow(e){const t=Lw(),n=Aw(e)?jw(e):e;return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function Lw(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function Mw(e){return["html","body","#document"].includes(Sw(e))}function jw(e){return Tw(e).getComputedStyle(e)}function Fw(e){return Aw(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Uw(e){if("html"===Sw(e))return e;const t=e.assignedSlot||e.parentNode||Pw(e)&&e.host||xw(e);return Pw(t)?t.host:t}function Bw(e){const t=Uw(e);return Mw(t)?e.ownerDocument?e.ownerDocument.body:e.body:kw(t)&&Nw(t)?t:Bw(t)}function Vw(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=Bw(e),a=i===(null==(r=e.ownerDocument)?void 0:r.body),o=Tw(i);if(a){const e=Hw(o);return t.concat(o,o.visualViewport||[],Nw(i)?i:[],e&&n?Vw(e):[])}return t.concat(i,Vw(i,[],n))}function Hw(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function $w(e){const t=jw(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=kw(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,s=iw(n)!==a||iw(r)!==o;return s&&(n=a,r=o),{width:n,height:r,$:s}}function zw(e){return Aw(e)?e:e.contextElement}function Ww(e){const t=zw(e);if(!kw(t))return ow(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=$w(t);let o=(a?iw(n.width):n.width)/r,s=(a?iw(n.height):n.height)/i;return o&&Number.isFinite(o)||(o=1),s&&Number.isFinite(s)||(s=1),{x:o,y:s}}const qw=ow(0);function Gw(e){const t=Tw(e);return Lw()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:qw}function Kw(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),a=zw(e);let o=ow(1);t&&(r?Aw(r)&&(o=Ww(r)):o=Ww(e));const s=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==Tw(e))&&t}(a,n,r)?Gw(a):ow(0);let l=(i.left+s.x)/o.x,c=(i.top+s.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(a){const e=Tw(a),t=r&&Aw(r)?Tw(r):r;let n=e,i=Hw(n);for(;i&&r&&t!==n;){const e=Ww(i),t=i.getBoundingClientRect(),r=jw(i),a=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,o=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=a,c+=o,n=Tw(i),i=Hw(n)}}return ww({width:u,height:d,x:l,y:c})}function Qw(e,t){const n=Fw(e).scrollLeft;return t?t.left+n:Kw(xw(e)).left+n}function Yw(e,t,n){void 0===n&&(n=!1);const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-(n?0:Qw(e,r)),y:r.top+t.scrollTop}}function Jw(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=Tw(e),r=xw(e),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;const e=Lw();(!e||e&&"fixed"===t)&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s,y:l}}(e,n);else if("document"===t)r=function(e){const t=xw(e),n=Fw(e),r=e.ownerDocument.body,i=rw(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=rw(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Qw(e);const s=-n.scrollTop;return"rtl"===jw(r).direction&&(o+=rw(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:s}}(xw(e));else if(Aw(t))r=function(e,t){const n=Kw(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=kw(e)?Ww(e):ow(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:i*a.x,y:r*a.y}}(t,n);else{const n=Gw(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return ww(r)}function Xw(e,t){const n=Uw(e);return!(n===t||!Aw(n)||Mw(n))&&("fixed"===jw(n).position||Xw(n,t))}function Zw(e,t,n){const r=kw(t),i=xw(t),a="fixed"===n,o=Kw(e,!0,a,t);let s={scrollLeft:0,scrollTop:0};const l=ow(0);if(r||!r&&!a)if(("body"!==Sw(t)||Nw(i))&&(s=Fw(t)),r){const e=Kw(t,!0,a,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&(l.x=Qw(i));const c=!i||r||a?ow(0):Yw(i,s);return{x:o.left+s.scrollLeft-l.x-c.x,y:o.top+s.scrollTop-l.y-c.y,width:o.width,height:o.height}}function e_(e){return"static"===jw(e).position}function t_(e,t){if(!kw(e)||"fixed"===jw(e).position)return null;if(t)return t(e);let n=e.offsetParent;return xw(e)===n&&(n=n.ownerDocument.body),n}function n_(e,t){const n=Tw(e);if(Rw(e))return n;if(!kw(e)){let t=Uw(e);for(;t&&!Mw(t);){if(Aw(t)&&!e_(t))return t;t=Uw(t)}return n}let r=t_(e,t);for(;r&&Dw(r)&&e_(r);)r=t_(r,t);return r&&Mw(r)&&e_(r)&&!Ow(r)?n:r||function(e){let t=Uw(e);for(;kw(t)&&!Mw(t);){if(Ow(t))return t;if(Rw(t))return null;t=Uw(t)}return null}(e)||n}const r_={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a="fixed"===i,o=xw(r),s=!!t&&Rw(t.floating);if(r===o||s&&a)return n;let l={scrollLeft:0,scrollTop:0},c=ow(1);const u=ow(0),d=kw(r);if((d||!d&&!a)&&(("body"!==Sw(r)||Nw(o))&&(l=Fw(r)),kw(r))){const e=Kw(r);c=Ww(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}const h=!o||d||a?ow(0):Yw(o,l,!0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}},getDocumentElement:xw,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[..."clippingAncestors"===n?Rw(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=Vw(e,[],!1).filter((e=>Aw(e)&&"body"!==Sw(e))),i=null;const a="fixed"===jw(e).position;let o=a?Uw(e):e;for(;Aw(o)&&!Mw(o);){const t=jw(o),n=Ow(o);n||"fixed"!==t.position||(i=null),(a?!n&&!i:!n&&"static"===t.position&&i&&["absolute","fixed"].includes(i.position)||Nw(o)&&!n&&Xw(e,o))?r=r.filter((e=>e!==o)):i=t,o=Uw(o)}return t.set(e,r),r}(t,this._c):[].concat(n),r],o=a[0],s=a.reduce(((e,n)=>{const r=Jw(t,n,i);return e.top=rw(r.top,e.top),e.right=nw(r.right,e.right),e.bottom=nw(r.bottom,e.bottom),e.left=rw(r.left,e.left),e}),Jw(t,o,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:n_,getElementRects:async function(e){const t=this.getOffsetParent||n_,n=this.getDimensions,r=await n(e.floating);return{reference:Zw(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=$w(e);return{width:t,height:n}},getScale:Ww,isElement:Aw,isRTL:function(e){return"rtl"===jw(e).direction}};function i_(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o="function"===typeof ResizeObserver,layoutShift:s="function"===typeof IntersectionObserver,animationFrame:l=!1}=r,c=zw(e),u=i||a?[...c?Vw(c):[],...Vw(t)]:[];u.forEach((e=>{i&&e.addEventListener("scroll",n,{passive:!0}),a&&e.addEventListener("resize",n)}));const d=c&&s?function(e,t){let n,r=null;const i=xw(e);function a(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function o(s,l){void 0===s&&(s=!1),void 0===l&&(l=1),a();const{left:c,top:u,width:d,height:h}=e.getBoundingClientRect();if(s||t(),!d||!h)return;const f={rootMargin:-aw(u)+"px "+-aw(i.clientWidth-(c+d))+"px "+-aw(i.clientHeight-(u+h))+"px "+-aw(c)+"px",threshold:rw(0,nw(1,l))||1};let p=!0;function g(e){const t=e[0].intersectionRatio;if(t!==l){if(!p)return o();t?o(!1,t):n=setTimeout((()=>{o(!1,1e-7)}),1e3)}p=!1}try{r=new IntersectionObserver(g,{...f,root:i.ownerDocument})}catch(dP){r=new IntersectionObserver(g,f)}r.observe(e)}(!0),a}(c,n):null;let h,f=-1,p=null;o&&(p=new ResizeObserver((e=>{let[r]=e;r&&r.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame((()=>{var e;null==(e=p)||e.observe(t)}))),n()})),c&&!l&&p.observe(c),p.observe(t));let g=l?Kw(e):null;return l&&function t(){const r=Kw(e);!g||r.x===g.x&&r.y===g.y&&r.width===g.width&&r.height===g.height||n();g=r,h=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach((e=>{i&&e.removeEventListener("scroll",n),a&&e.removeEventListener("resize",n)})),null==d||d(),null==(e=p)||e.disconnect(),p=null,l&&cancelAnimationFrame(h)}}const a_=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:o,middlewareData:s}=t,l=await async function(e,t){const{placement:n,platform:r,elements:i}=e,a=await(null==r.isRTL?void 0:r.isRTL(i.floating)),o=dw(n),s=hw(n),l="y"===gw(n),c=["left","top"].includes(o)?-1:1,u=a&&l?-1:1,d=uw(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:p}="number"===typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&"number"===typeof p&&(f="end"===s?-1*p:p),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}(t,e);return o===(null==(n=s.offset)?void 0:n.placement)&&null!=(r=s.arrow)&&r.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:o}}}}},o_=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=uw(e,t),c={x:n,y:r},u=await Ew(t,l),d=gw(dw(i)),h=fw(d);let f=c[h],p=c[d];if(a){const e="y"===h?"bottom":"right";f=cw(f+u["y"===h?"top":"left"],f,f-u[e])}if(o){const e="y"===d?"bottom":"right";p=cw(p+u["y"===d?"top":"left"],p,p-u[e])}const g=s.fn({...t,[h]:f,[d]:p});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:a,[d]:o}}}}}},s_=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...m}=uw(e,t);if(null!=(n=a.arrow)&&n.alignmentOffset)return{};const y=dw(i),v=gw(s),b=dw(s)===s,w=await(null==l.isRTL?void 0:l.isRTL(c.floating)),_=h||(b||!g?[vw(s)]:function(e){const t=vw(e);return[yw(e),t,yw(t)]}(s)),E="none"!==p;!h&&E&&_.push(...function(e,t,n,r){const i=hw(e);let a=function(e,t,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?a:o;default:return[]}}(dw(e),"start"===n,r);return i&&(a=a.map((e=>e+"-"+i)),t&&(a=a.concat(a.map(yw)))),a}(s,g,p,w));const C=[s,..._],S=await Ew(t,m),T=[];let x=(null==(r=a.flip)?void 0:r.overflows)||[];if(u&&T.push(S[y]),d){const e=function(e,t,n){void 0===n&&(n=!1);const r=hw(e),i=mw(e),a=pw(i);let o="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=vw(o)),[o,vw(o)]}(i,o,w);T.push(S[e[0]],S[e[1]])}if(x=[...x,{placement:i,overflows:T}],!T.every((e=>e<=0))){var I,A;const e=((null==(I=a.flip)?void 0:I.index)||0)+1,t=C[e];if(t)return{data:{index:e,overflows:x},reset:{placement:t}};let n=null==(A=x.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:A.placement;if(!n)switch(f){case"bestFit":{var k;const e=null==(k=x.filter((e=>{if(E){const t=gw(e.placement);return t===v||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:k[0];e&&(n=e);break}case"initialPlacement":n=s}if(i!==n)return{reset:{placement:n}}}return{}}}},l_=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:o,elements:s,middlewareData:l}=t,{element:c,padding:u=0}=uw(e,t)||{};if(null==c)return{};const d=bw(u),h={x:n,y:r},f=mw(i),p=pw(f),g=await o.getDimensions(c),m="y"===f,y=m?"top":"left",v=m?"bottom":"right",b=m?"clientHeight":"clientWidth",w=a.reference[p]+a.reference[f]-h[f]-a.floating[p],_=h[f]-a.reference[f],E=await(null==o.getOffsetParent?void 0:o.getOffsetParent(c));let C=E?E[b]:0;C&&await(null==o.isElement?void 0:o.isElement(E))||(C=s.floating[b]||a.floating[p]);const S=w/2-_/2,T=C/2-g[p]/2-1,x=nw(d[y],T),I=nw(d[v],T),A=x,k=C-g[p]-I,P=C/2-g[p]/2+S,N=cw(A,P,k),D=!l.arrow&&null!=hw(i)&&P!==N&&a.reference[p]/2-(P<A?x:I)-g[p]/2<0,R=D?P<A?P-A:P-k:0;return{[f]:h[f]+R,data:{[f]:N,centerOffset:P-N-R,...D&&{alignmentOffset:R}},reset:D}}}),c_=(e,t,n)=>{const r=new Map,i={platform:r_,...n},a={...i.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,s=a.filter(Boolean),l=await(null==o.isRTL?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=_w(c,r,l),h=r,f={},p=0;for(let g=0;g<s.length;g++){const{name:n,fn:a}=s[g],{x:m,y:y,data:v,reset:b}=await a({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:f,rects:c,platform:o,elements:{reference:e,floating:t}});u=null!=m?m:u,d=null!=y?y:d,f={...f,[n]:{...f[n],...v}},b&&p<=50&&(p++,"object"===typeof b&&(b.placement&&(h=b.placement),b.rects&&(c=!0===b.rects?await o.getElementRects({reference:e,floating:t,strategy:i}):b.rects),({x:u,y:d}=_w(c,h,l))),g=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:f}})(e,t,{...i,platform:a})};var u_=n(139);const d_="react-tooltip-core-styles",h_="react-tooltip-base-styles",f_={core:!1,base:!1};function p_(e){let{css:t,id:n=h_,type:r="base",ref:i}=e;var a,o;if(!t||"undefined"==typeof document||f_[r])return;if("core"===r&&"undefined"!=typeof process&&(null===(a=null===process||void 0===process?void 0:{NODE_ENV:"production",PUBLIC_URL:"/JnJ-Online",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyC3BQWHWwt95U96YEiIyhKvxOMt3qCt41w",REACT_APP_AUTH_DOMAIN:"jnj-online.firebaseapp.com",REACT_APP_PROJECT_ID:"jnj-online",REACT_APP_STORAGE_BUCKET:"jnj-online.firebasestorage.app",REACT_APP_MESSAGING_SENDER_ID:"782778747979",REACT_APP_APP_ID:"1:782778747979:web:431d9dc56d1adbde96d1ce",REACT_APP_MEASUREMENT_ID:"G-HTVE1315K4"})||void 0===a?void 0:a.REACT_TOOLTIP_DISABLE_CORE_STYLES))return;if("base"!==r&&"undefined"!=typeof process&&(null===(o=null===process||void 0===process?void 0:{NODE_ENV:"production",PUBLIC_URL:"/JnJ-Online",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyC3BQWHWwt95U96YEiIyhKvxOMt3qCt41w",REACT_APP_AUTH_DOMAIN:"jnj-online.firebaseapp.com",REACT_APP_PROJECT_ID:"jnj-online",REACT_APP_STORAGE_BUCKET:"jnj-online.firebasestorage.app",REACT_APP_MESSAGING_SENDER_ID:"782778747979",REACT_APP_APP_ID:"1:782778747979:web:431d9dc56d1adbde96d1ce",REACT_APP_MEASUREMENT_ID:"G-HTVE1315K4"})||void 0===o?void 0:o.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;"core"===r&&(n=d_),i||(i={});const{insertAt:s}=i;if(document.getElementById(n))return;const l=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.id=n,c.type="text/css","top"===s&&l.firstChild?l.insertBefore(c,l.firstChild):l.appendChild(c),c.styleSheet?c.styleSheet.cssText=t:c.appendChild(document.createTextNode(t)),f_[r]=!0}const g_=async e=>{let{elementReference:t=null,tooltipReference:n=null,tooltipArrowReference:r=null,place:i="top",offset:a=10,strategy:o="absolute",middlewares:s=[a_(Number(a)),s_({fallbackAxisSideDirection:"start"}),o_({padding:5})],border:l}=e;if(!t)return{tooltipStyles:{},tooltipArrowStyles:{},place:i};if(null===n)return{tooltipStyles:{},tooltipArrowStyles:{},place:i};const c=s;return r?(c.push(l_({element:r,padding:5})),c_(t,n,{placement:i,strategy:o,middleware:c}).then((e=>{let{x:t,y:n,placement:r,middlewareData:i}=e;var a,o;const s={left:`${t}px`,top:`${n}px`,border:l},{x:c,y:u}=null!==(a=i.arrow)&&void 0!==a?a:{x:0,y:0},d=null!==(o={top:"bottom",right:"left",bottom:"top",left:"right"}[r.split("-")[0]])&&void 0!==o?o:"bottom",h=l&&{borderBottom:l,borderRight:l};let f=0;if(l){const e=`${l}`.match(/(\d+)px/);f=(null==e?void 0:e[1])?Number(e[1]):1}return{tooltipStyles:s,tooltipArrowStyles:{left:null!=c?`${c}px`:"",top:null!=u?`${u}px`:"",right:"",bottom:"",...h,[d]:`-${4+f}px`},place:r}}))):c_(t,n,{placement:"bottom",strategy:o,middleware:c}).then((e=>{let{x:t,y:n,placement:r}=e;return{tooltipStyles:{left:`${t}px`,top:`${n}px`},tooltipArrowStyles:{},place:r}}))},m_=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),y_=(e,t,n)=>{let r=null;const i=function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];const s=()=>{r=null,n||e.apply(this,a)};n&&!r&&(e.apply(this,a),r=setTimeout(s,t)),n||(r&&clearTimeout(r),r=setTimeout(s,t))};return i.cancel=()=>{r&&(clearTimeout(r),r=null)},i},v_=e=>null!==e&&!Array.isArray(e)&&"object"==typeof e,b_=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every(((e,n)=>b_(e,t[n])));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!v_(e)||!v_(t))return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every((n=>b_(e[n],t[n])))},w_=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some((e=>{const n=t.getPropertyValue(e);return"auto"===n||"scroll"===n}))},__=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(w_(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},E_="undefined"!=typeof window?t.useLayoutEffect:t.useEffect,C_=e=>{e.current&&(clearTimeout(e.current),e.current=null)},S_="DEFAULT_TOOLTIP_ID",T_={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},x_=(0,t.createContext)({getTooltipData:()=>T_});function I_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S_;return(0,t.useContext)(x_).getTooltipData(e)}var A_={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},k_={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const P_=e=>{let{forwardRef:n,id:r,className:i,classNameArrow:a,variant:o="dark",anchorId:s,anchorSelect:l,place:c="top",offset:u=10,events:d=["hover"],openOnClick:h=!1,positionStrategy:f="absolute",middlewares:p,wrapper:g,delayShow:m=0,delayHide:y=0,float:v=!1,hidden:b=!1,noArrow:w=!1,clickable:_=!1,closeOnEsc:E=!1,closeOnScroll:C=!1,closeOnResize:S=!1,openEvents:T,closeEvents:x,globalCloseEvents:I,imperativeModeOnly:A,style:k,position:P,afterShow:N,afterHide:D,disableTooltip:R,content:O,contentWrapperRef:L,isOpen:M,defaultIsOpen:j=!1,setIsOpen:F,activeAnchor:U,setActiveAnchor:B,border:V,opacity:H,arrowColor:$,role:z="tooltip"}=e;var W;const q=(0,t.useRef)(null),G=(0,t.useRef)(null),K=(0,t.useRef)(null),Q=(0,t.useRef)(null),Y=(0,t.useRef)(null),[J,X]=(0,t.useState)({tooltipStyles:{},tooltipArrowStyles:{},place:c}),[Z,ee]=(0,t.useState)(!1),[te,ne]=(0,t.useState)(!1),[re,ie]=(0,t.useState)(null),ae=(0,t.useRef)(!1),oe=(0,t.useRef)(null),{anchorRefs:se,setActiveAnchor:le}=I_(r),ce=(0,t.useRef)(!1),[ue,de]=(0,t.useState)([]),he=(0,t.useRef)(!1),fe=h||d.includes("click"),pe=fe||(null==T?void 0:T.click)||(null==T?void 0:T.dblclick)||(null==T?void 0:T.mousedown),ge=T?{...T}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!T&&fe&&Object.assign(ge,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const me=x?{...x}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!x&&fe&&Object.assign(me,{mouseleave:!1,blur:!1,mouseout:!1});const ye=I?{...I}:{escape:E||!1,scroll:C||!1,resize:S||!1,clickOutsideAnchor:pe||!1};A&&(Object.assign(ge,{mouseenter:!1,focus:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(me,{mouseleave:!1,blur:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(ye,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),E_((()=>(he.current=!0,()=>{he.current=!1})),[]);const ve=e=>{he.current&&(e&&ne(!0),setTimeout((()=>{he.current&&(null==F||F(e),void 0===M&&ee(e))}),10))};(0,t.useEffect)((()=>{if(void 0===M)return()=>null;M&&ne(!0);const e=setTimeout((()=>{ee(M)}),10);return()=>{clearTimeout(e)}}),[M]),(0,t.useEffect)((()=>{if(Z!==ae.current)if(C_(Y),ae.current=Z,Z)null==N||N();else{const e=(()=>{const e=getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay").match(/^([\d.]+)(ms|s)$/);if(!e)return 0;const[,t,n]=e;return Number(t)*("ms"===n?1:1e3)})();Y.current=setTimeout((()=>{ne(!1),ie(null),null==D||D()}),e+25)}}),[Z]);const be=e=>{X((t=>b_(t,e)?t:e))},we=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;C_(K),te?ve(!0):K.current=setTimeout((()=>{ve(!0)}),e)},_e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y;C_(Q),Q.current=setTimeout((()=>{ce.current||ve(!1)}),e)},Ee=e=>{var t;if(!e)return;const n=null!==(t=e.currentTarget)&&void 0!==t?t:e.target;if(!(null==n?void 0:n.isConnected))return B(null),void le({current:null});m?we():ve(!0),B(n),le({current:n}),C_(Q)},Ce=()=>{_?_e(y||100):y?_e():ve(!1),C_(K)},Se=e=>{let{x:t,y:n}=e;var r;const i={getBoundingClientRect:()=>({x:t,y:n,width:0,height:0,top:n,left:t,right:t,bottom:n})};g_({place:null!==(r=null==re?void 0:re.place)&&void 0!==r?r:c,offset:u,elementReference:i,tooltipReference:q.current,tooltipArrowReference:G.current,strategy:f,middlewares:p,border:V}).then((e=>{be(e)}))},Te=e=>{if(!e)return;const t=e,n={x:t.clientX,y:t.clientY};Se(n),oe.current=n},xe=e=>{var t;if(!Z)return;const n=e.target;n.isConnected&&((null===(t=q.current)||void 0===t?void 0:t.contains(n))||[document.querySelector(`[id='${s}']`),...ue].some((e=>null==e?void 0:e.contains(n)))||(ve(!1),C_(K)))},Ie=y_(Ee,50,!0),Ae=y_(Ce,50,!0),ke=e=>{Ae.cancel(),Ie(e)},Pe=()=>{Ie.cancel(),Ae()},Ne=(0,t.useCallback)((()=>{var e,t;const n=null!==(e=null==re?void 0:re.position)&&void 0!==e?e:P;n?Se(n):v?oe.current&&Se(oe.current):(null==U?void 0:U.isConnected)&&g_({place:null!==(t=null==re?void 0:re.place)&&void 0!==t?t:c,offset:u,elementReference:U,tooltipReference:q.current,tooltipArrowReference:G.current,strategy:f,middlewares:p,border:V}).then((e=>{he.current&&be(e)}))}),[Z,U,O,k,c,null==re?void 0:re.place,u,f,P,null==re?void 0:re.position,v]);(0,t.useEffect)((()=>{var e,t;const n=new Set(se);ue.forEach((e=>{(null==R?void 0:R(e))||n.add({current:e})}));const r=document.querySelector(`[id='${s}']`);r&&!(null==R?void 0:R(r))&&n.add({current:r});const i=()=>{ve(!1)},a=__(U),o=__(q.current);ye.scroll&&(window.addEventListener("scroll",i),null==a||a.addEventListener("scroll",i),null==o||o.addEventListener("scroll",i));let l=null;ye.resize?window.addEventListener("resize",i):U&&q.current&&(l=i_(U,q.current,Ne,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const c=e=>{"Escape"===e.key&&ve(!1)};ye.escape&&window.addEventListener("keydown",c),ye.clickOutsideAnchor&&window.addEventListener("click",xe);const u=[],d=e=>{Z&&(null==e?void 0:e.target)===U||Ee(e)},h=e=>{Z&&(null==e?void 0:e.target)===U&&Ce()},f=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],p=["click","dblclick","mousedown","mouseup"];Object.entries(ge).forEach((e=>{let[t,n]=e;n&&(f.includes(t)?u.push({event:t,listener:ke}):p.includes(t)&&u.push({event:t,listener:d}))})),Object.entries(me).forEach((e=>{let[t,n]=e;n&&(f.includes(t)?u.push({event:t,listener:Pe}):p.includes(t)&&u.push({event:t,listener:h}))})),v&&u.push({event:"pointermove",listener:Te});const g=()=>{ce.current=!0},m=()=>{ce.current=!1,Ce()};return _&&!pe&&(null===(e=q.current)||void 0===e||e.addEventListener("mouseenter",g),null===(t=q.current)||void 0===t||t.addEventListener("mouseleave",m)),u.forEach((e=>{let{event:t,listener:r}=e;n.forEach((e=>{var n;null===(n=e.current)||void 0===n||n.addEventListener(t,r)}))})),()=>{var e,t;ye.scroll&&(window.removeEventListener("scroll",i),null==a||a.removeEventListener("scroll",i),null==o||o.removeEventListener("scroll",i)),ye.resize?window.removeEventListener("resize",i):null==l||l(),ye.clickOutsideAnchor&&window.removeEventListener("click",xe),ye.escape&&window.removeEventListener("keydown",c),_&&!pe&&(null===(e=q.current)||void 0===e||e.removeEventListener("mouseenter",g),null===(t=q.current)||void 0===t||t.removeEventListener("mouseleave",m)),u.forEach((e=>{let{event:t,listener:r}=e;n.forEach((e=>{var n;null===(n=e.current)||void 0===n||n.removeEventListener(t,r)}))}))}}),[U,Ne,te,se,ue,T,x,I,fe,m,y]),(0,t.useEffect)((()=>{var e,t;let n=null!==(t=null!==(e=null==re?void 0:re.anchorSelect)&&void 0!==e?e:l)&&void 0!==t?t:"";!n&&r&&(n=`[data-tooltip-id='${r.replace(/'/g,"\\'")}']`);const i=new MutationObserver((e=>{const t=[],i=[];e.forEach((e=>{if("attributes"===e.type&&"data-tooltip-id"===e.attributeName&&(e.target.getAttribute("data-tooltip-id")===r?t.push(e.target):e.oldValue===r&&i.push(e.target)),"childList"===e.type){if(U){const t=[...e.removedNodes].filter((e=>1===e.nodeType));if(n)try{i.push(...t.filter((e=>e.matches(n)))),i.push(...t.flatMap((e=>[...e.querySelectorAll(n)])))}catch(e){}t.some((e=>{var t;return!!(null===(t=null==e?void 0:e.contains)||void 0===t?void 0:t.call(e,U))&&(ne(!1),ve(!1),B(null),C_(K),C_(Q),!0)}))}if(n)try{const r=[...e.addedNodes].filter((e=>1===e.nodeType));t.push(...r.filter((e=>e.matches(n)))),t.push(...r.flatMap((e=>[...e.querySelectorAll(n)])))}catch(e){}}})),(t.length||i.length)&&de((e=>[...e.filter((e=>!i.includes(e))),...t]))}));return i.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{i.disconnect()}}),[r,l,null==re?void 0:re.anchorSelect,U]),(0,t.useEffect)((()=>{Ne()}),[Ne]),(0,t.useEffect)((()=>{if(!(null==L?void 0:L.current))return()=>null;const e=new ResizeObserver((()=>{setTimeout((()=>Ne()))}));return e.observe(L.current),()=>{e.disconnect()}}),[O,null==L?void 0:L.current]),(0,t.useEffect)((()=>{var e;const t=document.querySelector(`[id='${s}']`),n=[...ue,t];U&&n.includes(U)||B(null!==(e=ue[0])&&void 0!==e?e:t)}),[s,ue,U]),(0,t.useEffect)((()=>(j&&ve(!0),()=>{C_(K),C_(Q)})),[]),(0,t.useEffect)((()=>{var e;let t=null!==(e=null==re?void 0:re.anchorSelect)&&void 0!==e?e:l;if(!t&&r&&(t=`[data-tooltip-id='${r.replace(/'/g,"\\'")}']`),t)try{const e=Array.from(document.querySelectorAll(t));de(e)}catch(e){de([])}}),[r,l,null==re?void 0:re.anchorSelect]),(0,t.useEffect)((()=>{K.current&&(C_(K),we(m))}),[m]);const De=null!==(W=null==re?void 0:re.content)&&void 0!==W?W:O,Re=Z&&Object.keys(J.tooltipStyles).length>0;return(0,t.useImperativeHandle)(n,(()=>({open:e=>{if(null==e?void 0:e.anchorSelect)try{document.querySelector(e.anchorSelect)}catch(n){return void console.warn(`[react-tooltip] "${e.anchorSelect}" is not a valid CSS selector`)}ie(null!=e?e:null),(null==e?void 0:e.delay)?we(e.delay):ve(!0)},close:e=>{(null==e?void 0:e.delay)?_e(e.delay):ve(!1)},activeAnchor:U,place:J.place,isOpen:Boolean(te&&!b&&De&&Re)}))),te&&!b&&De?t.createElement(g,{id:r,role:z,className:u_("react-tooltip",A_.tooltip,k_.tooltip,k_[o],i,`react-tooltip__place-${J.place}`,A_[Re?"show":"closing"],Re?"react-tooltip__show":"react-tooltip__closing","fixed"===f&&A_.fixed,_&&A_.clickable),onTransitionEnd:e=>{C_(Y),Z||"opacity"!==e.propertyName||(ne(!1),ie(null),null==D||D())},style:{...k,...J.tooltipStyles,opacity:void 0!==H&&Re?H:void 0},ref:q},De,t.createElement(g,{className:u_("react-tooltip-arrow",A_.arrow,k_.arrow,a,w&&A_.noArrow),style:{...J.tooltipArrowStyles,background:$?`linear-gradient(to right bottom, transparent 50%, ${$} 50%)`:void 0},ref:G})):null},N_=e=>{let{content:n}=e;return t.createElement("span",{dangerouslySetInnerHTML:{__html:n}})},D_=t.forwardRef(((e,n)=>{let{id:r,anchorId:i,anchorSelect:a,content:o,html:s,render:l,className:c,classNameArrow:u,variant:d="dark",place:h="top",offset:f=10,wrapper:p="div",children:g=null,events:m=["hover"],openOnClick:y=!1,positionStrategy:v="absolute",middlewares:b,delayShow:w=0,delayHide:_=0,float:E=!1,hidden:C=!1,noArrow:S=!1,clickable:T=!1,closeOnEsc:x=!1,closeOnScroll:I=!1,closeOnResize:A=!1,openEvents:k,closeEvents:P,globalCloseEvents:N,imperativeModeOnly:D=!1,style:R,position:O,isOpen:L,defaultIsOpen:M=!1,disableStyleInjection:j=!1,border:F,opacity:U,arrowColor:B,setIsOpen:V,afterShow:H,afterHide:$,disableTooltip:z,role:W="tooltip"}=e;const[q,G]=(0,t.useState)(o),[K,Q]=(0,t.useState)(s),[Y,J]=(0,t.useState)(h),[X,Z]=(0,t.useState)(d),[ee,te]=(0,t.useState)(f),[ne,re]=(0,t.useState)(w),[ie,ae]=(0,t.useState)(_),[oe,se]=(0,t.useState)(E),[le,ce]=(0,t.useState)(C),[ue,de]=(0,t.useState)(p),[he,fe]=(0,t.useState)(m),[pe,ge]=(0,t.useState)(v),[me,ye]=(0,t.useState)(null),[ve,be]=(0,t.useState)(null),we=(0,t.useRef)(j),{anchorRefs:_e,activeAnchor:Ee}=I_(r),Ce=e=>null==e?void 0:e.getAttributeNames().reduce(((t,n)=>{var r;return n.startsWith("data-tooltip-")&&(t[n.replace(/^data-tooltip-/,"")]=null!==(r=null==e?void 0:e.getAttribute(n))&&void 0!==r?r:null),t}),{}),Se=e=>{const t={place:e=>{var t;J(null!==(t=e)&&void 0!==t?t:h)},content:e=>{G(null!=e?e:o)},html:e=>{Q(null!=e?e:s)},variant:e=>{var t;Z(null!==(t=e)&&void 0!==t?t:d)},offset:e=>{te(null===e?f:Number(e))},wrapper:e=>{var t;de(null!==(t=e)&&void 0!==t?t:p)},events:e=>{const t=null==e?void 0:e.split(" ");fe(null!=t?t:m)},"position-strategy":e=>{var t;ge(null!==(t=e)&&void 0!==t?t:v)},"delay-show":e=>{re(null===e?w:Number(e))},"delay-hide":e=>{ae(null===e?_:Number(e))},float:e=>{se(null===e?E:"true"===e)},hidden:e=>{ce(null===e?C:"true"===e)},"class-name":e=>{ye(e)}};Object.values(t).forEach((e=>e(null))),Object.entries(e).forEach((e=>{let[n,r]=e;var i;null===(i=t[n])||void 0===i||i.call(t,r)}))};(0,t.useEffect)((()=>{G(o)}),[o]),(0,t.useEffect)((()=>{Q(s)}),[s]),(0,t.useEffect)((()=>{J(h)}),[h]),(0,t.useEffect)((()=>{Z(d)}),[d]),(0,t.useEffect)((()=>{te(f)}),[f]),(0,t.useEffect)((()=>{re(w)}),[w]),(0,t.useEffect)((()=>{ae(_)}),[_]),(0,t.useEffect)((()=>{se(E)}),[E]),(0,t.useEffect)((()=>{ce(C)}),[C]),(0,t.useEffect)((()=>{ge(v)}),[v]),(0,t.useEffect)((()=>{we.current!==j&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")}),[j]),(0,t.useEffect)((()=>{"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:"core"===j,disableBase:j}}))}),[]),(0,t.useEffect)((()=>{var e;const t=new Set(_e);let n=a;if(!n&&r&&(n=`[data-tooltip-id='${r.replace(/'/g,"\\'")}']`),n)try{document.querySelectorAll(n).forEach((e=>{t.add({current:e})}))}catch(e){console.warn(`[react-tooltip] "${n}" is not a valid CSS selector`)}const o=document.querySelector(`[id='${i}']`);if(o&&t.add({current:o}),!t.size)return()=>null;const s=null!==(e=null!=ve?ve:o)&&void 0!==e?e:Ee.current,l=new MutationObserver((e=>{e.forEach((e=>{var t;if(!s||"attributes"!==e.type||!(null===(t=e.attributeName)||void 0===t?void 0:t.startsWith("data-tooltip-")))return;const n=Ce(s);Se(n)}))})),c={attributes:!0,childList:!1,subtree:!1};if(s){const e=Ce(s);Se(e),l.observe(s,c)}return()=>{l.disconnect()}}),[_e,Ee,ve,i,a]),(0,t.useEffect)((()=>{(null==R?void 0:R.border)&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),F&&!m_("border",`${F}`)&&console.warn(`[react-tooltip] "${F}" is not a valid \`border\`.`),(null==R?void 0:R.opacity)&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),U&&!m_("opacity",`${U}`)&&console.warn(`[react-tooltip] "${U}" is not a valid \`opacity\`.`)}),[]);let Te=g;const xe=(0,t.useRef)(null);if(l){const e=l({content:(null==ve?void 0:ve.getAttribute("data-tooltip-content"))||q||null,activeAnchor:ve});Te=e?t.createElement("div",{ref:xe,className:"react-tooltip-content-wrapper"},e):null}else q&&(Te=q);K&&(Te=t.createElement(N_,{content:K}));const Ie={forwardRef:n,id:r,anchorId:i,anchorSelect:a,className:u_(c,me),classNameArrow:u,content:Te,contentWrapperRef:xe,place:Y,variant:X,offset:ee,wrapper:ue,events:he,openOnClick:y,positionStrategy:pe,middlewares:b,delayShow:ne,delayHide:ie,float:oe,hidden:le,noArrow:S,clickable:T,closeOnEsc:x,closeOnScroll:I,closeOnResize:A,openEvents:k,closeEvents:P,globalCloseEvents:N,imperativeModeOnly:D,style:R,position:O,isOpen:L,defaultIsOpen:M,border:F,opacity:U,arrowColor:B,setIsOpen:V,afterShow:H,afterHide:$,disableTooltip:z,activeAnchor:ve,setActiveAnchor:e=>be(e),role:W};return t.createElement(P_,{...Ie})}));"undefined"!=typeof window&&window.addEventListener("react-tooltip-inject-styles",(e=>{e.detail.disableCore||p_({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||p_({css:"\n.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}",type:"base"})}));const R_=n.p+"static/media/strength.45131f355faa8d2ad58375a6bfb0af74.svg";const O_=n.p+"static/media/dexterity.a5617fd1b11fec33b7b285b019e5252e.svg";const L_=n.p+"static/media/intelligence.0762515db546f70338a8cc08e7473d31.svg";const M_=n.p+"static/media/charisma.1d37201f2910fa9c89fbcc9aafe119e5.svg";function j_(e){let{characterPageLayoutLive:t}=e;return(0,Re.jsxs)("div",{className:"CharacterPage-abiltyscore-horzontal",children:[(0,Re.jsxs)("div",{className:"CharacterPage-abiltyscore-block",children:[(0,Re.jsx)("img",{src:R_,className:"CharacterPage-abilityscore-icon",alt:"strength.svg"}),(0,Re.jsx)("div",{"data-tooltip-id":"Strength-stat",children:"STR"}),(0,Re.jsx)("div",{className:"CharacterPage-abilityscore-divider"}),(0,Re.jsx)("input",{defaultValue:t.strength_stat,className:"CharacterPage-abilityscore-stat"},"STRENGTH_STAT")]}),(0,Re.jsxs)("div",{className:"CharacterPage-abiltyscore-block",children:[(0,Re.jsx)("img",{src:O_,className:"CharacterPage-abilityscore-icon",alt:"dexterity.svg"}),(0,Re.jsx)("div",{"data-tooltip-id":"Dexterity-stat",children:"DEX"}),(0,Re.jsx)("div",{className:"CharacterPage-abilityscore-divider"}),(0,Re.jsx)("input",{defaultValue:t.dexterity_stat,className:"CharacterPage-abilityscore-stat"},"DEXTERITY_STAT")]}),(0,Re.jsxs)("div",{className:"CharacterPage-abiltyscore-block",children:[(0,Re.jsx)("img",{src:L_,className:"CharacterPage-abilityscore-icon",alt:"intelligence.svg"}),(0,Re.jsx)("div",{"data-tooltip-id":"Intelligence-stat",children:"INT"}),(0,Re.jsx)("div",{className:"CharacterPage-abilityscore-divider"}),(0,Re.jsx)("input",{defaultValue:t.intelligence_stat,className:"CharacterPage-abilityscore-stat"},"INTELLIGENCE_STAT")]}),(0,Re.jsxs)("div",{className:"CharacterPage-abiltyscore-block",children:[(0,Re.jsx)("img",{src:M_,className:"CharacterPage-abilityscore-icon",alt:"charisma.svg"}),(0,Re.jsx)("div",{"data-tooltip-id":"Charisma-stat",children:"CHA"}),(0,Re.jsx)("div",{className:"CharacterPage-abilityscore-divider"}),(0,Re.jsx)("input",{defaultValue:t.charisma_stat,className:"CharacterPage-abilityscore-stat"},"CHARISMA_STAT")]}),t.tooltips&&(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsx)(D_,{id:"Strength-stat",place:"top",content:"Strength",variant:"info"}),(0,Re.jsx)(D_,{id:"Dexterity-stat",place:"top",content:"Dexterity",variant:"info"}),(0,Re.jsx)(D_,{id:"Intelligence-stat",place:"top",content:"Intelligence",variant:"info"}),(0,Re.jsx)(D_,{id:"Charisma-stat",place:"top",content:"Charisma",variant:"info"})]})]})}function F_(e){switch(e){case 1:return"d4";case 2:return"d6";case 3:return"d8";case 4:return"d10";case 5:return"d12";case 6:return"d20";default:return"N/A"}}function U_(e){switch(e){case"d4":return 1;case"d6":return 2;case"d8":return 3;case"d10":return 4;case"d12":return 5;case"d20":return 6;default:return 0}}function B_(e,t,n,r,i,a,o){const s=function(e){return Math.floor(e/1e3)+1}(e),l=14;switch(s){case 1:return{ArmorClass:t,HitModifier:n,DamageModifier:r,DamageDice:i,DamageDiceType:a,HealingModifier:2,HealingDice:1,HealingDiceType:o,ClassDifficultyClass:l,AttuneRelics:2};case 2:return{ArmorClass:t,HitModifier:n+1,DamageModifier:r,DamageDice:i,DamageDiceType:a,HealingModifier:2,HealingDice:1,HealingDiceType:o,ClassDifficultyClass:15,AttuneRelics:2};case 3:return{ArmorClass:t,HitModifier:n+1,DamageModifier:r+2,DamageDice:i,DamageDiceType:a,HealingModifier:4,HealingDice:2,HealingDiceType:o,ClassDifficultyClass:15,AttuneRelics:2};case 4:return{ArmorClass:t+1,HitModifier:n+1,DamageModifier:r+2,DamageDice:i,DamageDiceType:a,HealingModifier:4,HealingDice:2,HealingDiceType:o,ClassDifficultyClass:15,AttuneRelics:2};case 5:return{ArmorClass:t+1,HitModifier:n+1,DamageModifier:r+2,DamageDice:i+1,DamageDiceType:a,HealingModifier:4,HealingDice:2,HealingDiceType:o+1,ClassDifficultyClass:15,AttuneRelics:2};case 6:return{ArmorClass:t+1,HitModifier:n+2,DamageModifier:r+2,DamageDice:i+1,DamageDiceType:a,HealingModifier:4,HealingDice:2,HealingDiceType:o+1,ClassDifficultyClass:16,AttuneRelics:3};case 7:case 8:return{ArmorClass:t+1,HitModifier:n+2,DamageModifier:r+4,DamageDice:i+1,DamageDiceType:a,HealingModifier:6,HealingDice:3,HealingDiceType:o+1,ClassDifficultyClass:16,AttuneRelics:3};case 9:return{ArmorClass:t+2,HitModifier:n+2,DamageModifier:r+5,DamageDice:i+1,DamageDiceType:a+1,HealingModifier:7,HealingDice:3,HealingDiceType:o+2,ClassDifficultyClass:16,AttuneRelics:3};case 10:return{ArmorClass:t+2,HitModifier:n+2,DamageModifier:r+5,DamageDice:i+2,DamageDiceType:a+1,HealingModifier:7,HealingDice:3,HealingDiceType:o+2,ClassDifficultyClass:16,AttuneRelics:3};case 11:return{ArmorClass:t+2,HitModifier:n+3,DamageModifier:r+5,DamageDice:i+2,DamageDiceType:a+1,HealingModifier:7,HealingDice:3,HealingDiceType:o+2,ClassDifficultyClass:17,AttuneRelics:4};case 12:case 13:return{ArmorClass:t+2,HitModifier:n+3,DamageModifier:r+7,DamageDice:i+2,DamageDiceType:a+1,HealingModifier:9,HealingDice:4,HealingDiceType:o+2,ClassDifficultyClass:17,AttuneRelics:4};case 14:return{ArmorClass:t+3,HitModifier:n+3,DamageModifier:r+8,DamageDice:i+2,DamageDiceType:a+2,HealingModifier:10,HealingDice:4,HealingDiceType:o+2,ClassDifficultyClass:17,AttuneRelics:4};default:return{ArmorClass:t+3,HitModifier:n+4,DamageModifier:r+8,DamageDice:i+3,DamageDiceType:a+2,HealingModifier:10,HealingDice:4,HealingDiceType:o+3,ClassDifficultyClass:18,AttuneRelics:4}}}const V_=n.p+"static/media/shield.4864cb36a836c83fc600695b01d914d8.svg";function H_(e){let{characterPageLayoutLive:t}=e;const n=B_(t.experience_points,t.base_armor_class,t.base_hit_modifier,t.base_damage_modifier,t.base_damage_dice,t.base_damage_dice_type,t.base_healing_dice_type);return(0,Re.jsxs)("div",{className:t.temporary_health>0?"CharacterPage-stats CharacterPage-stats-temp-hp-yellow":"CharacterPage-stats",children:[(0,Re.jsxs)("div",{className:"CharacterPage-stats-horizontal",children:[(0,Re.jsxs)("div",{className:"CharacterPage-stats-block-hp",children:[(0,Re.jsxs)("div",{className:"CharacterPage-hp-block",children:[(0,Re.jsx)("div",{"data-tooltip-id":"current-hp",children:"CURRENT"}),(0,Re.jsx)("div",{className:"CharaterPage-hp-divider"}),(0,Re.jsx)("input",{defaultValue:t.current_health,className:"CharacterPage-hp-stat"},"CURRENT_HP"),(0,Re.jsx)("div",{className:"CharacterPage-xp-slash",children:"/"})]}),(0,Re.jsxs)("div",{className:"CharacterPage-hp-block",children:[(0,Re.jsx)("div",{"data-tooltip-id":"max-hp",children:"MAX"}),(0,Re.jsx)("div",{className:"CharaterPage-hp-divider"}),(0,Re.jsx)("input",{defaultValue:t.maximum_health,className:"CharacterPage-hp-stat"},"MAX_HP")]}),(0,Re.jsxs)("div",{className:"CharacterPage-hp-block",children:[(0,Re.jsx)("div",{"data-tooltip-id":"temp-hp",children:"TEMP"}),(0,Re.jsx)("div",{className:"CharaterPage-hp-divider"}),(0,Re.jsx)("input",{defaultValue:t.temporary_health,className:"CharacterPage-hp-stat"},"TEMP_HP")]})]}),(0,Re.jsxs)("div",{className:"CharacterPage-stats-block-shield","data-tooltip-id":"ac",children:["AC",(0,Re.jsx)("br",{}),(0,Re.jsx)("img",{src:V_,className:"CharacterPage-shield",alt:"shield.svg"}),(0,Re.jsx)("div",{className:"CharacterPage-shield-text",children:n.ArmorClass})]})]}),(0,Re.jsxs)("div",{className:"CharacterPage-stats-horizontal",children:[(0,Re.jsxs)("div",{className:"CharacterPage-stats-xp","data-tooltip-id":"xp",children:["XP",(0,Re.jsx)("input",{defaultValue:t.experience_points,className:"CharacterPage-xp-and-hardness-stat"},"CURRENT_XP")]}),(0,Re.jsx)("div",{className:"CharacterPage-stats-divider"}),(0,Re.jsxs)("div",{className:"CharacterPage-stats-hardness",children:["HARDNESS",(0,Re.jsx)("input",{defaultValue:t.hardness,className:"CharacterPage-xp-and-hardness-stat",style:{width:30}},"HARDNESS")]})]}),t.tooltips&&(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsx)(D_,{id:"current-hp",place:"top",content:"current health points",variant:"info"}),(0,Re.jsx)(D_,{id:"max-hp",place:"top",content:"maximum health points",variant:"info"}),(0,Re.jsx)(D_,{id:"temp-hp",place:"top",content:"temporary health points",variant:"info"}),(0,Re.jsx)(D_,{id:"ac",place:"top",content:"armor class",variant:"info"}),(0,Re.jsx)(D_,{id:"xp",place:"top",content:"experience points",variant:"info"})]})]})}function $_(e){let{characterPage:t}=e;return(0,Re.jsx)("div",{className:"CharacterPage-navigation",style:{background:t.navigation_color}})}const z_=n.p+"static/media/star.e65bb636aa16de47b2b54f5060dd5db8.svg";function W_(e){let{characterPage:t}=e;return(0,Re.jsx)(Re.Fragment,{children:t.skills_and_flaws.map((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,Re.jsx)(Jb(),{trigger:(0,Re.jsxs)(Re.Fragment,{children:[e.name,Array.from({length:e.degree},((e,t)=>(0,Re.jsx)("img",{src:z_,alt:"star",className:"SkillsAndFlaws-star",width:30},t)))]}),className:e.isSkill?"SkillsAndFlaws SkillsAndFlaws-skill SkillsOverride":"SkillsAndFlaws SkillsAndFlaws-flaw FlawsOverride",openedClassName:e.isSkill?"SkillsAndFlaws SkillsAndFlaws-skill SkillsOverride":"SkillsAndFlaws SkillsAndFlaws-flaw FlawsOverride",contentInnerClassName:"SkillsAndFlaws-inner-div",triggerClassName:"SkillsAndFlaws-trigger",triggerOpenedClassName:"SkillsAndFlaws-trigger",transitionTime:100,open:n,children:(0,Re.jsx)("p",{style:{margin:0},children:e.description})},t)}))})}function q_(e){let{tabs:n}=e;const[r,i]=(0,t.useState)(0);return(0,Re.jsxs)("div",{className:"TabContainer",children:[(0,Re.jsx)("div",{children:n.map(((e,t)=>(0,Re.jsx)("button",{className:r!==t?"TabButton":"TabButton TabButtonSelected",onClick:()=>i(t),children:e.tabName},t)))}),(0,Re.jsx)("div",{children:n[r].content})]})}const G_=n.p+"static/media/star_filled.990898879b39ca939542fa3b99a92a3b.svg";function K_(e){let{actions:n,experience_points:r,baseArmorClass:i,baseHitModifier:a,baseDamageModifier:o,baseDamageDice:s,baseDamageDiceType:l,baseHealingDiceType:c,canUseActions:u=!1,characterPage:d,setCharacterPage:h,lowerUseActionButton:f=!1}=e;const[p,g]=(0,t.useState)(Array(n.length).fill(!1));function m(e){const t=B_(r,i,a,o,s,l,c);return Number(e)+t.HitModifier}function y(e){const t=e.split(","),n=B_(r,i,a,o,s,l,c);return"DC"+(Number(t[1])+n.ClassDifficultyClass)+" check"}return(0,Re.jsx)("div",{className:"CombatActionList",children:n.map(((e,t)=>(0,Re.jsx)("div",{className:"CombatActionListButton",onClick:()=>{var e=p;e[t]=!e[t],g([...p,e])},children:(0,Re.jsxs)("div",{className:"CombatActionListButton-inner",children:[e.actionName+" ",Array.from({length:e.actionCost},((e,t)=>(0,Re.jsx)("img",{src:G_,alt:"star",className:"CombatActionList-star",width:20},t))),"\xa0\xa0\xa0\xa0",e.toHitBool?"+"+m(e.toHit)+" to hit":y(e.difficultyClass),"\xa0\xa0\xa0\xa0"+e.range,u&&f&&(0,Re.jsx)("br",{}),u&&(0,Re.jsx)("button",{className:"CombatActionList-use-action-button",onClick:t=>{t.stopPropagation(),h({...d,action_points:d.action_points-e.actionCost})},children:"Use Action"}),(0,Re.jsx)("br",{}),p[t]&&(0,Re.jsxs)("div",{className:"CombatActionListDescription",onClick:e=>e.stopPropagation(),children:[void 0!==e.tags&&(0,Re.jsxs)(Re.Fragment,{children:[e.tags.map(((e,t)=>(0,Re.jsxs)("span",{className:"CombatActionList-tag",style:{backgroundColor:e.tagColor,color:e.textColor},"data-tooltip-id":"something",children:[e.tagInfo,void 0!==e.tagDescription&&""!==e.tagDescription&&(0,Re.jsx)("div",{className:"CombatActionList-tag-description",children:e.tagDescription})]},t))),(0,Re.jsx)("br",{})]}),e.description]})]})},t)))})}var Q_=n(86),Y_=n(324),J_=n.n(Y_);const X_=function(e){function t(e,r,l,c,h){for(var f,p,g,m,w,E=0,C=0,S=0,T=0,x=0,D=0,O=g=f=0,M=0,j=0,F=0,U=0,B=l.length,V=B-1,H="",$="",z="",W="";M<B;){if(p=l.charCodeAt(M),M===V&&0!==C+T+S+E&&(0!==C&&(p=47===C?10:47),T=S=E=0,B++,V++),0===C+T+S+E){if(M===V&&(0<j&&(H=H.replace(d,"")),0<H.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:H+=l.charAt(M)}p=59}switch(p){case 123:for(f=(H=H.trim()).charCodeAt(0),g=1,U=++M;M<B;){switch(p=l.charCodeAt(M)){case 123:g++;break;case 125:g--;break;case 47:switch(p=l.charCodeAt(M+1)){case 42:case 47:e:{for(O=M+1;O<V;++O)switch(l.charCodeAt(O)){case 47:if(42===p&&42===l.charCodeAt(O-1)&&M+2!==O){M=O+1;break e}break;case 10:if(47===p){M=O+1;break e}}M=O}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<V&&l.charCodeAt(M)!==p;);}if(0===g)break;M++}if(g=l.substring(U,M),0===f&&(f=(H=H.replace(u,"").trim()).charCodeAt(0)),64===f){switch(0<j&&(H=H.replace(d,"")),p=H.charCodeAt(1)){case 100:case 109:case 115:case 45:j=r;break;default:j=N}if(U=(g=t(r,j,g,p,h+1)).length,0<R&&(w=s(3,g,j=n(N,H,F),r,A,I,U,p,h,c),H=j.join(""),void 0!==w&&0===(U=(g=w.trim()).length)&&(p=0,g="")),0<U)switch(p){case 115:H=H.replace(_,o);case 100:case 109:case 45:g=H+"{"+g+"}";break;case 107:g=(H=H.replace(y,"$1 $2"))+"{"+g+"}",g=1===P||2===P&&a("@"+g,3)?"@-webkit-"+g+"@"+g:"@"+g;break;default:g=H+g,112===c&&($+=g,g="")}else g=""}else g=t(r,n(r,H,F),g,c,h+1);z+=g,g=F=j=O=f=0,H="",p=l.charCodeAt(++M);break;case 125:case 59:if(1<(U=(H=(0<j?H.replace(d,""):H).trim()).length))switch(0===O&&(f=H.charCodeAt(0),45===f||96<f&&123>f)&&(U=(H=H.replace(" ",":")).length),0<R&&void 0!==(w=s(1,H,r,e,A,I,$.length,c,h,c))&&0===(U=(H=w.trim()).length)&&(H="\0\0"),f=H.charCodeAt(0),p=H.charCodeAt(1),f){case 0:break;case 64:if(105===p||99===p){W+=H+l.charAt(M);break}default:58!==H.charCodeAt(U-1)&&($+=i(H,f,p,H.charCodeAt(2)))}F=j=O=f=0,H="",p=l.charCodeAt(++M)}}switch(p){case 13:case 10:47===C?C=0:0===1+f&&107!==c&&0<H.length&&(j=1,H+="\0"),0<R*L&&s(0,H,r,e,A,I,$.length,c,h,c),I=1,A++;break;case 59:case 125:if(0===C+T+S+E){I++;break}default:switch(I++,m=l.charAt(M),p){case 9:case 32:if(0===T+E+C)switch(x){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===T+C+E&&(j=F=1,m="\f"+m);break;case 108:if(0===T+C+E+k&&0<O)switch(M-O){case 2:112===x&&58===l.charCodeAt(M-3)&&(k=x);case 8:111===D&&(k=D)}break;case 58:0===T+C+E&&(O=M);break;case 44:0===C+S+T+E&&(j=1,m+="\r");break;case 34:case 39:0===C&&(T=T===p?0:0===T?p:T);break;case 91:0===T+C+S&&E++;break;case 93:0===T+C+S&&E--;break;case 41:0===T+C+E&&S--;break;case 40:if(0===T+C+E){if(0===f)if(2*x+3*D===533);else f=1;S++}break;case 64:0===C+S+T+E+O+g&&(g=1);break;case 42:case 47:if(!(0<T+E+S))switch(C){case 0:switch(2*p+3*l.charCodeAt(M+1)){case 235:C=47;break;case 220:U=M,C=42}break;case 42:47===p&&42===x&&U+2!==M&&(33===l.charCodeAt(U+2)&&($+=l.substring(U,M+1)),m="",C=0)}}0===C&&(H+=m)}D=x,x=p,M++}if(0<(U=$.length)){if(j=r,0<R&&(void 0!==(w=s(2,$,j,e,A,I,U,c,h,c))&&0===($=w).length))return W+$+z;if($=j.join(",")+"{"+$+"}",0!==P*k){switch(2!==P||a($,2)||(k=0),k){case 111:$=$.replace(b,":-moz-$1")+$;break;case 112:$=$.replace(v,"::-webkit-input-$1")+$.replace(v,"::-moz-$1")+$.replace(v,":-ms-input-$1")+$}k=0}}return W+$+z}function n(e,t,n){var i=t.trim().split(g);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<a;++s)t[s]=r(e,t[s],n).trim();break;default:var l=s=0;for(t=[];s<a;++s)for(var c=0;c<o;++c)t[l++]=r(e[c]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",s=2*t+3*n+4*r;if(944===s){e=o.indexOf(":",9)+1;var l=o.substring(e,o.length-1).trim();return l=o.substring(0,e).trim()+l+";",1===P||2===P&&a(l,1)?"-webkit-"+l+l:l}if(0===P||2===P&&!a(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(x,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(l=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+l+o;case 1005:return f.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(l=o.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=o.replace(w,"tb");break;case 232:l=o.replace(w,"tb-rl");break;case 220:l=o.replace(w,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+l+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(l=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:o=o.replace(l,"-webkit-"+l)+";"+o;break;case 207:case 102:o=o.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(l,"-webkit-"+l)+";"+o.replace(l,"-ms-"+l+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return l=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+l+"-ms-flex-"+l+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(C,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(C,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===T.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(l,"-webkit-"+l)+o.replace(l,"-moz-"+l.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),O(2!==t?r:r.replace(S,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(E," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,a,o,s,l,u){for(var d,h=0,f=t;h<R;++h)switch(d=D[h].call(c,e,f,n,r,i,a,o,s,l,u)){case void 0:case!1:case!0:case null:break;default:f=d}if(f!==t)return f}function l(e){return void 0!==(e=e.prefix)&&(O=null,e?"function"!==typeof e?P=1:(P=2,O=e):P=0),l}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<R){var i=s(-1,n,r,r,A,I,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(N,r,n,0,0);return 0<R&&(void 0!==(i=s(-2,a,r,r,A,I,a.length,0,0,0))&&(a=i)),k=0,I=A=1,a}var u=/^\0+/g,d=/[\0\r\f]/g,h=/: */g,f=/zoo|gra/,p=/([,: ])(transform)/g,g=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,v=/::(place)/g,b=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,_=/\(\s*(.*)\s*\)/g,E=/([\s\S]*?);/g,C=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,T=/stretch|:\s*\w+\-(?:conte|avail)/,x=/([^-])(image-set\()/,I=1,A=1,k=0,P=1,N=[],D=[],R=0,O=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:R=D.length=0;break;default:if("function"===typeof t)D[R++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=l,void 0!==e&&l(e),c};const Z_={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function eE(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var tE=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,nE=eE((function(e){return tE.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),rE=n(219),iE=n.n(rE);function aE(){return(aE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var oE=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},sE=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,Q_.typeOf)(e)},lE=Object.freeze([]),cE=Object.freeze({});function uE(e){return"function"==typeof e}function dE(e){return e.displayName||e.name||"Component"}function hE(e){return e&&"string"==typeof e.styledComponentId}var fE="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/JnJ-Online",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyC3BQWHWwt95U96YEiIyhKvxOMt3qCt41w",REACT_APP_AUTH_DOMAIN:"jnj-online.firebaseapp.com",REACT_APP_PROJECT_ID:"jnj-online",REACT_APP_STORAGE_BUCKET:"jnj-online.firebasestorage.app",REACT_APP_MESSAGING_SENDER_ID:"782778747979",REACT_APP_APP_ID:"1:782778747979:web:431d9dc56d1adbde96d1ce",REACT_APP_MEASUREMENT_ID:"G-HTVE1315K4"}&&({NODE_ENV:"production",PUBLIC_URL:"/JnJ-Online",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyC3BQWHWwt95U96YEiIyhKvxOMt3qCt41w",REACT_APP_AUTH_DOMAIN:"jnj-online.firebaseapp.com",REACT_APP_PROJECT_ID:"jnj-online",REACT_APP_STORAGE_BUCKET:"jnj-online.firebasestorage.app",REACT_APP_MESSAGING_SENDER_ID:"782778747979",REACT_APP_APP_ID:"1:782778747979:web:431d9dc56d1adbde96d1ce",REACT_APP_MEASUREMENT_ID:"G-HTVE1315K4"}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/JnJ-Online",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyC3BQWHWwt95U96YEiIyhKvxOMt3qCt41w",REACT_APP_AUTH_DOMAIN:"jnj-online.firebaseapp.com",REACT_APP_PROJECT_ID:"jnj-online",REACT_APP_STORAGE_BUCKET:"jnj-online.firebasestorage.app",REACT_APP_MESSAGING_SENDER_ID:"782778747979",REACT_APP_APP_ID:"1:782778747979:web:431d9dc56d1adbde96d1ce",REACT_APP_MEASUREMENT_ID:"G-HTVE1315K4"}.SC_ATTR)||"data-styled",pE="undefined"!=typeof window&&"HTMLElement"in window,gE=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/JnJ-Online",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyC3BQWHWwt95U96YEiIyhKvxOMt3qCt41w",REACT_APP_AUTH_DOMAIN:"jnj-online.firebaseapp.com",REACT_APP_PROJECT_ID:"jnj-online",REACT_APP_STORAGE_BUCKET:"jnj-online.firebasestorage.app",REACT_APP_MESSAGING_SENDER_ID:"782778747979",REACT_APP_APP_ID:"1:782778747979:web:431d9dc56d1adbde96d1ce",REACT_APP_MEASUREMENT_ID:"G-HTVE1315K4"}&&(void 0!=={NODE_ENV:"production",PUBLIC_URL:"/JnJ-Online",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyC3BQWHWwt95U96YEiIyhKvxOMt3qCt41w",REACT_APP_AUTH_DOMAIN:"jnj-online.firebaseapp.com",REACT_APP_PROJECT_ID:"jnj-online",REACT_APP_STORAGE_BUCKET:"jnj-online.firebasestorage.app",REACT_APP_MESSAGING_SENDER_ID:"782778747979",REACT_APP_APP_ID:"1:782778747979:web:431d9dc56d1adbde96d1ce",REACT_APP_MEASUREMENT_ID:"G-HTVE1315K4"}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/JnJ-Online",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyC3BQWHWwt95U96YEiIyhKvxOMt3qCt41w",REACT_APP_AUTH_DOMAIN:"jnj-online.firebaseapp.com",REACT_APP_PROJECT_ID:"jnj-online",REACT_APP_STORAGE_BUCKET:"jnj-online.firebasestorage.app",REACT_APP_MESSAGING_SENDER_ID:"782778747979",REACT_APP_APP_ID:"1:782778747979:web:431d9dc56d1adbde96d1ce",REACT_APP_MEASUREMENT_ID:"G-HTVE1315K4"}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/JnJ-Online",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyC3BQWHWwt95U96YEiIyhKvxOMt3qCt41w",REACT_APP_AUTH_DOMAIN:"jnj-online.firebaseapp.com",REACT_APP_PROJECT_ID:"jnj-online",REACT_APP_STORAGE_BUCKET:"jnj-online.firebasestorage.app",REACT_APP_MESSAGING_SENDER_ID:"782778747979",REACT_APP_APP_ID:"1:782778747979:web:431d9dc56d1adbde96d1ce",REACT_APP_MEASUREMENT_ID:"G-HTVE1315K4"}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/JnJ-Online",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyC3BQWHWwt95U96YEiIyhKvxOMt3qCt41w",REACT_APP_AUTH_DOMAIN:"jnj-online.firebaseapp.com",REACT_APP_PROJECT_ID:"jnj-online",REACT_APP_STORAGE_BUCKET:"jnj-online.firebasestorage.app",REACT_APP_MESSAGING_SENDER_ID:"782778747979",REACT_APP_APP_ID:"1:782778747979:web:431d9dc56d1adbde96d1ce",REACT_APP_MEASUREMENT_ID:"G-HTVE1315K4"}.REACT_APP_SC_DISABLE_SPEEDY:void 0!=={NODE_ENV:"production",PUBLIC_URL:"/JnJ-Online",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyC3BQWHWwt95U96YEiIyhKvxOMt3qCt41w",REACT_APP_AUTH_DOMAIN:"jnj-online.firebaseapp.com",REACT_APP_PROJECT_ID:"jnj-online",REACT_APP_STORAGE_BUCKET:"jnj-online.firebasestorage.app",REACT_APP_MESSAGING_SENDER_ID:"782778747979",REACT_APP_APP_ID:"1:782778747979:web:431d9dc56d1adbde96d1ce",REACT_APP_MEASUREMENT_ID:"G-HTVE1315K4"}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/JnJ-Online",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyC3BQWHWwt95U96YEiIyhKvxOMt3qCt41w",REACT_APP_AUTH_DOMAIN:"jnj-online.firebaseapp.com",REACT_APP_PROJECT_ID:"jnj-online",REACT_APP_STORAGE_BUCKET:"jnj-online.firebasestorage.app",REACT_APP_MESSAGING_SENDER_ID:"782778747979",REACT_APP_APP_ID:"1:782778747979:web:431d9dc56d1adbde96d1ce",REACT_APP_MEASUREMENT_ID:"G-HTVE1315K4"}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/JnJ-Online",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyC3BQWHWwt95U96YEiIyhKvxOMt3qCt41w",REACT_APP_AUTH_DOMAIN:"jnj-online.firebaseapp.com",REACT_APP_PROJECT_ID:"jnj-online",REACT_APP_STORAGE_BUCKET:"jnj-online.firebasestorage.app",REACT_APP_MESSAGING_SENDER_ID:"782778747979",REACT_APP_APP_ID:"1:782778747979:web:431d9dc56d1adbde96d1ce",REACT_APP_MEASUREMENT_ID:"G-HTVE1315K4"}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/JnJ-Online",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyC3BQWHWwt95U96YEiIyhKvxOMt3qCt41w",REACT_APP_AUTH_DOMAIN:"jnj-online.firebaseapp.com",REACT_APP_PROJECT_ID:"jnj-online",REACT_APP_STORAGE_BUCKET:"jnj-online.firebasestorage.app",REACT_APP_MESSAGING_SENDER_ID:"782778747979",REACT_APP_APP_ID:"1:782778747979:web:431d9dc56d1adbde96d1ce",REACT_APP_MEASUREMENT_ID:"G-HTVE1315K4"}.SC_DISABLE_SPEEDY)));function mE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var yE=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&mE(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=0,l=t.length;s<l;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),vE=new Map,bE=new Map,wE=1,_E=function(e){if(vE.has(e))return vE.get(e);for(;bE.has(wE);)wE++;var t=wE++;return vE.set(e,t),bE.set(t,e),t},EE=function(e){return bE.get(e)},CE=function(e,t){t>=wE&&(wE=t+1),vE.set(e,t),bE.set(t,e)},SE="style["+fE+'][data-styled-version="5.3.11"]',TE=new RegExp("^"+fE+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),xE=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},IE=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var s=o.match(TE);if(s){var l=0|parseInt(s[1],10),c=s[2];0!==l&&(CE(c,l),xE(e,c,s[3]),e.getTag().insertRules(l,r)),r.length=0}else r.push(o)}}},AE=function(){return n.nc},kE=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(fE))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(fE,"active"),r.setAttribute("data-styled-version","5.3.11");var o=AE();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},PE=function(){function e(e){var t=this.element=kE(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}mE(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),NE=function(){function e(e){var t=this.element=kE(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),DE=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),RE=pE,OE={isServer:!pE,useCSSOMInjection:!gE},LE=function(){function e(e,t,n){void 0===e&&(e=cE),void 0===t&&(t={}),this.options=aE({},OE,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&pE&&RE&&(RE=!1,function(e){for(var t=document.querySelectorAll(SE),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(fE)&&(IE(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return _E(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(aE({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new DE(i):r?new PE(i):new NE(i),new yE(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(_E(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(_E(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(_E(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=EE(i);if(void 0!==a){var o=e.names.get(a),s=t.getGroup(i);if(o&&s&&o.size){var l=fE+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+s+l+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),ME=/(a)(d)/gi,jE=function(e){return String.fromCharCode(e+(e>25?39:97))};function FE(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=jE(t%52)+n;return(jE(t%52)+n).replace(ME,"$1-$2")}var UE=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},BE=function(e){return UE(5381,e)};function VE(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(uE(n)&&!hE(n))return!1}return!0}var HE=BE("5.3.11"),$E=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&VE(e),this.componentId=t,this.baseHash=UE(HE,t),this.baseStyle=n,LE.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=sC(this.rules,e,t,n).join(""),o=FE(UE(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var s=n(a,"."+o,void 0,r);t.insertRules(r,o,s)}i.push(o),this.staticRulesId=o}else{for(var l=this.rules.length,c=UE(this.baseHash,n.hash),u="",d=0;d<l;d++){var h=this.rules[d];if("string"==typeof h)u+=h;else if(h){var f=sC(h,e,t,n),p=Array.isArray(f)?f.join(""):f;c=UE(c,p+d),u+=p}}if(u){var g=FE(c>>>0);if(!t.hasNameForId(r,g)){var m=n(u,"."+g,void 0,r);t.insertRules(r,g,m)}i.push(g)}}return i.join(" ")},e}(),zE=/^\s*\/\/.*$/gm,WE=[":","[",".","#"];function qE(e){var t,n,r,i,a=void 0===e?cE:e,o=a.options,s=void 0===o?cE:o,l=a.plugins,c=void 0===l?lE:l,u=new X_(s),d=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,s,l,c,u,d){switch(n){case 1:if(0===u&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===d?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){d.push(e)})),f=function(e,r,a){return 0===r&&-1!==WE.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,s){void 0===s&&(s="&");var l=e.replace(zE,""),c=a&&o?o+" "+a+" { "+l+" }":l;return t=s,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),u(o||!a?"":a,c)}return u.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,f))},h,function(e){if(-2===e){var t=d;return d=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||mE(15),UE(e,t.name)}),5381).toString():"",p}var GE=t.createContext(),KE=(GE.Consumer,t.createContext()),QE=(KE.Consumer,new LE),YE=qE();function JE(){return(0,t.useContext)(GE)||QE}function XE(){return(0,t.useContext)(KE)||YE}function ZE(e){var n=(0,t.useState)(e.stylisPlugins),r=n[0],i=n[1],a=JE(),o=(0,t.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),s=(0,t.useMemo)((function(){return qE({options:{prefix:!e.disableVendorPrefixes},plugins:r})}),[e.disableVendorPrefixes,r]);return(0,t.useEffect)((function(){J_()(r,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),t.createElement(GE.Provider,{value:o},t.createElement(KE.Provider,{value:s},e.children))}var eC=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=YE);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return mE(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=YE),this.name+e.hash},e}(),tC=/([A-Z])/,nC=/([A-Z])/g,rC=/^ms-/,iC=function(e){return"-"+e.toLowerCase()};function aC(e){return tC.test(e)?e.replace(nC,iC).replace(rC,"-ms-"):e}var oC=function(e){return null==e||!1===e||""===e};function sC(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,s=e.length;o<s;o+=1)""!==(i=sC(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return oC(e)?"":hE(e)?"."+e.styledComponentId:uE(e)?"function"!=typeof(l=e)||l.prototype&&l.prototype.isReactComponent||!t?e:sC(e(t),t,n,r):e instanceof eC?n?(e.inject(n,r),e.getName(r)):e:sE(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!oC(t[o])&&(Array.isArray(t[o])&&t[o].isCss||uE(t[o])?a.push(aC(o)+":",t[o],";"):sE(t[o])?a.push.apply(a,e(t[o],o)):a.push(aC(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in Z_||r.startsWith("--")?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var l}var lC=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function cC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return uE(e)||sE(e)?lC(sC(oE(lE,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:lC(sC(oE(e,n)))}new Set;var uC=function(e,t,n){return void 0===n&&(n=cE),e.theme!==n.theme&&e.theme||t||n.theme},dC=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,hC=/(^-|-$)/g;function fC(e){return e.replace(dC,"-").replace(hC,"")}var pC=function(e){return FE(BE(e)>>>0)};function gC(e){return"string"==typeof e&&!0}var mC=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},yC=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function vC(e,t,n){var r=e[n];mC(t)&&mC(r)?bC(r,t):e[n]=t}function bC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(mC(o))for(var s in o)yC(s)&&vC(e,o[s],s)}return e}var wC=t.createContext();wC.Consumer;var _C={};function EC(e,n,r){var i=hE(e),a=!gC(e),o=n.attrs,s=void 0===o?lE:o,l=n.componentId,c=void 0===l?function(e,t){var n="string"!=typeof e?"sc":fC(e);_C[n]=(_C[n]||0)+1;var r=n+"-"+pC("5.3.11"+n+_C[n]);return t?t+"-"+r:r}(n.displayName,n.parentComponentId):l,u=n.displayName,d=void 0===u?function(e){return gC(e)?"styled."+e:"Styled("+dE(e)+")"}(e):u,h=n.displayName&&n.componentId?fC(n.displayName)+"-"+n.componentId:n.componentId||c,f=i&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,p=n.shouldForwardProp;i&&e.shouldForwardProp&&(p=n.shouldForwardProp?function(t,r,i){return e.shouldForwardProp(t,r,i)&&n.shouldForwardProp(t,r,i)}:e.shouldForwardProp);var g,m=new $E(r,h,i?e.componentStyle:void 0),y=m.isStatic&&0===s.length,v=function(e,n){return function(e,n,r,i){var a=e.attrs,o=e.componentStyle,s=e.defaultProps,l=e.foldedComponentIds,c=e.shouldForwardProp,u=e.styledComponentId,d=e.target,h=function(e,t,n){void 0===e&&(e=cE);var r=aE({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in uE(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(uC(n,(0,t.useContext)(wC),s)||cE,n,a),f=h[0],p=h[1],g=function(e,t,n){var r=JE(),i=XE();return t?e.generateAndInjectStyles(cE,r,i):e.generateAndInjectStyles(n,r,i)}(o,i,f),m=r,y=p.$as||n.$as||p.as||n.as||d,v=gC(y),b=p!==n?aE({},n,{},p):n,w={};for(var _ in b)"$"!==_[0]&&"as"!==_&&("forwardedAs"===_?w.as=b[_]:(c?c(_,nE,y):!v||nE(_))&&(w[_]=b[_]));return n.style&&p.style!==n.style&&(w.style=aE({},n.style,{},p.style)),w.className=Array.prototype.concat(l,u,g!==u?g:null,n.className,p.className).filter(Boolean).join(" "),w.ref=m,(0,t.createElement)(y,w)}(g,e,n,y)};return v.displayName=d,(g=t.forwardRef(v)).attrs=f,g.componentStyle=m,g.displayName=d,g.shouldForwardProp=p,g.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):lE,g.styledComponentId=h,g.target=i?e.target:e,g.withComponent=function(e){var t=n.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["componentId"]),a=t&&t+"-"+(gC(e)?e:fC(dE(e)));return EC(e,aE({},i,{attrs:f,componentId:a}),r)},Object.defineProperty(g,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?bC({},e.defaultProps,t):t}}),Object.defineProperty(g,"toString",{value:function(){return"."+g.styledComponentId}}),a&&iE()(g,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),g}var CC=function(e){return function e(t,n,r){if(void 0===r&&(r=cE),!(0,Q_.isValidElementType)(n))return mE(1,String(n));var i=function(){return t(n,r,cC.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,aE({},r,{},i))},i.attrs=function(i){return e(t,n,aE({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(EC,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){CC[e]=CC(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=VE(e),LE.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(sC(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&LE.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=AE();return"<style "+[n&&'nonce="'+n+'"',fE+'="true"','data-styled-version="5.3.11"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?mE(2):e._emitSheetCSS()},this.getStyleElement=function(){var n;if(e.sealed)return mE(2);var r=((n={})[fE]="",n["data-styled-version"]="5.3.11",n.dangerouslySetInnerHTML={__html:e.instance.toString()},n),i=AE();return i&&(r.nonce=i),[t.createElement("style",aE({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new LE({isServer:!0}),this.sealed=!1}var n=e.prototype;n.collectStyles=function(e){return this.sealed?mE(2):t.createElement(ZE,{sheet:this.instance},e)},n.interleaveWithNodeStream=function(e){return mE(3)}}();function SC(){return SC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SC.apply(this,arguments)}function TC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xC(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return TC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?TC(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var IC,AC,kC,PC=CC.div(IC||(AC=["\n  height: 100%;\n  width: 100%;\n\n  div.draggable-layout-container {\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    min-height: 100%;\n    overflow: auto;\n    gap: 4px;\n  }\n\n  .draggable-layout-dragging-element {\n    animation: draggable-layout-dragging-element-anim 0.2s ease-in-out forwards;\n  }\n\n  @keyframes draggable-layout-dragging-element-anim {\n    0% {\n      opacity: 1;\n    }\n    100% {\n      opacity: 0.5;\n    }\n  }\n\n  div.draggable-layout-column-regular {\n    display: flex;\n    flex-direction: column;\n    flex: 1;\n    width: 100%;\n    gap: 4px;\n    padding: 8px;\n  }\n\n  div.draggable-layout-column-master {\n    display: flex;\n    flex-direction: column;\n    flex: 2;\n    width: 100%;\n    gap: 4px;\n    padding: 8px;\n  }\n\n  .draggable-layout-blinking {\n    animation: draggable-layout-blinking-anim 0.2s linear infinite;\n  }\n\n  @keyframes draggable-layout-blinking-anim {\n    50% {\n      opacity: 0.5;\n    }\n  }\n\n  .draggable-layout-droppable-transition {\n    animation: draggable-layout-droppable-transition-anim 0.2s ease-in-out;\n  }\n\n  @keyframes draggable-layout-droppable-transition-anim {\n    from {\n      transform: scaleY(0);\n    }\n    to {\n      transform: scaleY(1);\n    }\n  }\n\n  .draggable-layout-draggable-transition {\n    animation: draggable-layout-draggable-transition-anim 0.2s ease-in-out;\n  }\n\n  @keyframes draggable-layout-draggable-transition-anim {\n    from {\n      transform: scaleY(0);\n    }\n    to {\n      transform: scaleY(1);\n    }\n  }\n\n  @media screen and (max-width: 1023px) {\n    div.draggable-layout-container {\n      display: flex;\n      flex-direction: column;\n    }\n  }\n\n  @media screen and (min-width: 1024px) and (max-width: 1535px) {\n    div.draggable-layout-container {\n      display: flex;\n      flex-direction: row;\n    }\n  }\n\n  @media screen and (min-width: 1536px) {\n    div.draggable-layout-container {\n      display: flex;\n      flex-direction: row;\n    }\n  }\n"],kC||(kC=AC.slice(0)),AC.raw=kC,IC=AC)),NC=function(e){var n=e.id,r=e.children,i=e.onDragStart,a=e.onDragEnd,o=e.draggable;return t.createElement("div",{id:n,draggable:o,style:{opacity:.999},onDragStart:function(e){e.currentTarget.classList.add("draggable-layout-dragging-element"),i&&i(SC({},e,{id:n}))},onDragEnd:function(e){e.currentTarget.classList.remove("draggable-layout-dragging-element"),a&&a(SC({},e,{id:n}))}},r)},DC=function(e){var n=e.col,r=e.beforeComponent,i=e.lastInColumn,a=e.onDrop,o=(0,t.useState)(!1),s=o[0],l=o[1];return t.createElement("div",{id:self.crypto.randomUUID(),style:{width:"100%",flex:i?"auto":null,height:s?"120px":"10px"},onDragEnter:function(e){e.preventDefault(),l(!0)},onDragLeave:function(e){e.preventDefault(),l(!1)},onDragOver:function(e){e.preventDefault()},onDrop:function(e){e.preventDefault(),l(!1),a(n,r)}},s?t.createElement("div",{className:"draggable-layout-droppable-transition",style:{height:"100%",pointerEvents:"none",padding:"5px 0"}},t.createElement("div",{className:"draggable-layout-blinking",style:{border:"2px dotted #aaaaaa",borderRadius:"10px",height:"calc(100% - 15px)",backgroundColor:"#eeeeee"}})):null)},RC=null;const OC=function(e){var n=e.components,r=e.onChange,i=e.columns,a=e.mainColumnIndex,o=e.draggable,s=void 0===o||o,l=(0,t.useState)(n),c=l[0],u=l[1],d=(0,t.useState)([]),h=d[0],f=d[1],p=(0,t.useState)(null),g=p[0],m=p[1];(0,t.useEffect)((function(){RC=g}),[g]),(0,t.useEffect)((function(){Array.isArray(n)&&u(v(y(n)))}),[]),(0,t.useEffect)((function(){c&&b()}),[c,s,i,a]);var y=function(e){if(!Array.isArray(e))return null;var t=[].concat(e).map((function(e,t){return e.id||(e.id=self.crypto.randomUUID()),e}));return t},v=function(e){if(!Array.isArray(e))return null;var t=[].concat(e).sort((function(e,t){return e.col-t.col}));return t},b=function(){for(var e=[],n=0;n<i;n++)e.push([]);var r=function(n){var r=c.filter((function(e){var t;return e.id&&(null===(t=e.col)||void 0===t?void 0:t.toString())===n.toString()})).map((function(e,n){return t.createElement(t.Fragment,{key:n},t.createElement(DC,{col:e.col,beforeComponent:e.id,onDrop:E}),t.createElement(NC,{draggable:s,id:e.id,onDragStart:w,onDragEnd:_},e.id===g?t.createElement("div",{className:"draggable-layout-draggable-transition"},e.component):t.createElement(t.Fragment,null,e.component)))}));r.push(t.createElement(DC,{col:parseInt(n),beforeComponent:null,onDrop:E,lastInColumn:!0})),e[n]=r};for(var a in e)r(a);f(e)},w=function(e){m(e.id)},_=function(e){},E=function(e,t){!function(e,t,n){var i=c.find((function(t){return t.id===e}));if(i){i=SC({},i,{col:t});var a=v([].concat(c).filter((function(t){return t.id!==e}))),o=[];if(!n||n!==e){if(n)for(var s,l=xC(a);!(s=l()).done;){var d=s.value;d.id===n?o.push(i,d):o.push(d)}if(!n)for(var h in a){var f,p,g=(Number.parseInt(h)+1).toString();"0"===h&&(!a[g]||(null===(f=a[g])||void 0===f?void 0:f.col)>t)||a[h].col<=t&&(!a[g]||(null===(p=a[g])||void 0===p?void 0:p.col)>t)?o.push(a[h],i):o.push(a[h])}u(o),r&&r(o)}}}(RC,e,t)};return t.createElement(PC,null,t.createElement("div",{id:"draggable-layout-container",className:"draggable-layout-container"},function(){var e=0,n=[];for(var r in h)n.push(t.createElement("div",{className:r.toString()===(null===a||void 0===a?void 0:a.toString())?"draggable-layout-column-master":"draggable-layout-column-regular",key:e++},h[r]));return n}()))};function LC(e,t){function n(e){t((t=>({...t,action_points:e})))}return[{tabName:"Roleplay Mode",content:(0,Re.jsx)(Re.Fragment,{children:"roleplay mode"})},{tabName:"Combat Mode",content:(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsxs)("div",{className:"CharacterMainTab-action-points",children:["Action Points:","\xa0\xa0\xa0",e.action_points>0?(0,Re.jsx)("img",{src:G_,alt:"starFilled",className:"CharacterMainTab-star",width:30,onClick:()=>n(1)}):(0,Re.jsx)("img",{src:z_,alt:"star",className:"CharacterMainTab-star",width:30,onClick:()=>n(1)}),e.action_points>1?(0,Re.jsx)("img",{src:G_,alt:"starFilled",className:"CharacterMainTab-star",width:30,onClick:()=>n(2)}):(0,Re.jsx)("img",{src:z_,alt:"star",className:"CharacterMainTab-star",width:30,onClick:()=>n(2)}),e.action_points>2?(0,Re.jsx)("img",{src:G_,alt:"starFilled",className:"CharacterMainTab-star",width:30,onClick:()=>n(3)}):(0,Re.jsx)("img",{src:z_,alt:"star",className:"CharacterMainTab-star",width:30,onClick:()=>n(3)}),e.action_points>3?(0,Re.jsx)("img",{src:G_,alt:"starFilled",className:"CharacterMainTab-star",width:30,onClick:()=>n(4)}):(0,Re.jsx)("img",{src:z_,alt:"star",className:"CharacterMainTab-star",width:30,onClick:()=>n(4)})]}),(0,Re.jsx)("span",{className:"CharacterMainTab-header-left-align",children:"Available Actions:"}),(0,Re.jsx)(K_,{actions:e.actions.filter((t=>t.actionCost<=e.action_points)),experience_points:e.experience_points,baseArmorClass:e.base_armor_class,baseHitModifier:e.base_hit_modifier,baseDamageModifier:e.base_damage_modifier,baseDamageDice:e.base_damage_dice,baseDamageDiceType:e.base_damage_dice_type,baseHealingDiceType:e.base_healing_dice_type,canUseActions:!0,characterPage:e,setCharacterPage:t}),(0,Re.jsx)("span",{className:"CharacterMainTab-header-left-align",children:"Unavailable Actions:"}),(0,Re.jsx)(K_,{actions:e.actions.filter((t=>t.actionCost>e.action_points)),experience_points:e.experience_points,baseArmorClass:e.base_armor_class,baseHitModifier:e.base_hit_modifier,baseDamageModifier:e.base_damage_modifier,baseDamageDice:e.base_damage_dice,baseDamageDiceType:e.base_damage_dice_type,baseHealingDiceType:e.base_healing_dice_type})]})},{tabName:"Inventory",content:(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsx)(OC,{components:(r=e.inventory,r.map(((e,t)=>({col:e.colNum,id:t,component:(0,Re.jsx)(Jb(),{className:"CharacterMainTab-inventory-item",openedClassName:"CharacterMainTab-inventory-item-opened",contentInnerClassName:"CharacterMainTab-inventory-item-description",contentOuterClassName:"CharacterMainTab-inventory-item-description",trigger:e.itemName,children:(0,Re.jsx)("p",{children:e.description})})})))),columns:3,mainColumnIndex:-1,onChange:e=>{const n=e.map((e=>({itemName:e.component.props.trigger,description:e.component.props.children.props.children,colNum:e.col})));t((e=>({...e,inventory:[...e.inventory,n]})))},draggable:!0}),(0,Re.jsx)("div",{className:"CharacterMainTab-inventory-item",onClick:()=>{},children:"Add Item"})]})}];var r}function MC(){const[e,n]=(0,t.useState)(tw),[r,i]=(0,t.useState)(!0),a=Y(),o=kh(Sd(by,"characters",a.pathname.split("/").at(2)),{includeMetadataChanges:!0},(e=>{(e.metadata.hasPendingWrites||r)&&(n((t=>({...t,...e.data()}))),document.title=e.data().character_name,i(!1))}));return window.addEventListener("beforeunload",(()=>o())),(0,Re.jsxs)(Re.Fragment,{children:[!r&&(0,Re.jsxs)("div",{className:"CharacterPage DefaultCharacterPage",children:[(0,Re.jsxs)("div",{className:"CharacterPage-column-div CharacterPage-skills-and-flaws SkillsAndFlawsPanelOverride",children:["\xa0\xa0","Skills and Flaws",(0,Re.jsx)("br",{}),(0,Re.jsx)(W_,{characterPage:e})]}),(0,Re.jsxs)("div",{className:"CharacterPage-column-div CharacterPage-right-content",children:[(0,Re.jsx)($_,{characterPage:e}),(0,Re.jsx)(j_,{characterPageLayoutLive:e}),(0,Re.jsx)(H_,{characterPageLayoutLive:e}),(0,Re.jsx)(q_,{tabs:LC(e,n)})]})]}),r&&(0,Re.jsx)("img",{src:ew,alt:"loading",className:"CharacterPage-loading-icon"})]})}function jC(){const[e,n]=(0,t.useState)([]),r=X(),i=Y();return document.title="Characters",Zg(_y,(e=>{e&&async function(e){const t=ch(Cd(by,"characters"),fh(dh("playerId","==",e.uid),dh("canRead","array-contains",e.uid))),r=await Ih(t),i=ch(Cd(by,"campaigns"),fh(dh("canRead","array-contains",e.uid),dh("canWrite","array-contains",e.uid))),a=await Ih(i),o=new Map(a.docs.map((e=>[e.id,e.data().campaign_name])));n(r.docs.map((e=>({id:e.id,character_name:e.data().character_name,player_name:e.data().player_name,class:e.data().class,campaigns:e.data().campaigns.map((e=>o.get(e)))}))))}(e)})),(0,Re.jsxs)("div",{children:[i.pathname.endsWith("characters")&&(0,Re.jsxs)("div",{className:"Character-page",children:[(0,Re.jsx)("div",{className:"Characters-title",children:"Characters"}),e.map(((e,t)=>(0,Re.jsxs)("button",{className:"CharacterCard",onClick:()=>function(e){r("/characters/"+e.id)}(e),children:[e.character_name,(0,Re.jsx)("br",{}),(0,Re.jsxs)("div",{className:"CharacterCard-small-text",children:[e.class,(0,Re.jsx)("br",{}),"Player: ",e.player_name,(0,Re.jsx)("br",{}),"Campaign(s): "+e.campaigns.map(((e,t)=>t?", "+e:e))]})]},t)))]}),!i.pathname.endsWith("characters")&&(0,Re.jsx)(MC,{})]})}function FC(){const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)({director_name:"placeholder",campaign_name:"placeholder"}),a=X(),o=Y();return(0,t.useEffect)((()=>{(async()=>{const e=await Th(Sd(by,"campaigns",o.pathname.split("/").at(2)));i(e.data()),document.title=e.data().campaign_name;const t=ch(Cd(by,"characters"),dh("campaigns","array-contains",o.pathname.split("/").at(2))),r=await Ih(t);n(r.docs.map((e=>({id:e.id,...e.data()}))))})()}),[o]),(0,Re.jsxs)("div",{className:"CampaignPage",children:[(0,Re.jsx)("div",{className:"Campaigns-title",children:r.campaign_name}),e.map(((e,t)=>(0,Re.jsxs)("button",{className:"CharacterCard",onClick:()=>a("/characters/"+e.id),children:[e.character_name,(0,Re.jsx)("br",{}),(0,Re.jsxs)("div",{className:"CharacterCard-small-text",children:[e.class,(0,Re.jsx)("br",{}),"Player: ",e.player_name,(0,Re.jsx)("br",{})]})]},t))),(0,Re.jsx)("br",{}),(0,Re.jsxs)("button",{className:"CharacterCard",onClick:()=>a("/directors/"+o.pathname.split("/").at(2)),children:["Director Mode",(0,Re.jsx)("br",{})]}),(0,Re.jsx)("br",{}),(0,Re.jsx)("button",{className:"CharacterCard",onClick:()=>a(o.pathname.split("/").at(2)+"/newCharacter"),children:"New Character"})]})}const UC=(e,t)=>t.reset?{campaign_name:"",director_name:""}:{...e,[t.name]:t.value};function BC(){const[e,n]=(0,t.useReducer)(UC,{}),r=X();const i=e=>{n({name:e.target.name,value:e.target.value})};return(0,Re.jsxs)("div",{className:"NewCampaignPage",children:[(0,Re.jsxs)("div",{className:"NewCampaignPage-input",children:["Campaign Name:",(0,Re.jsx)("input",{className:"NewCampaignPage-input-box",name:"campaign_name",type:"text",onChange:i,required:!0})]}),(0,Re.jsxs)("div",{className:"NewCampaignPage-input",children:["Director:",(0,Re.jsx)("input",{className:"NewCampaignPage-input-box",name:"director_name",type:"text",onChange:i,required:!0})]}),(0,Re.jsx)("button",{className:"NewCampaignPage-submit-button",type:"submit",onClick:()=>async function(){if(!e.campaign_name||!e.director_name)return alert("invalid form values");const t=await Ah(Cd(by,"campaigns"),e);r(t.id)}(),children:"Create Campaign"})]})}const VC=(e,t)=>"SET_FORM_DATA"===t.type?{...e,...t.payload}:{...e,[t.name]:t.value};function HC(){var e;document.title="New Character";const[n,r]=(0,t.useReducer)(VC,{}),[i,a]=(0,t.useState)([]),[o,s]=(0,t.useState)([]),[l,c]=(0,t.useState)([]),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)(null),[p,g]=(0,t.useState)(null),m=(X(),Y());(0,t.useEffect)((()=>{!async function(){const e=ch(Cd(by,"players"),dh("campaigns","array-contains",m.pathname.split("/").at(2))),t=await Ih(e);a(t.docs.map((e=>({id:e.id,...e.data()}))))}(),async function(){const e=await Ih(Cd(by,"classes"));s(e.docs.map((e=>({id:e.id,...e.data()}))))}(),async function(){const e=await Ih(Cd(by,"races"));c(e.docs.map((e=>({id:e.id,...e.data()}))))}()}),[m]),(0,t.useEffect)((()=>{""!==n.class_id&&""!==n.race_id&&""!==n.strength_stat_allocated&&""!==n.charisma_stat_allocated&&""!==n.intelligence_stat_allocated&&""!==n.dexterity_stat_allocated&&""!==n.player_id&&""!==n.character_name&&!n.class_name&&n.player_name&&n.race_name&&console.log("ready to submit!")}),[n]);const y=e=>{const t="number"===e.target.type?Number(e.target.value):e.target.value;r({name:e.target.name,value:t})};return(0,Re.jsxs)("div",{className:"NewCharacterPage",children:[(0,Re.jsxs)("div",{className:"NewCharacterPage-input",children:["Character Name:",(0,Re.jsx)("input",{className:"NewCharacterPage-input-box",name:"character_name",type:"text",onChange:y,required:!0})]}),(0,Re.jsxs)("div",{className:"NewCharacterPage-input",children:["Player:",(0,Re.jsxs)("select",{className:"NewCharacterPage-input-box",name:"player_id",type:"text",onChange:y,required:!0,children:[(0,Re.jsx)("option",{hidden:!0}),i.map((e=>(0,Re.jsx)("option",{value:e.id,children:e.player_name},e.id)))]}),(0,Re.jsx)("button",{className:"NewCharacterPage-add-player-button",onClick:()=>{d(!0)},children:"Add Player"}),u&&(0,Re.jsxs)("div",{className:"NewCharacterPage-input",children:["New Player Name:",(0,Re.jsx)("input",{className:"NewCharacterPage-input-box",name:"player_name",type:"text",onChange:e=>{f(e.target.value)},required:!0}),(0,Re.jsx)("button",{className:"NewCharacterPage-submit-button",type:"submit",onClick:()=>async function(){if(!h)return alert("no name provided!");const e=await Ah(Cd(by,"players"),{player_name:h,campaigns:[m.pathname.split("/").at(2)]});a(i.concat({id:e.id,campaigns:[m.pathname.split("/").at(2)],player_name:h})),d(!1),alert("Successfully added new player")}(),children:"Add Player"})]})]}),(0,Re.jsxs)("div",{className:"NewCharacterPage-input",children:["Ability Point Allocation: (+4, +3, +2, +1 or +3, +3, +2, +2)",(0,Re.jsx)("br",{}),"Strength:",(0,Re.jsx)("input",{className:"NewCharacterPage-input-box",name:"strength_stat_allocated",type:"number",min:0,max:4,onChange:y,required:!0,placeholder:0,style:{width:30}}),"\xa0\xa0","Dexterity:",(0,Re.jsx)("input",{className:"NewCharacterPage-input-box",name:"dexterity_stat_allocated",type:"number",min:0,max:4,onChange:y,required:!0,placeholder:0,style:{width:30}}),"\xa0\xa0","Intelligence:",(0,Re.jsx)("input",{className:"NewCharacterPage-input-box",name:"intelligence_stat_allocated",type:"number",min:0,max:4,onChange:y,required:!0,placeholder:0,style:{width:30}}),"\xa0\xa0","Charisma:",(0,Re.jsx)("input",{className:"NewCharacterPage-input-box",name:"charisma_stat_allocated",type:"number",min:0,max:4,onChange:y,required:!0,placeholder:0,style:{width:30}})]}),(0,Re.jsxs)("div",{className:"NewCharacterPage-input",children:["Race:",(0,Re.jsxs)("select",{className:"NewCharacterPage-input-box",name:"race_id",type:"text",onChange:y,required:!0,children:[(0,Re.jsx)("option",{hidden:!0}),l.map((e=>(0,Re.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),n.race_id&&n.class_id&&p&&(0,Re.jsx)("div",{className:"NewCharacterPage-actions",children:(0,Re.jsx)(K_,{actions:[null===(e=l.filter((e=>e.id===n.race_id)))||void 0===e?void 0:e.at(0).feat],experience_points:0,baseArmorClass:parseInt(p.base_armor_class),baseHitModifier:parseInt(p.base_hit_modifier),baseDamageModifier:parseInt(p.base_damage_modifier),baseDamageDice:parseInt(p.base_damage_dice),baseDamageDiceType:parseInt(p.base_damage_dice_type),baseHealingDiceType:parseInt(p.base_healing_dice_type)},"race-feats")}),(0,Re.jsxs)("div",{className:"NewCharacterPage-input",children:["Class:",(0,Re.jsxs)("select",{className:"NewCharacterPage-input-box",name:"class_id",type:"text",onChange:y,required:!0,children:[(0,Re.jsx)("option",{hidden:!0}),o.map((e=>(0,Re.jsx)("option",{value:e.id,children:e.class_name},e.id)))]})]}),n.class_id&&(0,Re.jsxs)("div",{children:[(0,Re.jsx)("button",{className:"NewCharacterPage-submit-button",onClick:()=>g(o.filter((e=>e.id===n.class_id)).at(0)),children:"View Class Info"}),p&&(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsx)("br",{}),p.class_name,":",(0,Re.jsx)("br",{}),p.class_type,(0,Re.jsx)("br",{}),"Author: "+p.author,(0,Re.jsx)("br",{}),"Base AC: "+p.base_armor_class,"\xa0\xa0Base Hardness: "+p.base_hardness,(0,Re.jsx)("br",{}),"+"+p.base_hit_modifier+" to Hit","\xa0\xa0Base DC: "+p.base_class_damage_class,(0,Re.jsx)("br",{}),`Base Melee Damage:                 ${p.base_melee_damage_dice}${F_(p.base_melee_damage_dice_type)}+${p.base_melee_damage_modifier}                 ${p.base_melee_damage_type}`,(0,Re.jsx)("br",{}),`Base Ranged Damage:                 ${p.base_ranged_damage_dice}${F_(p.base_ranged_damage_dice_type)}+${p.base_ranged_damage_modifier}                 ${p.base_ranged_damage_type}`,(0,Re.jsx)("br",{}),"Base Healing Dice Type: "+F_(p.base_healing_dice_type),(0,Re.jsx)("br",{}),(0,Re.jsx)("br",{}),"Description:",(0,Re.jsx)("br",{}),(0,Re.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:p.description}),(0,Re.jsx)("br",{}),"Actions:",(0,Re.jsx)("div",{className:"NewCharacterPage-actions",children:(0,Re.jsx)(K_,{actions:p.actions,experience_points:0,baseArmorClass:parseInt(p.base_armor_class),baseHitModifier:parseInt(p.base_hit_modifier),baseDamageModifier:parseInt(p.base_damage_modifier),baseDamageDice:parseInt(p.base_damage_dice),baseDamageDiceType:parseInt(p.base_damage_dice_type),baseHealingDiceType:parseInt(p.base_healing_dice_type)},"class-actions")})]})]}),(0,Re.jsx)("button",{className:"NewCharacterPage-submit-button",type:"submit",onClick:()=>async function(){var e,t,a;if(""===n.class_id||""===n.race_id||""===n.strength_stat_allocated||""===n.charisma_stat_allocated||""===n.intelligence_stat_allocated||""===n.dexterity_stat_allocated||""===n.player_id)return alert("invalid form values");const s=null===(e=o.filter((e=>e.id===n.class_id)))||void 0===e?void 0:e.at(0);if(!s)return alert("invalid class found!");delete s.id,s.class_description=s.description,delete s.description;const c=null===(t=i.filter((e=>e.id===n.player_id)))||void 0===t?void 0:t.at(0);if(!c)return alert("invalid player found!");const u=null===(a=l.filter((e=>e.id===n.race_id)))||void 0===a?void 0:a.at(0);if(!u)return alert("invalid race found!");const d=s;d.race_name=u.name,d.actions=d.actions.concat(u.feat),d.player_name=c.player_name,r({type:"SET_FORM_DATA",payload:d})}(),children:"Create Character"}),(0,Re.jsx)("br",{}),(0,Re.jsx)("br",{})]})}function $C(){const[e,n]=(0,t.useState)([]),r=X(),i=Y();return document.title="Campaigns",Zg(_y,(e=>{e&&async function(e){const t=ch(Cd(by,"campaigns"),fh(dh("canRead","array-contains",e.uid),dh("canWrite","array-contains",e.uid))),r=await Ih(t);n(r.docs.map((e=>({id:e.id,...e.data()}))))}(e)})),(0,Re.jsxs)("div",{children:[i.pathname.endsWith("campaigns")&&(0,Re.jsxs)("div",{className:"CampaignPage",children:[(0,Re.jsx)("div",{className:"Campaigns-title",children:"Campaigns"}),e.map(((e,t)=>(0,Re.jsxs)("button",{className:"CampaignCard",onClick:()=>function(e){r("/campaigns/"+e.id)}(e),children:[e.campaign_name,(0,Re.jsx)("br",{}),(0,Re.jsxs)("div",{className:"CampaignCard-small-text",children:["Director: ",e.director_name]})]},t))),(0,Re.jsx)("button",{className:"CampaignCard Campaign-shift-up",onClick:()=>{r("/campaigns/new")},children:"Create Campaign"})]}),!i.pathname.endsWith("campaigns")&&!i.pathname.endsWith("new")&&!i.pathname.endsWith("newCharacter")&&(0,Re.jsx)(FC,{}),i.pathname.endsWith("new")&&(0,Re.jsx)(BC,{}),i.pathname.endsWith("newCharacter")&&(0,Re.jsx)(HC,{})]})}function zC(e){let{userInfo:t,setUserInfo:n}=e;return(0,Re.jsx)("div",{children:"Account"})}const WC=JSON.parse('{"enemy_name":"GUNMECH Leo","enemy_type":"Captain","id":"dfinso","level":3,"base_armor_class":17,"Weaknesses":["Lightning 5","Acid 10"],"Resistances":["Non Magical-Physical 4","Fire 5"],"action_points":3,"strength_stat":4,"dexterity_stat":1,"intelligence_stat":2,"charisma_stat":3,"hardness":0,"current_health":130,"maximum_health":130,"temporary_health":0,"experience_points":0,"actions":[{"actionName":"action 1","actionCost":3,"range":"Zone 0, AOE","toHitBool":true,"toHit":"1","difficultyClass":"","description":"This is where an action description would go. You would just have a string of characters here explaining what it does and then maybe some flavor later, sue me.","tags":[{"tagInfo":"red tag","tagColor":"#A84646","textColor":"#FAF6F6","tagDescription":"this tag is red."},{"tagInfo":"blue tag","tagColor":"#248AE4","textColor":"#FAF6F6"}]},{"actionName":"action 2","actionCost":1,"range":"1 Zone","toHitBool":false,"toHit":"","difficultyClass":"Dex,0","description":"This is where an action description would go. You would just have a string of characters here explaining what it does and then maybe some flavor later, sue me. This is indeed different from the other action description, you are not paranoid."}],"base_hit_modifier":1,"base_damage_modifier":2,"base_damage_dice":1,"base_damage_dice_type":2,"base_healing_dice_type":1}');function qC(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var GC=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),KC=()=>Math.random().toString(36).substring(7).split("").join("."),QC={INIT:`@@redux/INIT${KC()}`,REPLACE:`@@redux/REPLACE${KC()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${KC()}`};function YC(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function JC(e,t,n){if("function"!==typeof e)throw new Error(qC(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(qC(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(qC(1));return n(JC)(e,t)}let r=e,i=t,a=new Map,o=a,s=0,l=!1;function c(){o===a&&(o=new Map,a.forEach(((e,t)=>{o.set(t,e)})))}function u(){if(l)throw new Error(qC(3));return i}function d(e){if("function"!==typeof e)throw new Error(qC(4));if(l)throw new Error(qC(5));let t=!0;c();const n=s++;return o.set(n,e),function(){if(t){if(l)throw new Error(qC(6));t=!1,c(),o.delete(n),a=null}}}function h(e){if(!YC(e))throw new Error(qC(7));if("undefined"===typeof e.type)throw new Error(qC(8));if("string"!==typeof e.type)throw new Error(qC(17));if(l)throw new Error(qC(9));try{l=!0,i=r(i,e)}finally{l=!1}return(a=o).forEach((e=>{e()})),e}h({type:QC.INIT});return{dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(qC(10));r=e,h({type:QC.REPLACE})},[GC]:function(){const e=d;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(qC(11));function n(){const e=t;e.next&&e.next(u())}n();return{unsubscribe:e(n)}},[GC](){return this}}}}}function XC(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t(e.apply(this,r))}}function ZC(e,t){if("function"===typeof e)return XC(e,t);if("object"!==typeof e||null===e)throw new Error(qC(16));const n={};for(const r in e){const i=e[r];"function"===typeof i&&(n[r]=XC(i,t))}return n}function eS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce(((e,t)=>function(){return e(t(...arguments))}))}n(237);var tS=t.version.startsWith("19"),nS=Symbol.for(tS?"react.transitional.element":"react.element"),rS=Symbol.for("react.portal"),iS=Symbol.for("react.fragment"),aS=Symbol.for("react.strict_mode"),oS=Symbol.for("react.profiler"),sS=Symbol.for("react.consumer"),lS=Symbol.for("react.context"),cS=Symbol.for("react.forward_ref"),uS=Symbol.for("react.suspense"),dS=Symbol.for("react.suspense_list"),hS=Symbol.for("react.memo"),fS=Symbol.for("react.lazy"),pS=cS,gS=hS;function mS(e){if("object"===typeof e&&null!==e){const{$$typeof:t}=e;switch(t){case nS:switch(e=e.type){case iS:case oS:case aS:case uS:case dS:return e;default:switch(e=e&&e.$$typeof){case lS:case cS:case fS:case hS:case sS:return e;default:return t}}case rS:return t}}}function yS(e,t,n,r,i){let a,o,s,l,c,{areStatesEqual:u,areOwnPropsEqual:d,areStatePropsEqual:h}=i,f=!1;function p(i,f){const p=!d(f,o),g=!u(i,a,f,o);return a=i,o=f,p&&g?(s=e(a,o),t.dependsOnOwnProps&&(l=t(r,o)),c=n(s,l,o),c):p?(e.dependsOnOwnProps&&(s=e(a,o)),t.dependsOnOwnProps&&(l=t(r,o)),c=n(s,l,o),c):g?function(){const t=e(a,o),r=!h(t,s);return s=t,r&&(c=n(s,l,o)),c}():c}return function(i,u){return f?p(i,u):(a=i,o=u,s=e(a,o),l=t(r,o),c=n(s,l,o),f=!0,c)}}function vS(e){return function(t){const n=e(t);function r(){return n}return r.dependsOnOwnProps=!1,r}}function bS(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function wS(e,t){return function(t,n){let{displayName:r}=n;const i=function(e,t){return i.dependsOnOwnProps?i.mapToProps(e,t):i.mapToProps(e,void 0)};return i.dependsOnOwnProps=!0,i.mapToProps=function(t,n){i.mapToProps=e,i.dependsOnOwnProps=bS(e);let r=i(t,n);return"function"===typeof r&&(i.mapToProps=r,i.dependsOnOwnProps=bS(r),r=i(t,n)),r},i}}function _S(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function ES(e,t,n){return{...n,...e,...t}}function CS(e){e()}var SS={notify(){},get:()=>[]};function TS(e,t){let n,r=SS,i=0,a=!1;function o(){c.onStateChange&&c.onStateChange()}function s(){i++,n||(n=t?t.addNestedSub(o):e.subscribe(o),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){CS((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function l(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=SS)}const c={addNestedSub:function(e){s();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:o,isSubscribed:function(){return a},trySubscribe:function(){a||(a=!0,s())},tryUnsubscribe:function(){a&&(a=!1,l())},getListeners:()=>r};return c}var xS=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),IS=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),AS=(()=>xS||IS?t.useLayoutEffect:t.useEffect)();function kS(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function PS(e,t){if(kS(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!kS(e[n[i]],t[n[i]]))return!1;return!0}var NS={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},DS={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},RS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},OS={[pS]:{$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},[gS]:RS};function LS(e){return mS(e)===hS?RS:OS[e.$$typeof]||NS}var MS=Object.defineProperty,jS=Object.getOwnPropertyNames,FS=Object.getOwnPropertySymbols,US=Object.getOwnPropertyDescriptor,BS=Object.getPrototypeOf,VS=Object.prototype;function HS(e,t){if("string"!==typeof t){if(VS){const n=BS(t);n&&n!==VS&&HS(e,n)}let n=jS(t);FS&&(n=n.concat(FS(t)));const r=LS(e),i=LS(t);for(let a=0;a<n.length;++a){const o=n[a];if(!DS[o]&&(!i||!i[o])&&(!r||!r[o])){const n=US(t,o);try{MS(e,o,n)}catch(dP){}}}}return e}var $S=Symbol.for("react-redux-context"),zS="undefined"!==typeof globalThis?globalThis:{};function WS(){if(!t.createContext)return{};const e=zS[$S]??=new Map;let n=e.get(t.createContext);return n||(n=t.createContext(null),e.set(t.createContext,n)),n}var qS=WS(),GS=[null,null];function KS(e,t,n,r,i,a){e.current=r,n.current=!1,i.current&&(i.current=null,a())}function QS(e,t){return e===t}var YS=function(e,n,r){let{pure:i,areStatesEqual:a=QS,areOwnPropsEqual:o=PS,areStatePropsEqual:s=PS,areMergedPropsEqual:l=PS,forwardRef:c=!1,context:u=qS}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const d=u,h=function(e){return e?"function"===typeof e?wS(e):_S(e,"mapStateToProps"):vS((()=>({})))}(e),f=function(e){return e&&"object"===typeof e?vS((t=>function(e,t){const n={};for(const r in e){const i=e[r];"function"===typeof i&&(n[r]=function(){return t(i(...arguments))})}return n}(e,t))):e?"function"===typeof e?wS(e):_S(e,"mapDispatchToProps"):vS((e=>({dispatch:e})))}(n),p=function(e){return e?"function"===typeof e?function(e){return function(t,n){let r,{displayName:i,areMergedPropsEqual:a}=n,o=!1;return function(t,n,i){const s=e(t,n,i);return o?a(s,r)||(r=s):(o=!0,r=s),r}}}(e):_S(e,"mergeProps"):()=>ES}(r),g=Boolean(e);return e=>{const n=e.displayName||e.name||"Component",r=`Connect(${n})`,i={shouldHandleStateChanges:g,displayName:r,wrappedComponentName:n,WrappedComponent:e,initMapStateToProps:h,initMapDispatchToProps:f,initMergeProps:p,areStatesEqual:a,areStatePropsEqual:s,areOwnPropsEqual:o,areMergedPropsEqual:l};function u(n){const[r,a,o]=t.useMemo((()=>{const{reactReduxForwardedRef:e,...t}=n;return[n.context,e,t]}),[n]),s=t.useMemo((()=>d),[r,d]),l=t.useContext(s),c=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch),u=Boolean(l)&&Boolean(l.store);const h=c?n.store:l.store,f=u?l.getServerState:h.getState,p=t.useMemo((()=>function(e,t){let{initMapStateToProps:n,initMapDispatchToProps:r,initMergeProps:i,...a}=t;return yS(n(e,a),r(e,a),i(e,a),e,a)}(h.dispatch,i)),[h]),[m,y]=t.useMemo((()=>{if(!g)return GS;const e=TS(h,c?void 0:l.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[h,c,l]),v=t.useMemo((()=>c?l:{...l,subscription:m}),[c,l,m]),b=t.useRef(void 0),w=t.useRef(o),_=t.useRef(void 0),E=t.useRef(!1),C=t.useRef(!1),S=t.useRef(void 0);AS((()=>(C.current=!0,()=>{C.current=!1})),[]);const T=t.useMemo((()=>()=>_.current&&o===w.current?_.current:p(h.getState(),o)),[h,o]),x=t.useMemo((()=>e=>m?function(e,t,n,r,i,a,o,s,l,c,u){if(!e)return()=>{};let d=!1,h=null;const f=()=>{if(d||!s.current)return;const e=t.getState();let n,f;try{n=r(e,i.current)}catch(dP){f=dP,h=dP}f||(h=null),n===a.current?o.current||c():(a.current=n,l.current=n,o.current=!0,u())};return n.onStateChange=f,n.trySubscribe(),f(),()=>{if(d=!0,n.tryUnsubscribe(),n.onStateChange=null,h)throw h}}(g,h,m,p,w,b,E,C,_,y,e):()=>{}),[m]);var I,A,k;let P;I=KS,A=[w,b,E,o,_,y],AS((()=>I(...A)),k);try{P=t.useSyncExternalStore(x,T,f?()=>p(f(),o):T)}catch(D){throw S.current&&(D.message+=`\nThe error may be correlated with this previous error:\n${S.current.stack}\n\n`),D}AS((()=>{S.current=void 0,_.current=void 0,b.current=P}));const N=t.useMemo((()=>t.createElement(e,{...P,ref:a})),[a,e,P]);return t.useMemo((()=>g?t.createElement(s.Provider,{value:v},N):N),[s,N,v])}const m=t.memo(u);if(m.WrappedComponent=e,m.displayName=u.displayName=r,c){const n=t.forwardRef((function(e,n){return t.createElement(m,{...e,reactReduxForwardedRef:n})}));return n.displayName=r,n.WrappedComponent=e,HS(n,e)}return HS(m,e)}};var JS=function(e){const{children:n,context:r,serverState:i,store:a}=e,o=t.useMemo((()=>{const e=TS(a);return{store:a,subscription:e,getServerState:i?()=>i:void 0}}),[a,i]),s=t.useMemo((()=>a.getState()),[a]);AS((()=>{const{subscription:e}=o;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==a.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,s]);const l=r||qS;return t.createElement(l.Provider,{value:o},n)};var XS="Invariant failed";var ZS=function(e){var t=e.top,n=e.right,r=e.bottom,i=e.left;return{top:t,right:n,bottom:r,left:i,width:n-i,height:r-t,x:i,y:t,center:{x:(n+i)/2,y:(r+t)/2}}},eT=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},tT=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},nT={top:0,right:0,bottom:0,left:0},rT=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?nT:n,i=e.border,a=void 0===i?nT:i,o=e.padding,s=void 0===o?nT:o,l=ZS(eT(t,r)),c=ZS(tT(t,a)),u=ZS(tT(c,s));return{marginBox:l,borderBox:ZS(t),paddingBox:c,contentBox:u,margin:r,border:a,padding:s}},iT=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&function(e){if(!e)throw new Error(XS)}(!1),n},aT=function(e,t){var n,r,i=e.borderBox,a=e.border,o=e.margin,s=e.padding,l=(r=t,{top:(n=i).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return rT({borderBox:l,border:a,margin:o,padding:s})},oT=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),aT(e,t)},sT=function(e,t){var n={top:iT(t.marginTop),right:iT(t.marginRight),bottom:iT(t.marginBottom),left:iT(t.marginLeft)},r={top:iT(t.paddingTop),right:iT(t.paddingRight),bottom:iT(t.paddingBottom),left:iT(t.paddingLeft)},i={top:iT(t.borderTopWidth),right:iT(t.borderRightWidth),bottom:iT(t.borderBottomWidth),left:iT(t.borderLeftWidth)};return rT({borderBox:e,margin:n,padding:r,border:i})},lT=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return sT(t,n)};const cT=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];t=i,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};function uT(){return uT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uT.apply(null,arguments)}function dT(e,t){}dT.bind(null,"warn"),dT.bind(null,"error");function hT(){}function fT(e,t,n){const r=t.map((t=>{const r=function(e,t){return{...e,...t}}(n,t.options);return e.addEventListener(t.eventName,t.fn,r),function(){e.removeEventListener(t.eventName,t.fn,r)}}));return function(){r.forEach((e=>{e()}))}}const pT="Invariant failed";class gT extends Error{}function mT(e,t){throw new gT(pT)}gT.prototype.toString=function(){return this.message};class yT extends t.Component{constructor(){super(...arguments),this.callbacks=null,this.unbind=hT,this.onWindowError=e=>{const t=this.getCallbacks();t.isDragging()&&t.tryAbort();e.error instanceof gT&&e.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=e=>{this.callbacks=e}}componentDidMount(){this.unbind=fT(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(!(e instanceof gT))throw e;this.setState({})}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const vT=e=>e+1,bT=(e,t)=>{const n=e.droppableId===t.droppableId,r=vT(e.index),i=vT(t.index);return n?`\n      You have moved the item from position ${r}\n      to position ${i}\n    `:`\n    You have moved the item from position ${r}\n    in list ${e.droppableId}\n    to list ${t.droppableId}\n    in position ${i}\n  `},wT=(e,t,n)=>t.droppableId===n.droppableId?`\n      The item ${e}\n      has been combined with ${n.draggableId}`:`\n      The item ${e}\n      in list ${t.droppableId}\n      has been combined with ${n.draggableId}\n      in list ${n.droppableId}\n    `,_T=e=>`\n  The item has returned to its starting position\n  of ${vT(e.index)}\n`,ET={dragHandleUsageInstructions:"\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",onDragStart:e=>`\n  You have lifted an item in position ${vT(e.source.index)}\n`,onDragUpdate:e=>{const t=e.destination;if(t)return bT(e.source,t);const n=e.combine;return n?wT(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},onDragEnd:e=>{if("CANCEL"===e.reason)return`\n      Movement cancelled.\n      ${_T(e.source)}\n    `;const t=e.destination,n=e.combine;return t?`\n      You have dropped the item.\n      ${bT(e.source,t)}\n    `:n?`\n      You have dropped the item.\n      ${wT(e.draggableId,e.source,n)}\n    `:`\n    The item has been dropped while not over a drop area.\n    ${_T(e.source)}\n  `}};function CT(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(n=e[i],r=t[i],!(n===r||Number.isNaN(n)&&Number.isNaN(r)))return!1;var n,r;return!0}function ST(e,n){const r=(0,t.useState)((()=>({inputs:n,result:e()})))[0],i=(0,t.useRef)(!0),a=(0,t.useRef)(r),o=i.current||Boolean(n&&a.current.inputs&&CT(n,a.current.inputs))?a.current:{inputs:n,result:e()};return(0,t.useEffect)((()=>{i.current=!1,a.current=o}),[o]),o.result}function TT(e,t){return ST((()=>e),t)}const xT={x:0,y:0},IT=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),AT=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),kT=(e,t)=>e.x===t.x&&e.y===t.y,PT=e=>({x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}),NT=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return"x"===e?{x:t,y:n}:{x:n,y:t}},DT=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),RT=(e,t)=>Math.min(...t.map((t=>DT(e,t)))),OT=e=>t=>({x:e(t.x),y:e(t.y)});const LT=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),MT=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],jT=(e,t)=>t&&t.shouldClipSubject?((e,t)=>{const n=ZS({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n})(t.pageMarginBox,e):ZS(e);var FT=e=>{let{page:t,withPlaceholder:n,axis:r,frame:i}=e;const a=((e,t)=>t?LT(e,t.scroll.diff.displacement):e)(t.marginBox,i),o=((e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e)(a,r,n);return{page:t,withPlaceholder:n,active:jT(o,i)}},UT=(e,t)=>{e.frame||mT();const n=e.frame,r=AT(t,n.scroll.initial),i=PT(r),a={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},o=FT({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a});return{...e,frame:a,subject:o}};function BT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:CT,n=null;function r(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const o=e.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}const VT=BT((e=>e.reduce(((e,t)=>(e[t.descriptor.id]=t,e)),{}))),HT=BT((e=>e.reduce(((e,t)=>(e[t.descriptor.id]=t,e)),{}))),$T=BT((e=>Object.values(e))),zT=BT((e=>Object.values(e)));var WT=BT(((e,t)=>{const n=zT(t).filter((t=>e===t.descriptor.droppableId)).sort(((e,t)=>e.descriptor.index-t.descriptor.index));return n}));function qT(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function GT(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var KT=BT(((e,t)=>t.filter((t=>t.descriptor.id!==e.descriptor.id)))),QT=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const YT={point:xT,value:0},JT={invisible:{},visible:{},all:[]},XT={displaced:JT,displacedBy:YT,at:null};var ZT=(e,t)=>n=>e<=n&&n<=t,ex=e=>{const t=ZT(e.top,e.bottom),n=ZT(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const i=t(r.top)||t(r.bottom),a=n(r.left)||n(r.right);if(i&&a)return!0;const o=r.top<e.top&&r.bottom>e.bottom,s=r.left<e.left&&r.right>e.right;if(o&&s)return!0;return o&&a||s&&i}},tx=e=>{const t=ZT(e.top,e.bottom),n=ZT(e.left,e.right);return e=>t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)};const nx={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},rx={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};const ix=e=>{let{target:t,destination:n,viewport:r,withDroppableDisplacement:i,isVisibleThroughFrameFn:a}=e;const o=i?((e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:xT;return LT(e,n)})(t,n):t;return((e,t,n)=>!!t.subject.active&&n(t.subject.active)(e))(o,n,a)&&((e,t,n)=>n(t)(e))(o,r,a)},ax=e=>ix({...e,isVisibleThroughFrameFn:tx});function ox(e){let{afterDragging:t,destination:n,displacedBy:r,viewport:i,forceShouldAnimate:a,last:o}=e;return t.reduce((function(e,t){const s=function(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return ZS(eT(n,r))}(t,r),l=t.descriptor.id;e.all.push(l);var c;if(!(c={target:s,destination:n,viewport:i,withDroppableDisplacement:!0},ix({...c,isVisibleThroughFrameFn:ex})))return e.invisible[t.descriptor.id]=!0,e;const u=((e,t,n)=>{if("boolean"===typeof n)return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const a=i[e];return!a||a.shouldAnimate})(l,o,a),d={draggableId:l,shouldAnimate:u};return e.visible[l]=d,e}),{all:[],visible:{},invisible:{}})}function sx(e){let{insideDestination:t,inHomeList:n,displacedBy:r,destination:i}=e;const a=function(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:JT,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:a}}}}function lx(e){let{draggable:t,insideDestination:n,destination:r,viewport:i,displacedBy:a,last:o,index:s,forceShouldAnimate:l}=e;const c=QT(t,r);if(null==s)return sx({insideDestination:n,inHomeList:c,displacedBy:a,destination:r});const u=n.find((e=>e.descriptor.index===s));if(!u)return sx({insideDestination:n,inHomeList:c,displacedBy:a,destination:r});const d=KT(t,n),h=n.indexOf(u);return{displaced:ox({afterDragging:d.slice(h),destination:r,displacedBy:a,last:o,viewport:i.frame,forceShouldAnimate:l}),displacedBy:a,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function cx(e,t){return Boolean(t.effected[e])}var ux=e=>{let{isMovingForward:t,isInHomeList:n,draggable:r,draggables:i,destination:a,insideDestination:o,previousImpact:s,viewport:l,afterCritical:c}=e;const u=s.at;if(u||mT(),"REORDER"===u.type){const e=(e=>{let{isMovingForward:t,isInHomeList:n,insideDestination:r,location:i}=e;if(!r.length)return null;const a=i.index,o=t?a+1:a-1,s=r[0].descriptor.index,l=r[r.length-1].descriptor.index;return o<s||o>(n?l:l+1)?null:o})({isMovingForward:t,isInHomeList:n,location:u.destination,insideDestination:o});return null==e?null:lx({draggable:r,insideDestination:o,destination:a,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:e})}const d=(e=>{let{isMovingForward:t,destination:n,draggables:r,combine:i,afterCritical:a}=e;if(!n.isCombineEnabled)return null;const o=i.draggableId,s=r[o].descriptor.index;return cx(o,a)?t?s:s-1:t?s+1:s})({isMovingForward:t,destination:a,displaced:s.displaced,draggables:i,combine:u.combine,afterCritical:c});return null==d?null:lx({draggable:r,insideDestination:o,destination:a,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:d})},dx=e=>{let{afterCritical:t,impact:n,draggables:r}=e;const i=GT(n);i||mT();const a=i.draggableId,o=r[a].page.borderBox.center,s=(e=>{let{displaced:t,afterCritical:n,combineWith:r,displacedBy:i}=e;const a=Boolean(t.visible[r]||t.invisible[r]);return cx(r,n)?a?xT:PT(i.point):a?i.point:xT})({displaced:n.displaced,afterCritical:t,combineWith:a,displacedBy:n.displacedBy});return IT(o,s)};const hx=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,fx=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,px=e=>{let{axis:t,moveRelativeTo:n,isMoving:r}=e;return NT(t.line,n.marginBox[t.end]+hx(t,r),fx(t,n.marginBox,r))},gx=e=>{let{axis:t,moveRelativeTo:n,isMoving:r}=e;return NT(t.line,n.marginBox[t.start]-((e,t)=>t.margin[e.end]+t.borderBox[e.size]/2)(t,r),fx(t,n.marginBox,r))};var mx=e=>{let{impact:t,draggable:n,draggables:r,droppable:i,afterCritical:a}=e;const o=WT(i.descriptor.id,r),s=n.page,l=i.axis;if(!o.length)return(e=>{let{axis:t,moveInto:n,isMoving:r}=e;return NT(t.line,n.contentBox[t.start]+hx(t,r),fx(t,n.contentBox,r))})({axis:l,moveInto:i.page,isMoving:s});const{displaced:c,displacedBy:u}=t,d=c.all[0];if(d){const e=r[d];if(cx(d,a))return gx({axis:l,moveRelativeTo:e.page,isMoving:s});const t=aT(e.page,u.point);return gx({axis:l,moveRelativeTo:t,isMoving:s})}const h=o[o.length-1];if(h.descriptor.id===n.descriptor.id)return s.borderBox.center;if(cx(h.descriptor.id,a)){const e=aT(h.page,PT(a.displacedBy.point));return px({axis:l,moveRelativeTo:e,isMoving:s})}return px({axis:l,moveRelativeTo:h.page,isMoving:s})},yx=(e,t)=>{const n=e.frame;return n?IT(t,n.scroll.diff.displacement):t};var vx=e=>{const t=(e=>{let{impact:t,draggable:n,droppable:r,draggables:i,afterCritical:a}=e;const o=n.page.borderBox.center,s=t.at;return r&&s?"REORDER"===s.type?mx({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:a}):dx({impact:t,draggables:i,afterCritical:a}):o})(e),n=e.droppable;return n?yx(n,t):t},bx=(e,t)=>{const n=AT(t,e.scroll.initial),r=PT(n);return{frame:ZS({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function wx(e,t){return e.map((e=>t[e]))}var _x=e=>{let{pageBorderBoxCenter:t,draggable:n,viewport:r}=e;const i=((e,t)=>IT(e.scroll.diff.displacement,t))(r,t),a=AT(i,n.page.borderBox.center);return IT(n.client.borderBox.center,a)},Ex=e=>{let{draggable:t,destination:n,newPageBorderBoxCenter:r,viewport:i,withDroppableDisplacement:a,onlyOnMainAxis:o=!1}=e;const s=AT(r,t.page.borderBox.center),l={target:LT(t.page.borderBox,s),destination:n,withDroppableDisplacement:a,viewport:i};return o?(e=>{return ix({...e,isVisibleThroughFrameFn:(t=e.destination.axis,e=>{const n=ZT(e.top,e.bottom),r=ZT(e.left,e.right);return e=>t===nx?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)})});var t})(l):ax(l)},Cx=e=>{let{isMovingForward:t,draggable:n,destination:r,draggables:i,previousImpact:a,viewport:o,previousPageBorderBoxCenter:s,previousClientSelection:l,afterCritical:c}=e;if(!r.isEnabled)return null;const u=WT(r.descriptor.id,i),d=QT(n,r),h=(e=>{let{isMovingForward:t,draggable:n,destination:r,insideDestination:i,previousImpact:a}=e;if(!r.isCombineEnabled)return null;if(!qT(a))return null;function o(e){const t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return{...a,at:t}}const s=a.displaced.all,l=s.length?s[0]:null;if(t)return l?o(l):null;const c=KT(n,i);if(!l)return c.length?o(c[c.length-1].descriptor.id):null;const u=c.findIndex((e=>e.descriptor.id===l));-1===u&&mT();const d=u-1;return d<0?null:o(c[d].descriptor.id)})({isMovingForward:t,draggable:n,destination:r,insideDestination:u,previousImpact:a})||ux({isMovingForward:t,isInHomeList:d,draggable:n,draggables:i,destination:r,insideDestination:u,previousImpact:a,viewport:o,afterCritical:c});if(!h)return null;const f=vx({impact:h,draggable:n,droppable:r,draggables:i,afterCritical:c});if(Ex({draggable:n,destination:r,newPageBorderBoxCenter:f,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})){return{clientSelection:_x({pageBorderBoxCenter:f,draggable:n,viewport:o}),impact:h,scrollJumpRequest:null}}const p=AT(f,s),g=(e=>{let{impact:t,viewport:n,destination:r,draggables:i,maxScrollChange:a}=e;const o=bx(n,IT(n.scroll.current,a)),s=r.frame?UT(r,IT(r.frame.scroll.current,a)):r,l=t.displaced,c=ox({afterDragging:wx(l.all,i),destination:r,displacedBy:t.displacedBy,viewport:o.frame,last:l,forceShouldAnimate:!1}),u=ox({afterDragging:wx(l.all,i),destination:s,displacedBy:t.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),d={},h={},f=[l,c,u];return l.all.forEach((e=>{const t=function(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}(e,f);t?h[e]=t:d[e]=!0})),{...t,displaced:{all:l.all,invisible:d,visible:h}}})({impact:h,viewport:o,destination:r,draggables:i,maxScrollChange:p});return{clientSelection:l,impact:g,scrollJumpRequest:p}};const Sx=e=>{const t=e.subject.active;return t||mT(),t};const Tx=(e,t)=>{const n=e.page.borderBox.center;return cx(e.descriptor.id,t)?AT(n,t.displacedBy.point):n},xx=(e,t)=>{const n=e.page.borderBox;return cx(e.descriptor.id,t)?LT(n,PT(t.displacedBy.point)):n};var Ix=BT((function(e,t){const n=t[e.line];return{value:n,point:NT(e.line,n)}}));const Ax=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),kx=(e,t,n)=>{const r=e.frame;QT(t,e)&&mT(),e.subject.withPlaceholder&&mT();const i=Ix(e.axis,t.displaceBy).point,a=((e,t,n)=>{const r=e.axis;if("virtual"===e.descriptor.mode)return NT(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],a=WT(e.descriptor.id,n).reduce(((e,t)=>e+t.client.marginBox[r.size]),0),o=a+t[r.line]-i;return o<=0?null:NT(r.line,o)})(e,i,n),o={placeholderSize:i,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const t=FT({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return{...e,subject:t}}const s=a?IT(r.scroll.max,a):r.scroll.max,l=Ax(r,s),c=FT({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:l});return{...e,subject:c,frame:l}};var Px=e=>{let{isMovingForward:t,previousPageBorderBoxCenter:n,draggable:r,isOver:i,draggables:a,droppables:o,viewport:s,afterCritical:l}=e;const c=(e=>{let{isMovingForward:t,pageBorderBoxCenter:n,source:r,droppables:i,viewport:a}=e;const o=r.subject.active;if(!o)return null;const s=r.axis,l=ZT(o[s.start],o[s.end]),c=$T(i).filter((e=>e!==r)).filter((e=>e.isEnabled)).filter((e=>Boolean(e.subject.active))).filter((e=>ex(a.frame)(Sx(e)))).filter((e=>{const n=Sx(e);return t?o[s.crossAxisEnd]<n[s.crossAxisEnd]:n[s.crossAxisStart]<o[s.crossAxisStart]})).filter((e=>{const t=Sx(e),n=ZT(t[s.start],t[s.end]);return l(t[s.start])||l(t[s.end])||n(o[s.start])||n(o[s.end])})).sort(((e,n)=>{const r=Sx(e)[s.crossAxisStart],i=Sx(n)[s.crossAxisStart];return t?r-i:i-r})).filter(((e,t,n)=>Sx(e)[s.crossAxisStart]===Sx(n[0])[s.crossAxisStart]));if(!c.length)return null;if(1===c.length)return c[0];const u=c.filter((e=>ZT(Sx(e)[s.start],Sx(e)[s.end])(n[s.line])));return 1===u.length?u[0]:u.length>1?u.sort(((e,t)=>Sx(e)[s.start]-Sx(t)[s.start]))[0]:c.sort(((e,t)=>{const r=RT(n,MT(Sx(e))),i=RT(n,MT(Sx(t)));return r!==i?r-i:Sx(e)[s.start]-Sx(t)[s.start]}))[0]})({isMovingForward:t,pageBorderBoxCenter:n,source:i,droppables:o,viewport:s});if(!c)return null;const u=WT(c.descriptor.id,a),d=(e=>{let{pageBorderBoxCenter:t,viewport:n,destination:r,insideDestination:i,afterCritical:a}=e;const o=i.filter((e=>ax({target:xx(e,a),destination:r,viewport:n.frame,withDroppableDisplacement:!0}))).sort(((e,n)=>{const i=DT(t,yx(r,Tx(e,a))),o=DT(t,yx(r,Tx(n,a)));return i<o?-1:o<i?1:e.descriptor.index-n.descriptor.index}));return o[0]||null})({pageBorderBoxCenter:n,viewport:s,destination:c,insideDestination:u,afterCritical:l}),h=(e=>{let{previousPageBorderBoxCenter:t,moveRelativeTo:n,insideDestination:r,draggable:i,draggables:a,destination:o,viewport:s,afterCritical:l}=e;if(!n){if(r.length)return null;const e={displaced:JT,displacedBy:YT,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},t=vx({impact:e,draggable:i,droppable:o,draggables:a,afterCritical:l}),n=QT(i,o)?o:kx(o,i,a);return Ex({draggable:i,destination:n,newPageBorderBoxCenter:t,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?e:null}const c=Boolean(t[o.axis.line]<=n.page.borderBox.center[o.axis.line]),u=(()=>{const e=n.descriptor.index;return n.descriptor.id===i.descriptor.id||c?e:e+1})(),d=Ix(o.axis,i.displaceBy);return lx({draggable:i,insideDestination:r,destination:o,viewport:s,displacedBy:d,last:JT,index:u})})({previousPageBorderBoxCenter:n,destination:c,draggable:r,draggables:a,moveRelativeTo:d,insideDestination:u,viewport:s,afterCritical:l});if(!h)return null;const f=vx({impact:h,draggable:r,droppable:c,draggables:a,afterCritical:l});return{clientSelection:_x({pageBorderBoxCenter:f,draggable:r,viewport:s}),impact:h,scrollJumpRequest:null}},Nx=e=>{const t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null};var Dx=e=>{let{state:t,type:n}=e;const r=((e,t)=>{const n=Nx(e);return n?t[n]:null})(t.impact,t.dimensions.droppables),i=Boolean(r),a=t.dimensions.droppables[t.critical.droppable.id],o=r||a,s=o.axis.direction,l="vertical"===s&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===s&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(l&&!i)return null;const c="MOVE_DOWN"===n||"MOVE_RIGHT"===n,u=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,{draggables:h,droppables:f}=t.dimensions;return l?Cx({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,destination:o,draggables:h,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):Px({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,isOver:o,draggables:h,droppables:f,viewport:t.viewport,afterCritical:t.afterCritical})};function Rx(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function Ox(e){const t=ZT(e.top,e.bottom),n=ZT(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}function Lx(e){let{pageBorderBox:t,draggable:n,droppables:r}=e;const i=$T(r).filter((e=>{if(!e.isEnabled)return!1;const n=e.subject.active;if(!n)return!1;if(i=n,!((r=t).left<i.right&&r.right>i.left&&r.top<i.bottom&&r.bottom>i.top))return!1;var r,i;if(Ox(n)(t.center))return!0;const a=e.axis,o=n.center[a.crossAxisLine],s=t[a.crossAxisStart],l=t[a.crossAxisEnd],c=ZT(n[a.crossAxisStart],n[a.crossAxisEnd]),u=c(s),d=c(l);return!u&&!d||(u?s<o:l>o)}));return i.length?1===i.length?i[0].descriptor.id:function(e){let{pageBorderBox:t,draggable:n,candidates:r}=e;const i=n.page.borderBox.center,a=r.map((e=>{const n=e.axis,r=NT(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:DT(i,r)}})).sort(((e,t)=>t.distance-e.distance));return a[0]?a[0].id:null}({pageBorderBox:t,draggable:n,candidates:i}):null}const Mx=(e,t)=>ZS(LT(e,t));function jx(e){let{displaced:t,id:n}=e;return Boolean(t.visible[n]||t.invisible[n])}var Fx=e=>{let{pageOffset:t,draggable:n,draggables:r,droppables:i,previousImpact:a,viewport:o,afterCritical:s}=e;const l=Mx(n.page.borderBox,t),c=Lx({pageBorderBox:l,draggable:n,droppables:i});if(!c)return XT;const u=i[c],d=WT(u.descriptor.id,r),h=((e,t)=>{const n=e.frame;return n?Mx(t,n.scroll.diff.value):t})(u,l);return(e=>{let{draggable:t,pageBorderBoxWithDroppableScroll:n,previousImpact:r,destination:i,insideDestination:a,afterCritical:o}=e;if(!i.isCombineEnabled)return null;const s=i.axis,l=Ix(i.axis,t.displaceBy),c=l.value,u=n[s.start],d=n[s.end],h=KT(t,a).find((e=>{const t=e.descriptor.id,n=e.page.borderBox,i=n[s.size]/4,a=cx(t,o),l=jx({displaced:r.displaced,id:t});return a?l?d>n[s.start]+i&&d<n[s.end]-i:u>n[s.start]-c+i&&u<n[s.end]-c-i:l?d>n[s.start]+c+i&&d<n[s.end]+c-i:u>n[s.start]+i&&u<n[s.end]-i}));return h?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:i.descriptor.id}}}:null})({pageBorderBoxWithDroppableScroll:h,draggable:n,previousImpact:a,destination:u,insideDestination:d,afterCritical:s})||(e=>{let{pageBorderBoxWithDroppableScroll:t,draggable:n,destination:r,insideDestination:i,last:a,viewport:o,afterCritical:s}=e;const l=r.axis,c=Ix(r.axis,n.displaceBy),u=c.value,d=t[l.start],h=t[l.end],f=function(e){let{draggable:t,closest:n,inHomeList:r}=e;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:KT(n,i).find((e=>{const t=e.descriptor.id,n=e.page.borderBox.center[l.line],r=cx(t,s),i=jx({displaced:a,id:t});return r?i?h<=n:d<n-u:i?h<=n+u:d<n}))||null,inHomeList:QT(n,r)});return lx({draggable:n,insideDestination:i,destination:r,viewport:o,last:a,displacedBy:c,index:f})})({pageBorderBoxWithDroppableScroll:h,draggable:n,destination:u,insideDestination:d,last:a.displaced,viewport:o,afterCritical:s})},Ux=(e,t)=>({...e,[t.descriptor.id]:t});const Bx=e=>{let{previousImpact:t,impact:n,droppables:r}=e;const i=Nx(t),a=Nx(n);if(!i)return r;if(i===a)return r;const o=r[i];if(!o.subject.withPlaceholder)return r;const s=(e=>{const t=e.subject.withPlaceholder;t||mT();const n=e.frame;if(!n){const t=FT({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:t}}const r=t.oldFrameMaxScroll;r||mT();const i=Ax(n,r),a=FT({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:a,frame:i}})(o);return Ux(r,s)};var Vx=e=>{let{state:t,clientSelection:n,dimensions:r,viewport:i,impact:a,scrollJumpRequest:o}=e;const s=i||t.viewport,l=r||t.dimensions,c=n||t.current.client.selection,u=AT(c,t.initial.client.selection),d={offset:u,selection:c,borderBoxCenter:IT(t.initial.client.borderBoxCenter,u)},h={selection:IT(d.selection,s.scroll.current),borderBoxCenter:IT(d.borderBoxCenter,s.scroll.current),offset:IT(d.offset,s.scroll.diff.value)},f={client:d,page:h};if("COLLECTING"===t.phase)return{...t,dimensions:l,viewport:s,current:f};const p=l.draggables[t.critical.draggable.id],g=a||Fx({pageOffset:h.offset,draggable:p,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),m=(e=>{let{draggable:t,draggables:n,droppables:r,previousImpact:i,impact:a}=e;const o=Bx({previousImpact:i,impact:a,droppables:r}),s=Nx(a);if(!s)return o;const l=r[s];if(QT(t,l))return o;if(l.subject.withPlaceholder)return o;const c=kx(l,t,n);return Ux(o,c)})({draggable:p,impact:g,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables});return{...t,current:f,dimensions:{draggables:l.draggables,droppables:m},impact:g,viewport:s,scrollJumpRequest:o||null,forceShouldAnimate:!o&&null}};var Hx=e=>{let{impact:t,viewport:n,draggables:r,destination:i,forceShouldAnimate:a}=e;const o=t.displaced,s=function(e,t){return e.map((e=>t[e]))}(o.all,r),l=ox({afterDragging:s,destination:i,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:a,last:o});return{...t,displaced:l}},$x=e=>{let{impact:t,draggable:n,droppable:r,draggables:i,viewport:a,afterCritical:o}=e;const s=vx({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:o});return _x({pageBorderBoxCenter:s,draggable:n,viewport:a})},zx=e=>{let{state:t,dimensions:n,viewport:r}=e;"SNAP"!==t.movementMode&&mT();const i=t.impact,a=r||t.viewport,o=n||t.dimensions,{draggables:s,droppables:l}=o,c=s[t.critical.draggable.id],u=Nx(i);u||mT();const d=l[u],h=Hx({impact:i,viewport:a,destination:d,draggables:s}),f=$x({impact:h,draggable:c,droppable:d,draggables:s,viewport:a,afterCritical:t.afterCritical});return Vx({impact:h,clientSelection:f,state:t,dimensions:o,viewport:a})},Wx=e=>{let{draggable:t,home:n,draggables:r,viewport:i}=e;const a=Ix(n.axis,t.displaceBy),o=WT(n.descriptor.id,r),s=o.indexOf(t);-1===s&&mT();const l=o.slice(s+1),c=l.reduce(((e,t)=>(e[t.descriptor.id]=!0,e)),{}),u={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:a,effected:c};var d;return{impact:{displaced:ox({afterDragging:l,destination:n,displacedBy:a,last:null,viewport:i.frame,forceShouldAnimate:!1}),displacedBy:a,at:{type:"REORDER",destination:(d=t.descriptor,{index:d.index,droppableId:d.droppableId})}},afterCritical:u}};const qx=e=>{0},Gx=e=>{0};var Kx=e=>{let{additions:t,updatedDroppables:n,viewport:r}=e;const i=r.scroll.diff.value;return t.map((e=>{const t=e.descriptor.droppableId,a=(e=>{const t=e.frame;return t||mT(),t})(n[t]),o=a.scroll.diff.value,s=(e=>{let{draggable:t,offset:n,initialWindowScroll:r}=e;const i=aT(t.client,n),a=oT(i,r);return{...t,placeholder:{...t.placeholder,client:i},client:i,page:a}})({draggable:e,offset:IT(i,o),initialWindowScroll:r.scroll.initial});return s}))};const Qx=e=>"SNAP"===e.movementMode,Yx=(e,t,n)=>{const r=((e,t)=>({draggables:e.draggables,droppables:Ux(e.droppables,t)}))(e.dimensions,t);return!Qx(e)||n?Vx({state:e,dimensions:r}):zx({state:e,dimensions:r})};function Jx(e){return e.isDragging&&"SNAP"===e.movementMode?{...e,scrollJumpRequest:null}:e}const Xx={phase:"IDLE",completed:null,shouldFlush:!1};var Zx=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xx,t=arguments.length>1?arguments[1]:void 0;if("FLUSH"===t.type)return{...Xx,shouldFlush:!0};if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&mT();const{critical:n,clientSelection:r,viewport:i,dimensions:a,movementMode:o}=t.payload,s=a.draggables[n.draggable.id],l=a.droppables[n.droppable.id],c={selection:r,borderBoxCenter:s.client.borderBox.center,offset:xT},u={client:c,page:{selection:IT(c.selection,i.scroll.initial),borderBoxCenter:IT(c.selection,i.scroll.initial),offset:IT(c.selection,i.scroll.diff.value)}},d=$T(a.droppables).every((e=>!e.isFixedOnPage)),{impact:h,afterCritical:f}=Wx({draggable:s,home:l,draggables:a.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:a,initial:u,current:u,isWindowScrollAllowed:d,impact:h,afterCritical:f,onLiftImpact:h,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&mT();return{...e,phase:"COLLECTING"}}if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&mT(),(e=>{let{state:t,published:n}=e;qx();const r=n.modified.map((e=>{const n=t.dimensions.droppables[e.droppableId];return UT(n,e.scroll)})),i={...t.dimensions.droppables,...VT(r)},a=HT(Kx({additions:n.additions,updatedDroppables:i,viewport:t.viewport})),o={...t.dimensions.draggables,...a};n.removals.forEach((e=>{delete o[e]}));const s={droppables:i,draggables:o},l=Nx(t.impact),c=l?s.droppables[l]:null,u=s.draggables[t.critical.draggable.id],d=s.droppables[t.critical.droppable.id],{impact:h,afterCritical:f}=Wx({draggable:u,home:d,draggables:o,viewport:t.viewport}),p=c&&c.isCombineEnabled?t.impact:h,g=Fx({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:p,viewport:t.viewport,afterCritical:f});Gx();const m={...t,phase:"DRAGGING",impact:g,onLiftImpact:h,dimensions:s,afterCritical:f,forceShouldAnimate:!1};return"COLLECTING"===t.phase?m:{...m,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}})({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;Rx(e)||mT();const{client:n}=t.payload;return kT(n,e.current.client.selection)?e:Vx({state:e,clientSelection:n,impact:Qx(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return Jx(e);if("COLLECTING"===e.phase)return Jx(e);Rx(e)||mT();const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const a=UT(i,r);return Yx(e,a,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Rx(e)||mT();const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||mT(),i.isEnabled===r&&mT();const a={...i,isEnabled:r};return Yx(e,a,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Rx(e)||mT();const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||mT(),i.isCombineEnabled===r&&mT();const a={...i,isCombineEnabled:r};return Yx(e,a,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;Rx(e)||mT(),e.isWindowScrollAllowed||mT();const n=t.payload.newScroll;if(kT(e.viewport.scroll.current,n))return Jx(e);const r=bx(e.viewport,n);return Qx(e)?zx({state:e,viewport:r}):Vx({state:e,viewport:r})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!Rx(e))return e;const n=t.payload.maxScroll;if(kT(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&mT();const n=Dx({state:e,type:t.type});return n?Vx({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){const n=t.payload.reason;"COLLECTING"!==e.phase&&mT();return{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if("DROP_ANIMATE"===t.type){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&mT();return{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if("DROP_COMPLETE"===t.type){const{completed:e}=t.payload;return{phase:"IDLE",completed:e,shouldFlush:!1}}return e};function eI(e,t){return e instanceof Object&&"type"in e&&e.type===t}const tI=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),nI=()=>({type:"COLLECTION_STARTING",payload:null}),rI=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),iI=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),aI=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),oI=e=>({type:"MOVE",payload:e}),sI=()=>({type:"MOVE_UP",payload:null}),lI=()=>({type:"MOVE_DOWN",payload:null}),cI=()=>({type:"MOVE_RIGHT",payload:null}),uI=()=>({type:"MOVE_LEFT",payload:null}),dI=e=>({type:"DROP_COMPLETE",payload:e}),hI=e=>({type:"DROP",payload:e}),fI=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});const pI="cubic-bezier(.2,1,.1,1)",gI={drop:0,combining:.7},mI={drop:.75},yI={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},vI=`${yI.outOfTheWay}s ${"cubic-bezier(0.2, 0, 0, 1)"}`,bI={fluid:`opacity ${vI}`,snap:`transform ${vI}, opacity ${vI}`,drop:e=>{const t=`${e}s ${pI}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${vI}`,placeholder:`height ${vI}, width ${vI}, margin ${vI}`},wI=e=>kT(e,xT)?void 0:`translate(${e.x}px, ${e.y}px)`,_I=wI,EI=(e,t)=>{const n=wI(e);if(n)return t?`${n} scale(${mI.drop})`:n},{minDropTime:CI,maxDropTime:SI}=yI,TI=SI-CI;const xI=e=>{let{getState:t,dispatch:n}=e;return e=>r=>{if(!eI(r,"DROP"))return void e(r);const i=t(),a=r.payload.reason;if("COLLECTING"===i.phase)return void n((e=>({type:"DROP_PENDING",payload:e}))({reason:a}));if("IDLE"===i.phase)return;"DROP_PENDING"===i.phase&&i.isWaiting&&mT(),"DRAGGING"!==i.phase&&"DROP_PENDING"!==i.phase&&mT();const o=i.critical,s=i.dimensions,l=s.draggables[i.critical.draggable.id],{impact:c,didDropInsideDroppable:u}=(e=>{let{draggables:t,reason:n,lastImpact:r,home:i,viewport:a,onLiftImpact:o}=e;if(!r.at||"DROP"!==n)return{impact:Hx({draggables:t,impact:o,destination:i,viewport:a,forceShouldAnimate:!0}),didDropInsideDroppable:!1};return"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:{...r,displaced:JT},didDropInsideDroppable:!0}})({reason:a,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),d=u?qT(c):null,h=u?GT(c):null,f={index:o.draggable.index,droppableId:o.droppable.id},p={draggableId:l.descriptor.id,type:l.descriptor.type,source:f,reason:a,mode:i.movementMode,destination:d,combine:h},g=(e=>{let{impact:t,draggable:n,dimensions:r,viewport:i,afterCritical:a}=e;const{draggables:o,droppables:s}=r,l=Nx(t),c=l?s[l]:null,u=s[n.descriptor.droppableId],d=$x({impact:t,draggable:n,draggables:o,afterCritical:a,droppable:c||u,viewport:i});return AT(d,n.client.borderBox.center)})({impact:c,draggable:l,dimensions:s,viewport:i.viewport,afterCritical:i.afterCritical}),m={critical:i.critical,afterCritical:i.afterCritical,result:p,impact:c};if(!(!kT(i.current.client.offset,g)||Boolean(p.combine)))return void n(dI({completed:m}));const y=(e=>{let{current:t,destination:n,reason:r}=e;const i=DT(t,n);if(i<=0)return CI;if(i>=1500)return SI;const a=CI+TI*(i/1500);return Number(("CANCEL"===r?.6*a:a).toFixed(2))})({current:i.current.client.offset,destination:g,reason:a});n((e=>({type:"DROP_ANIMATE",payload:e}))({newHomeClientOffset:g,dropDuration:y,completed:m}))}};var II=()=>({x:window.pageXOffset,y:window.pageYOffset});function AI(e){let{onWindowScroll:t}=e;const n=cT((function(){t(II())})),r=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}(n);let i=hT;function a(){return i!==hT}return{start:function(){a()&&mT(),i=fT(window,[r])},stop:function(){a()||mT(),n.cancel(),i(),i=hT},isActive:a}}const kI=e=>{const t=AI({onWindowScroll:t=>{e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return e=>n=>{!t.isActive()&&eI(n,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&(e=>eI(e,"DROP_COMPLETE")||eI(e,"DROP_ANIMATE")||eI(e,"FLUSH"))(n)&&t.stop(),e(n)}};var PI=()=>{const e=[];return{add:t=>{const n=setTimeout((()=>(t=>{const n=e.findIndex((e=>e.timerId===t));-1===n&&mT();const[r]=e.splice(n,1);r.callback()})(n))),r={timerId:n,callback:t};e.push(r)},flush:()=>{if(!e.length)return;const t=[...e];e.length=0,t.forEach((e=>{clearTimeout(e.timerId),e.callback()}))}}};const NI=(e,t)=>{qx(),t(),Gx()},DI=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function RI(e,t,n,r){if(!e)return void n(r(t));const i=(e=>{let t=!1,n=!1;const r=setTimeout((()=>{n=!0})),i=i=>{t||n||(t=!0,e(i),clearTimeout(r))};return i.wasCalled=()=>t,i})(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var OI=(e,t)=>{const n=((e,t)=>{const n=PI();let r=null;const i=n=>{r||mT(),r=null,NI(0,(()=>RI(e().onDragEnd,n,t,ET.onDragEnd)))};return{beforeCapture:(t,n)=>{r&&mT(),NI(0,(()=>{const r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})}))},beforeStart:(t,n)=>{r&&mT(),NI(0,(()=>{const r=e().onBeforeDragStart;r&&r(DI(t,n))}))},start:(i,a)=>{r&&mT();const o=DI(i,a);r={mode:a,lastCritical:i,lastLocation:o.source,lastCombine:null},n.add((()=>{NI(0,(()=>RI(e().onDragStart,o,t,ET.onDragStart)))}))},update:(i,a)=>{const o=qT(a),s=GT(a);r||mT();const l=!((e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r})(i,r.lastCritical);l&&(r.lastCritical=i);const c=(d=o,!(null==(u=r.lastLocation)&&null==d||null!=u&&null!=d&&u.droppableId===d.droppableId&&u.index===d.index));var u,d;c&&(r.lastLocation=o);const h=!((e,t)=>null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId)(r.lastCombine,s);if(h&&(r.lastCombine=s),!l&&!c&&!h)return;const f={...DI(i,r.mode),combine:s,destination:o};n.add((()=>{NI(0,(()=>RI(e().onDragUpdate,f,t,ET.onDragUpdate)))}))},flush:()=>{r||mT(),n.flush()},drop:i,abort:()=>{if(!r)return;const e={...DI(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};i(e)}}})(e,t);return e=>t=>r=>{if(eI(r,"BEFORE_INITIAL_CAPTURE"))return void n.beforeCapture(r.payload.draggableId,r.payload.movementMode);if(eI(r,"INITIAL_PUBLISH")){const e=r.payload.critical;return n.beforeStart(e,r.payload.movementMode),t(r),void n.start(e,r.payload.movementMode)}if(eI(r,"DROP_COMPLETE")){const e=r.payload.completed.result;return n.flush(),t(r),void n.drop(e)}if(t(r),eI(r,"FLUSH"))return void n.abort();const i=e.getState();"DRAGGING"===i.phase&&n.update(i.critical,i.impact)}};const LI=e=>t=>n=>{if(!eI(n,"DROP_ANIMATION_FINISHED"))return void t(n);const r=e.getState();"DROP_ANIMATING"!==r.phase&&mT(),e.dispatch(dI({completed:r.completed}))},MI=e=>{let t=null,n=null;return r=>i=>{if((eI(i,"FLUSH")||eI(i,"DROP_COMPLETE")||eI(i,"DROP_ANIMATION_FINISHED"))&&(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(i),!eI(i,"DROP_ANIMATE"))return;const a={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((()=>{n=null,t=fT(window,[a])}))}};var jI=e=>t=>n=>r=>{if((e=>eI(e,"DROP_COMPLETE")||eI(e,"DROP_ANIMATE")||eI(e,"FLUSH"))(r))return e.stop(),void n(r);if(eI(r,"INITIAL_PUBLISH")){n(r);const i=t.getState();return"DRAGGING"!==i.phase&&mT(),void e.start(i)}n(r),e.scroll(t.getState())};const FI=e=>t=>n=>{if(t(n),!eI(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(hI({reason:r.reason})))},UI=eS;var BI=e=>{let{dimensionMarshal:t,focusMarshal:n,styleMarshal:r,getResponders:i,announce:a,autoScroller:o}=e;return JC(Zx,UI(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(qC(15))};const o={getState:i.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return a(e,...n)}},s=t.map((e=>e(o)));return a=eS(...s)(i.dispatch),{...i,dispatch:a}}}((s=r,()=>e=>t=>{eI(t,"INITIAL_PUBLISH")&&s.dragging(),eI(t,"DROP_ANIMATE")&&s.dropping(t.payload.completed.result.reason),(eI(t,"FLUSH")||eI(t,"DROP_COMPLETE"))&&s.resting(),e(t)}),(e=>()=>t=>n=>{(eI(n,"DROP_COMPLETE")||eI(n,"FLUSH")||eI(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)})(t),(e=>t=>{let{getState:n,dispatch:r}=t;return t=>i=>{if(!eI(i,"LIFT"))return void t(i);const{id:a,clientSelection:o,movementMode:s}=i.payload,l=n();"DROP_ANIMATING"===l.phase&&r(dI({completed:l.completed})),"IDLE"!==n().phase&&mT(),r({type:"FLUSH",payload:null}),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:a,movementMode:s}});const c={draggableId:a,scrollOptions:{shouldPublishImmediately:"SNAP"===s}},{critical:u,dimensions:d,viewport:h}=e.startPublishing(c);r({type:"INITIAL_PUBLISH",payload:{critical:u,dimensions:d,clientSelection:o,movementMode:s,viewport:h}})}})(t),xI,LI,MI,FI,jI(o),kI,(e=>{let t=!1;return()=>n=>r=>{if(eI(r,"INITIAL_PUBLISH"))return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if(eI(r,"FLUSH"))return t=!1,void e.tryRestoreFocusRecorded();if(eI(r,"DROP_COMPLETE")){t=!1;const n=r.payload.completed.result;n.combine&&e.tryShiftRecord(n.draggableId,n.combine.draggableId),e.tryRestoreFocusRecorded()}}}})(n),OI(i,a))));var s};var VI=e=>{let{scrollHeight:t,scrollWidth:n,height:r,width:i}=e;const a=AT({x:n,y:t},{x:i,y:r});return{x:Math.max(0,a.x),y:Math.max(0,a.y)}},HI=()=>{const e=document.documentElement;return e||mT(),e},$I=()=>{const e=HI();return VI({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},zI=e=>{let{critical:t,scrollOptions:n,registry:r}=e;qx();const i=(()=>{const e=II(),t=$I(),n=e.y,r=e.x,i=HI(),a=i.clientWidth,o=i.clientHeight;return{frame:ZS({top:n,left:r,right:r+a,bottom:n+o}),scroll:{initial:e,current:e,max:t,diff:{value:xT,displacement:xT}}}})(),a=i.scroll.current,o=t.droppable,s=r.droppable.getAllByType(o.type).map((e=>e.callbacks.getDimensionAndWatchScroll(a,n))),l=r.draggable.getAllByType(t.draggable.type).map((e=>e.getDimension(a))),c={draggables:HT(l),droppables:VT(s)};Gx();return{dimensions:c,critical:t,viewport:i}};function WI(e,t,n){if(n.descriptor.id===t.id)return!1;if(n.descriptor.type!==t.type)return!1;return"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode}var qI=(e,t)=>{let n=null;const r=function(e){let{registry:t,callbacks:n}=e,r={additions:{},removals:{},modified:{}},i=null;const a=()=>{i||(n.collectionStarting(),i=requestAnimationFrame((()=>{i=null,qx();const{additions:e,removals:a,modified:o}=r,s=Object.keys(e).map((e=>t.draggable.getById(e).getDimension(xT))).sort(((e,t)=>e.descriptor.index-t.descriptor.index)),l=Object.keys(o).map((e=>({droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}))),c={additions:s,removals:Object.keys(a),modified:l};r={additions:{},removals:{},modified:{}},Gx(),n.publish(c)})))};return{add:e=>{const t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],a()},remove:e=>{const t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],a()},stop:()=>{i&&(cancelAnimationFrame(i),i=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=t=>{n||mT();const i=n.critical.draggable;"ADDITION"===t.type&&WI(e,i,t.value)&&r.add(t.value),"REMOVAL"===t.type&&WI(e,i,t.value)&&r.remove(t.value)},a={updateDroppableIsEnabled:(r,i)=>{e.droppable.exists(r)||mT(),n&&t.updateDroppableIsEnabled({id:r,isEnabled:i})},updateDroppableIsCombineEnabled:(r,i)=>{n&&(e.droppable.exists(r)||mT(),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:i}))},scrollDroppable:(t,r)=>{n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:(r,i)=>{n&&(e.droppable.exists(r)||mT(),t.updateDroppableScroll({id:r,newScroll:i}))},startPublishing:t=>{n&&mT();const r=e.draggable.getById(t.draggableId),a=e.droppable.getById(r.descriptor.droppableId),o={draggable:r.descriptor,droppable:a.descriptor},s=e.subscribe(i);return n={critical:o,unsubscribe:s},zI({critical:o,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:()=>{if(!n)return;r.stop();const t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((e=>e.callbacks.dragStopped())),n.unsubscribe(),n=null}};return a},GI=(e,t)=>"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason),KI=e=>{window.scrollBy(e.x,e.y)};const QI=BT((e=>$T(e).filter((e=>!!e.isEnabled&&!!e.frame))));var YI=e=>{let{center:t,destination:n,droppables:r}=e;if(n){const e=r[n];return e.frame?e:null}const i=((e,t)=>{const n=QI(t).find((t=>(t.frame||mT(),Ox(t.frame.pageMarginBox)(e))))||null;return n})(t,r);return i};const JI={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var XI=e=>{let{startOfRange:t,endOfRange:n,current:r}=e;const i=n-t;if(0===i)return 0;return(r-t)/i},ZI=e=>{let{distanceToEdge:t,thresholds:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a}=e;const o=function(e,t){const n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>JI)();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return n.maxPixelScroll;if(e===t.startScrollingFrom)return 1;const r=1-XI({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),i=n.maxPixelScroll*n.ease(r);return Math.ceil(i)}(t,n,a);return 0===o?0:i?Math.max(((e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,a=r.durationDampening.stopDampeningAt,o=t,s=a,l=Date.now()-o;if(l>=a)return e;if(l<i)return 1;const c=XI({startOfRange:i,endOfRange:s,current:l}),u=e*r.ease(c);return Math.ceil(u)})(o,r,a),1):o},eA=e=>{let{container:t,distanceToEdges:n,dragStartTime:r,axis:i,shouldUseTimeDampening:a,getAutoScrollerOptions:o}=e;const s=function(e,t){const n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>JI)();return{startScrollingFrom:e[t.size]*n.startFromPercentage,maxScrollValueAt:e[t.size]*n.maxScrollAtPercentage}}(t,i,o);return n[i.end]<n[i.start]?ZI({distanceToEdge:n[i.end],thresholds:s,dragStartTime:r,shouldUseTimeDampening:a,getAutoScrollerOptions:o}):-1*ZI({distanceToEdge:n[i.start],thresholds:s,dragStartTime:r,shouldUseTimeDampening:a,getAutoScrollerOptions:o})};const tA=OT((e=>0===e?0:e));var nA=e=>{let{dragStartTime:t,container:n,subject:r,center:i,shouldUseTimeDampening:a,getAutoScrollerOptions:o}=e;const s={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},l=eA({container:n,distanceToEdges:s,dragStartTime:t,axis:nx,shouldUseTimeDampening:a,getAutoScrollerOptions:o}),c=eA({container:n,distanceToEdges:s,dragStartTime:t,axis:rx,shouldUseTimeDampening:a,getAutoScrollerOptions:o}),u=tA({x:c,y:l});if(kT(u,xT))return null;const d=(e=>{let{container:t,subject:n,proposedScroll:r}=e;const i=n.height>t.height,a=n.width>t.width;return a||i?a&&i?null:{x:a?0:r.x,y:i?0:r.y}:r})({container:n,subject:r,proposedScroll:u});return d?kT(d,xT)?null:d:null};const rA=OT((e=>0===e?0:e>0?1:-1)),iA=(()=>{const e=(e,t)=>e<0?e:e>t?e-t:0;return t=>{let{current:n,max:r,change:i}=t;const a=IT(n,i),o={x:e(a.x,r.x),y:e(a.y,r.y)};return kT(o,xT)?null:o}})(),aA=e=>{let{max:t,current:n,change:r}=e;const i={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},a=rA(r),o=iA({max:i,current:n,change:a});return!o||(0!==a.x&&0===o.x||0!==a.y&&0===o.y)},oA=(e,t)=>aA({current:e.scroll.current,max:e.scroll.max,change:t}),sA=(e,t)=>{const n=e.frame;return!!n&&aA({current:n.scroll.current,max:n.scroll.max,change:t})};var lA=e=>{let{state:t,dragStartTime:n,shouldUseTimeDampening:r,scrollWindow:i,scrollDroppable:a,getAutoScrollerOptions:o}=e;const s=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const e=(e=>{let{viewport:t,subject:n,center:r,dragStartTime:i,shouldUseTimeDampening:a,getAutoScrollerOptions:o}=e;const s=nA({dragStartTime:i,container:t.frame,subject:n,center:r,shouldUseTimeDampening:a,getAutoScrollerOptions:o});return s&&oA(t,s)?s:null})({dragStartTime:n,viewport:t.viewport,subject:l,center:s,shouldUseTimeDampening:r,getAutoScrollerOptions:o});if(e)return void i(e)}const c=YI({center:s,destination:Nx(t.impact),droppables:t.dimensions.droppables});if(!c)return;const u=(e=>{let{droppable:t,subject:n,center:r,dragStartTime:i,shouldUseTimeDampening:a,getAutoScrollerOptions:o}=e;const s=t.frame;if(!s)return null;const l=nA({dragStartTime:i,container:s.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:a,getAutoScrollerOptions:o});return l&&sA(t,l)?l:null})({dragStartTime:n,droppable:c,subject:l,center:s,shouldUseTimeDampening:r,getAutoScrollerOptions:o});u&&a(c.descriptor.id,u)},cA=e=>{let{move:t,scrollDroppable:n,scrollWindow:r}=e;const i=(e,t)=>{if(!sA(e,t))return t;const r=((e,t)=>{const n=e.frame;return n&&sA(e,t)?iA({current:n.scroll.current,max:n.scroll.max,change:t}):null})(e,t);if(!r)return n(e.descriptor.id,t),null;const i=AT(t,r);n(e.descriptor.id,i);return AT(t,i)},a=(e,t,n)=>{if(!e)return n;if(!oA(t,n))return n;const i=((e,t)=>{if(!oA(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return iA({current:r,max:n,change:t})})(t,n);if(!i)return r(n),null;const a=AT(n,i);r(a);return AT(n,a)};return e=>{const n=e.scrollJumpRequest;if(!n)return;const r=Nx(e.impact);r||mT();const o=i(e.dimensions.droppables[r],n);if(!o)return;const s=e.viewport,l=a(e.isWindowScrollAllowed,s,o);l&&((e,n)=>{const r=IT(e.current.client.selection,n);t({client:r})})(e,l)}},uA=e=>{let{scrollDroppable:t,scrollWindow:n,move:r,getAutoScrollerOptions:i}=e;const a=(e=>{let{scrollWindow:t,scrollDroppable:n,getAutoScrollerOptions:r=()=>JI}=e;const i=cT(t),a=cT(n);let o=null;const s=e=>{o||mT();const{shouldUseTimeDampening:t,dragStartTime:n}=o;lA({state:e,scrollWindow:i,scrollDroppable:a,dragStartTime:n,shouldUseTimeDampening:t,getAutoScrollerOptions:r})};return{start:e=>{qx(),o&&mT();const t=Date.now();let n=!1;const i=()=>{n=!0};lA({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:i,scrollDroppable:i,getAutoScrollerOptions:r}),o={dragStartTime:t,shouldUseTimeDampening:n},Gx(),n&&s(e)},stop:()=>{o&&(i.cancel(),a.cancel(),o=null)},scroll:s}})({scrollWindow:n,scrollDroppable:t,getAutoScrollerOptions:i}),o=cA({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:e=>{i().disabled||"DRAGGING"!==e.phase||("FLUID"!==e.movementMode?e.scrollJumpRequest&&o(e):a.scroll(e))},start:a.start,stop:a.stop}};const dA="data-rfd",hA=(()=>{const e=`${dA}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),fA=(()=>{const e=`${dA}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),pA=(()=>{const e=`${dA}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),gA={contextId:`${dA}-scroll-container-context-id`},mA=(e,t)=>e.map((e=>{const n=e.styles[t];return n?`${e.selector} { ${n} }`:""})).join(" ");const yA="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?t.useLayoutEffect:t.useEffect,vA=()=>{const e=document.querySelector("head");return e||mT(),e},bA=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function wA(e,n){const r=ST((()=>(e=>{const t=(n=e,e=>`[${e}="${n}"]`);var n;const r=(()=>{const e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:t(hA.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}})(),i=[(()=>{const e=`\n      transition: ${bI.outOfTheWay};\n    `;return{selector:t(fA.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}})(),r,{selector:t(pA.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:mA(i,"always"),resting:mA(i,"resting"),dragging:mA(i,"dragging"),dropAnimating:mA(i,"dropAnimating"),userCancel:mA(i,"userCancel")}})(e)),[e]),i=(0,t.useRef)(null),a=(0,t.useRef)(null),o=TT(BT((e=>{const t=a.current;t||mT(),t.textContent=e})),[]),s=TT((e=>{const t=i.current;t||mT(),t.textContent=e}),[]);yA((()=>{(i.current||a.current)&&mT();const t=bA(n),l=bA(n);return i.current=t,a.current=l,t.setAttribute(`${dA}-always`,e),l.setAttribute(`${dA}-dynamic`,e),vA().appendChild(t),vA().appendChild(l),s(r.always),o(r.resting),()=>{const e=e=>{const t=e.current;t||mT(),vA().removeChild(t),e.current=null};e(i),e(a)}}),[n,s,o,r.always,r.resting,e]);const l=TT((()=>o(r.dragging)),[o,r.dragging]),c=TT((e=>{o("DROP"!==e?r.userCancel:r.dropAnimating)}),[o,r.dropAnimating,r.userCancel]),u=TT((()=>{a.current&&o(r.resting)}),[o,r.resting]);return ST((()=>({dragging:l,dropping:c,resting:u})),[l,c,u])}function _A(e,t){return Array.from(e.querySelectorAll(t))}var EA=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function CA(e){return e instanceof EA(e).HTMLElement}function SA(e,t){const n=`[${hA.contextId}="${e}"]`,r=_A(document,n);if(!r.length)return null;const i=r.find((e=>e.getAttribute(hA.draggableId)===t));return i&&CA(i)?i:null}function TA(){const e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((t=>t(e)))}function r(t){return e.draggables[t]||null}function i(t){return e.droppables[t]||null}return{draggable:{register:t=>{e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:(t,n)=>{const r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:t=>{const i=t.descriptor.id,a=r(i);a&&t.uniqueId===a.uniqueId&&(delete e.draggables[i],e.droppables[t.descriptor.droppableId]&&n({type:"REMOVAL",value:t}))},getById:function(e){const t=r(e);return t||mT(),t},findById:r,exists:e=>Boolean(r(e)),getAllByType:t=>Object.values(e.draggables).filter((e=>e.descriptor.type===t))},droppable:{register:t=>{e.droppables[t.descriptor.id]=t},unregister:t=>{const n=i(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){const t=i(e);return t||mT(),t},findById:i,exists:e=>Boolean(i(e)),getAllByType:t=>Object.values(e.droppables).filter((e=>e.descriptor.type===t))},subscribe:function(e){return t.push(e),function(){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var xA=t.createContext(null),IA=()=>{const e=document.body;return e||mT(),e};const AA={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};const kA={separator:"::"};function PA(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kA;const r=t.useId();return ST((()=>`${e}${n.separator}${r}`),[n.separator,e,r])}var NA=t.createContext(null);function DA(e){0}function RA(e,t){DA()}function OA(){RA()}function LA(e){const n=(0,t.useRef)(e);return(0,t.useEffect)((()=>{n.current=e})),n}function MA(e){return"IDLE"!==e.phase&&"DROP_ANIMATING"!==e.phase&&e.isDragging}const jA=9,FA=13,UA=33,BA=34,VA=35,HA=36,$A={[FA]:!0,[jA]:!0};var zA=e=>{$A[e.keyCode]&&e.preventDefault()};const WA=(()=>{const e="visibilitychange";if("undefined"===typeof document)return e;return[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find((e=>`on${e}`in document))||e})();const qA={type:"IDLE"};function GA(e){let{cancel:t,completed:n,getPhase:r,setPhase:i}=e;return[{eventName:"mousemove",fn:e=>{const{button:t,clientX:n,clientY:a}=e;if(0!==t)return;const o={x:n,y:a},s=r();if("DRAGGING"===s.type)return e.preventDefault(),void s.actions.move(o);"PENDING"!==s.type&&mT();const l=s.point;if(c=l,u=o,!(Math.abs(u.x-c.x)>=5||Math.abs(u.y-c.y)>=5))return;var c,u;e.preventDefault();const d=s.actions.fluidLift(o);i({type:"DRAGGING",actions:d})}},{eventName:"mouseup",fn:e=>{const i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:e=>{"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:e=>{if("PENDING"!==r().type)return 27===e.keyCode?(e.preventDefault(),void t()):void zA(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:e=>{const n=r();"IDLE"===n.type&&mT(),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:WA,fn:t}]}function KA(){}const QA={[BA]:!0,[UA]:!0,[HA]:!0,[VA]:!0};function YA(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:r=>27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(QA[r.keyCode]?r.preventDefault():zA(r))},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:WA,fn:n}]}const JA={type:"IDLE"};const XA=["input","button","textarea","select","option","optgroup","video","audio"];function ZA(e,t){if(null==t)return!1;if(XA.includes(t.tagName.toLowerCase()))return!0;const n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&ZA(e,t.parentElement)}function ek(e,t){const n=t.target;return!!CA(n)&&ZA(e,n)}var tk=e=>ZS(e.getBoundingClientRect()).center;const nk=(()=>{const e="matches";if("undefined"===typeof document)return e;return[e,"msMatchesSelector","webkitMatchesSelector"].find((e=>e in Element.prototype))||e})();function rk(e,t){return null==e?null:e[nk](t)?e:rk(e.parentElement,t)}function ik(e,t){return e.closest?e.closest(t):rk(e,t)}function ak(e,t){const n=t.target;if(!((r=n)instanceof EA(r).Element))return null;var r;const i=function(e){return`[${hA.contextId}="${e}"]`}(e),a=ik(n,i);return a&&CA(a)?a:null}function ok(e){e.preventDefault()}function sk(e){let{expected:t,phase:n,isLockActive:r,shouldWarn:i}=e;return!!r()&&t===n}function lk(e){let{lockAPI:t,store:n,registry:r,draggableId:i}=e;if(t.isClaimed())return!1;const a=r.draggable.findById(i);return!!a&&(!!a.options.isEnabled&&!!GI(n.getState(),i))}function ck(e){let{lockAPI:t,contextId:n,store:r,registry:i,draggableId:a,forceSensorStop:o,sourceEvent:s}=e;if(!lk({lockAPI:t,store:r,registry:i,draggableId:a}))return null;const l=i.draggable.getById(a),c=function(e,t){const n=`[${fA.contextId}="${e}"]`,r=_A(document,n).find((e=>e.getAttribute(fA.id)===t));return r&&CA(r)?r:null}(n,l.descriptor.id);if(!c)return null;if(s&&!l.options.canDragInteractiveElements&&ek(c,s))return null;const u=t.claim(o||hT);let d="PRE_DRAG";function h(){return l.options.shouldRespectForcePress}function f(){return t.isActive(u)}const p=function(e,t){sk({expected:e,phase:d,isLockActive:f,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function g(e){function n(){t.release(),d="COMPLETED"}function i(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shouldBlockNextClick:!1};if(e.cleanup(),i.shouldBlockNextClick){const e=fT(window,[{eventName:"click",fn:ok,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(e)}n(),r.dispatch(hI({reason:t}))}return"PRE_DRAG"!==d&&(n(),mT()),r.dispatch((e=>({type:"LIFT",payload:e}))(e.liftActionArgs)),d="DRAGGING",{isActive:()=>sk({expected:"DRAGGING",phase:d,isLockActive:f,shouldWarn:!1}),shouldRespectForcePress:h,drop:e=>i("DROP",e),cancel:e=>i("CANCEL",e),...e.actions}}const m={isActive:()=>sk({expected:"PRE_DRAG",phase:d,isLockActive:f,shouldWarn:!1}),shouldRespectForcePress:h,fluidLift:function(e){const t=cT((e=>{p((()=>oI({client:e})))}));return{...g({liftActionArgs:{id:a,clientSelection:e,movementMode:"FLUID"},cleanup:()=>t.cancel(),actions:{move:t}}),move:t}},snapLift:function(){const e={moveUp:()=>p(sI),moveRight:()=>p(cI),moveDown:()=>p(lI),moveLeft:()=>p(uI)};return g({liftActionArgs:{id:a,clientSelection:tk(c),movementMode:"SNAP"},cleanup:hT,actions:e})},abort:function(){sk({expected:"PRE_DRAG",phase:d,isLockActive:f,shouldWarn:!0})&&t.release()}};return m}const uk=[function(e){const n=(0,t.useRef)(qA),r=(0,t.useRef)(hT),i=ST((()=>({eventName:"mousedown",fn:function(t){if(t.defaultPrevented)return;if(0!==t.button)return;if(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)return;const n=e.findClosestDraggableId(t);if(!n)return;const i=e.tryGetLock(n,s,{sourceEvent:t});if(!i)return;t.preventDefault();const a={x:t.clientX,y:t.clientY};r.current(),u(i,a)}})),[e]),a=ST((()=>({eventName:"webkitmouseforcewillbegin",fn:t=>{if(t.defaultPrevented)return;const n=e.findClosestDraggableId(t);if(!n)return;const r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}})),[e]),o=TT((function(){r.current=fT(window,[a,i],{passive:!1,capture:!0})}),[a,i]),s=TT((()=>{"IDLE"!==n.current.type&&(n.current=qA,r.current(),o())}),[o]),l=TT((()=>{const e=n.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[s]),c=TT((function(){const e=GA({cancel:l,completed:s,getPhase:()=>n.current,setPhase:e=>{n.current=e}});r.current=fT(window,e,{capture:!0,passive:!1})}),[l,s]),u=TT((function(e,t){"IDLE"!==n.current.type&&mT(),n.current={type:"PENDING",point:t,actions:e},c()}),[c]);yA((function(){return o(),function(){r.current()}}),[o])},function(e){const n=(0,t.useRef)(KA),r=ST((()=>({eventName:"keydown",fn:function(t){if(t.defaultPrevented)return;if(32!==t.keyCode)return;const r=e.findClosestDraggableId(t);if(!r)return;const a=e.tryGetLock(r,l,{sourceEvent:t});if(!a)return;t.preventDefault();let o=!0;const s=a.snapLift();function l(){o||mT(),o=!1,n.current(),i()}n.current(),n.current=fT(window,YA(s,l),{capture:!0,passive:!1})}})),[e]),i=TT((function(){n.current=fT(window,[r],{passive:!1,capture:!0})}),[r]);yA((function(){return i(),function(){n.current()}}),[i])},function(e){const n=(0,t.useRef)(JA),r=(0,t.useRef)(hT),i=TT((function(){return n.current}),[]),a=TT((function(e){n.current=e}),[]),o=ST((()=>({eventName:"touchstart",fn:function(t){if(t.defaultPrevented)return;const n=e.findClosestDraggableId(t);if(!n)return;const i=e.tryGetLock(n,l,{sourceEvent:t});if(!i)return;const a=t.touches[0],{clientX:o,clientY:s}=a,c={x:o,y:s};r.current(),h(i,c)}})),[e]),s=TT((function(){r.current=fT(window,[o],{capture:!0,passive:!1})}),[o]),l=TT((()=>{const e=n.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),a(JA),r.current(),s())}),[s,a]),c=TT((()=>{const e=n.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),u=TT((function(){const e={capture:!0,passive:!1},t={cancel:c,completed:l,getPhase:i},n=fT(window,function(e){let{cancel:t,completed:n,getPhase:r}=e;return[{eventName:"touchmove",options:{capture:!1},fn:e=>{const n=r();if("DRAGGING"!==n.type)return void t();n.hasMoved=!0;const{clientX:i,clientY:a}=e.touches[0],o={x:i,y:a};e.preventDefault(),n.actions.move(o)}},{eventName:"touchend",fn:e=>{const i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:e=>{"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:e=>{const n=r();"IDLE"===n.type&&mT();const i=e.touches[0];if(!i)return;if(!(i.force>=.15))return;const a=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return a?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();a&&t()}},{eventName:WA,fn:t}]}(t),e),a=fT(window,function(e){let{cancel:t,getPhase:n}=e;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:e=>{e.preventDefault()}},{eventName:"keydown",fn:e=>{"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:WA,fn:t}]}(t),e);r.current=function(){n(),a()}}),[c,i,l]),d=TT((function(){const e=i();"PENDING"!==e.type&&mT();const t=e.actions.fluidLift(e.point);a({type:"DRAGGING",actions:t,hasMoved:!1})}),[i,a]),h=TT((function(e,t){"IDLE"!==i().type&&mT();const n=setTimeout(d,120);a({type:"PENDING",point:t,actions:e,longPressTimerId:n}),u()}),[u,i,a,d]);yA((function(){return s(),function(){r.current();const e=i();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),a(JA))}}),[i,s,a]),yA((function(){return fT(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])}),[])}];function dk(e){let{contextId:n,store:r,registry:i,customSensors:a,enableDefaultSensors:o}=e;const s=[...o?uk:[],...a||[]],l=(0,t.useState)((()=>function(){let e=null;function t(){e||mT(),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&mT();const n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()))[0],c=TT((function(e,t){MA(e)&&!MA(t)&&l.tryAbandon()}),[l]);yA((function(){let e=r.getState();return r.subscribe((()=>{const t=r.getState();c(e,t),e=t}))}),[l,r,c]),yA((()=>l.tryAbandon),[l.tryAbandon]);const u=TT((e=>lk({lockAPI:l,registry:i,store:r,draggableId:e})),[l,i,r]),d=TT(((e,t,a)=>ck({lockAPI:l,registry:i,contextId:n,store:r,draggableId:e,forceSensorStop:t||null,sourceEvent:a&&a.sourceEvent?a.sourceEvent:null})),[n,l,i,r]),h=TT((e=>function(e,t){const n=ak(e,t);return n?n.getAttribute(hA.draggableId):null}(n,e)),[n]),f=TT((e=>{const t=i.draggable.findById(e);return t?t.options:null}),[i.draggable]),p=TT((function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==r.getState().phase&&r.dispatch({type:"FLUSH",payload:null}))}),[l,r]),g=TT((()=>l.isClaimed()),[l]),m=ST((()=>({canGetLock:u,tryGetLock:d,findClosestDraggableId:h,findOptionsForDraggable:f,tryReleaseLock:p,isLockClaimed:g})),[u,d,h,f,p,g]);DA();for(let t=0;t<s.length;t++)s[t](m)}function hk(e){return e.current||mT(),e.current}function fk(e){const{contextId:n,setCallbacks:r,sensors:i,nonce:a,dragHandleUsageInstructions:o}=e,s=(0,t.useRef)(null);OA();const l=LA(e),c=TT((()=>(e=>({onBeforeCapture:t=>{(0,we.flushSync)((()=>{e.onBeforeCapture&&e.onBeforeCapture(t)}))},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}))(l.current)),[l]),u=TT((()=>(e=>({...JI,...e.autoScrollerOptions,durationDampening:{...JI.durationDampening,...e.autoScrollerOptions}}))(l.current)),[l]),d=function(e){const n=ST((()=>(e=>`rfd-announcement-${e}`)(e)),[e]),r=(0,t.useRef)(null);return(0,t.useEffect)((function(){const e=document.createElement("div");return r.current=e,e.id=n,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),uT(e.style,AA),IA().appendChild(e),function(){setTimeout((function(){const t=IA();t.contains(e)&&t.removeChild(e),e===r.current&&(r.current=null)}))}}),[n]),TT((e=>{const t=r.current;t&&(t.textContent=e)}),[])}(n),h=function(e){let{contextId:n,text:r}=e;const i=PA("hidden-text",{separator:"-"}),a=ST((()=>function(e){let{contextId:t,uniqueId:n}=e;return`rfd-hidden-text-${t}-${n}`}({contextId:n,uniqueId:i})),[i,n]);return(0,t.useEffect)((function(){const e=document.createElement("div");return e.id=a,e.textContent=r,e.style.display="none",IA().appendChild(e),function(){const t=IA();t.contains(e)&&t.removeChild(e)}}),[a,r]),a}({contextId:n,text:o}),f=wA(n,a),p=TT((e=>{hk(s).dispatch(e)}),[]),g=ST((()=>ZC({publishWhileDragging:tI,updateDroppableScroll:rI,updateDroppableIsEnabled:iI,updateDroppableIsCombineEnabled:aI,collectionStarting:nI},p)),[p]),m=function(){const e=ST(TA,[]);return(0,t.useEffect)((()=>function(){e.clean()}),[e]),e}(),y=ST((()=>qI(m,g)),[m,g]),v=ST((()=>uA({scrollWindow:KI,scrollDroppable:y.scrollDroppable,getAutoScrollerOptions:u,...ZC({move:oI},p)})),[y.scrollDroppable,p,u]),b=function(e){const n=(0,t.useRef)({}),r=(0,t.useRef)(null),i=(0,t.useRef)(null),a=(0,t.useRef)(!1),o=TT((function(e,t){const r={id:e,focus:t};return n.current[e]=r,function(){const t=n.current;t[e]!==r&&delete t[e]}}),[]),s=TT((function(t){const n=SA(e,t);n&&n!==document.activeElement&&n.focus()}),[e]),l=TT((function(e,t){r.current===e&&(r.current=t)}),[]),c=TT((function(){i.current||a.current&&(i.current=requestAnimationFrame((()=>{i.current=null;const e=r.current;e&&s(e)})))}),[s]),u=TT((function(e){r.current=null;const t=document.activeElement;t&&t.getAttribute(hA.draggableId)===e&&(r.current=e)}),[]);return yA((()=>(a.current=!0,function(){a.current=!1;const e=i.current;e&&cancelAnimationFrame(e)})),[]),ST((()=>({register:o,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l})),[o,u,c,l])}(n),w=ST((()=>BI({announce:d,autoScroller:v,dimensionMarshal:y,focusMarshal:b,getResponders:c,styleMarshal:f})),[d,v,y,b,c,f]);s.current=w;const _=TT((()=>{const e=hk(s);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})}),[]),E=TT((()=>{const e=hk(s).getState();return"DROP_ANIMATING"===e.phase||"IDLE"!==e.phase&&e.isDragging}),[]);r(ST((()=>({isDragging:E,tryAbort:_})),[E,_]));const C=TT((e=>GI(hk(s).getState(),e)),[]),S=TT((()=>Rx(hk(s).getState())),[]),T=ST((()=>({marshal:y,focus:b,contextId:n,canLift:C,isMovementAllowed:S,dragHandleUsageInstructionsId:h,registry:m})),[n,y,h,b,C,S,m]);return dk({contextId:n,store:w,registry:m,customSensors:i||null,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,t.useEffect)((()=>_),[_]),t.createElement(NA.Provider,{value:T},t.createElement(JS,{context:xA,store:w},e.children))}function pk(e){const n=t.useId(),r=e.dragHandleUsageInstructions||ET.dragHandleUsageInstructions;return t.createElement(yT,null,(i=>t.createElement(fk,{nonce:e.nonce,contextId:n,setCallbacks:i,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children)))}const gk=5e3,mk=4500,yk=(e,t)=>t?bI.drop(t.duration):e?bI.snap:bI.fluid,vk=(e,t)=>{if(e)return t?gI.drop:gI.combining};function bk(e){return"DRAGGING"===e.type?function(e){const t=e.dimension.client,{offset:n,combineWith:r,dropping:i}=e,a=Boolean(r),o=(e=>null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode)(e),s=Boolean(i),l=s?EI(n,a):_I(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:yk(o,i),transform:l,opacity:vk(a,s),zIndex:s?mk:gk,pointerEvents:"none"}}(e):{transform:_I((t=e).offset),transition:t.shouldAnimateDisplacement?void 0:"none"};var t}function wk(e){const n=PA("draggable"),{descriptor:r,registry:i,getDraggableRef:a,canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:l}=e,c=ST((()=>({canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:l})),[o,l,s]),u=TT((e=>{const t=a();return t||mT(),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xT;const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),a=sT(i,r),o=oT(a,n);return{descriptor:e,placeholder:{client:a,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:a.marginBox.width,y:a.marginBox.height},client:a,page:o}}(r,t,e)}),[r,a]),d=ST((()=>({uniqueId:n,descriptor:r,options:c,getDimension:u})),[r,u,c,n]),h=(0,t.useRef)(d),f=(0,t.useRef)(!0);yA((()=>(i.draggable.register(h.current),()=>i.draggable.unregister(h.current))),[i.draggable]),yA((()=>{if(f.current)return void(f.current=!1);const e=h.current;h.current=d,i.draggable.update(d,e)}),[d,i.draggable])}var _k=t.createContext(null);function Ek(e){const n=(0,t.useContext)(e);return n||mT(),n}function Ck(e){e.preventDefault()}var Sk=(e,t)=>e===t,Tk=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};function xk(){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,combineWith:null}}const Ik={mapped:{type:"SECONDARY",offset:xT,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:xk(null)}};const Ak=YS((()=>{const e=function(){const e=BT(((e,t)=>({x:e,y:t}))),t=BT((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return{isDragging:!0,isClone:t,isDropAnimating:Boolean(i),dropAnimation:i,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}})),n=BT((function(e,n,r,i){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;return{mapped:{type:"DRAGGING",dropping:null,draggingOver:a,combineWith:o,mode:n,offset:e,dimension:r,forceShouldAnimate:arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,snapshot:t(n,i,a,o,null)}}}));return(r,i)=>{if(MA(r)){if(r.critical.draggable.id!==i.draggableId)return null;const t=r.current.client.offset,o=r.dimensions.draggables[i.draggableId],s=Nx(r.impact),l=(a=r.impact).at&&"COMBINE"===a.at.type?a.at.combine.draggableId:null,c=r.forceShouldAnimate;return n(e(t.x,t.y),r.movementMode,o,i.isClone,s,l,c)}var a;if("DROP_ANIMATING"===r.phase){const e=r.completed;if(e.result.draggableId!==i.draggableId)return null;const n=i.isClone,a=r.dimensions.draggables[i.draggableId],o=e.result,s=o.mode,l=Tk(o),c=(e=>e.combine?e.combine.draggableId:null)(o),u={duration:r.dropDuration,curve:pI,moveTo:r.newHomeClientOffset,opacity:c?gI.drop:null,scale:c?mI.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:a,dropping:u,draggingOver:l,combineWith:c,mode:s,forceShouldAnimate:null,snapshot:t(s,n,l,c,u)}}}return null}}(),t=function(){const e=BT(((e,t)=>({x:e,y:t}))),t=BT(xk),n=BT((function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:arguments.length>2?arguments[2]:void 0,snapshot:t(n)}}})),r=e=>e?n(xT,e,!0):null,i=(t,i,a,o)=>{const s=a.displaced.visible[t],l=Boolean(o.inVirtualList&&o.effected[t]),c=GT(a),u=c&&c.draggableId===t?i:null;if(!s){if(!l)return r(u);if(a.displaced.invisible[t])return null;const i=PT(o.displacedBy.point),s=e(i.x,i.y);return n(s,u,!0)}if(l)return r(u);const d=a.displacedBy.point,h=e(d.x,d.y);return n(h,u,s.shouldAnimate)};return(e,t)=>{if(MA(e))return e.critical.draggable.id===t.draggableId?null:i(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){const n=e.completed;return n.result.draggableId===t.draggableId?null:i(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return(n,r)=>e(n,r)||t(n,r)||Ik}),{dropAnimationFinished:fI},null,{context:xA,areStatePropsEqual:Sk})((e=>{const n=(0,t.useRef)(null),r=TT((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;n.current=e}),[]),i=TT((()=>n.current),[]),{contextId:a,dragHandleUsageInstructionsId:o,registry:s}=Ek(NA),{type:l,droppableId:c}=Ek(_k),u=ST((()=>({id:e.draggableId,index:e.index,type:l,droppableId:c})),[e.draggableId,e.index,l,c]),{children:d,draggableId:h,isEnabled:f,shouldRespectForcePress:p,canDragInteractiveElements:g,isClone:m,mapped:y,dropAnimationFinished:v}=e;if(RA(),DA(),!m){wk(ST((()=>({descriptor:u,registry:s,getDraggableRef:i,canDragInteractiveElements:g,shouldRespectForcePress:p,isEnabled:f})),[u,s,i,g,p,f]))}const b=ST((()=>f?{tabIndex:0,role:"button","aria-describedby":o,"data-rfd-drag-handle-draggable-id":h,"data-rfd-drag-handle-context-id":a,draggable:!1,onDragStart:Ck}:null),[a,o,h,f]),w=TT((e=>{"DRAGGING"===y.type&&y.dropping&&"transform"===e.propertyName&&(0,we.flushSync)(v)}),[v,y]),_=ST((()=>{const e=bk(y),t="DRAGGING"===y.type&&y.dropping?w:void 0;return{innerRef:r,draggableProps:{"data-rfd-draggable-context-id":a,"data-rfd-draggable-id":h,style:e,onTransitionEnd:t},dragHandleProps:b}}),[a,b,h,y,w,r]),E=ST((()=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}})),[u.droppableId,u.id,u.index,u.type]);return t.createElement(t.Fragment,null,d(_,y.snapshot,E))}));function kk(e){return Ek(_k).isUsingCloneFor!==e.draggableId||e.isClone?t.createElement(Ak,e):null}function Pk(e){const n="boolean"!==typeof e.isDragDisabled||!e.isDragDisabled,r=Boolean(e.disableInteractiveElementBlocking),i=Boolean(e.shouldRespectForcePress);return t.createElement(kk,uT({},e,{isClone:!1,isEnabled:n,canDragInteractiveElements:r,shouldRespectForcePress:i}))}const Nk=e=>t=>e===t,Dk=Nk("scroll"),Rk=Nk("auto"),Ok=(Nk("visible"),(e,t)=>t(e.overflowX)||t(e.overflowY)),Lk=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return Ok(n,Dk)||Ok(n,Rk)},Mk=e=>null==e||e===document.body||e===document.documentElement?null:Lk(e)?e:Mk(e.parentElement);var jk=e=>({x:e.scrollLeft,y:e.scrollTop});const Fk=e=>{if(!e)return!1;return"fixed"===window.getComputedStyle(e).position||Fk(e.parentElement)};var Uk=e=>{let{ref:t,descriptor:n,env:r,windowScroll:i,direction:a,isDropDisabled:o,isCombineEnabled:s,shouldClipSubject:l}=e;const c=r.closestScrollable,u=((e,t)=>{const n=lT(e);if(!t)return n;if(e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,a=r+t.scrollHeight,o=i+t.scrollWidth,s=eT({top:r,right:o,bottom:a,left:i},n.border);return rT({borderBox:s,margin:n.margin,border:n.border,padding:n.padding})})(t,c),d=oT(u,i),h=(()=>{if(!c)return null;const e=lT(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:oT(e,i),scroll:jk(c),scrollSize:t,shouldClipSubject:l}})(),f=(e=>{let{descriptor:t,isEnabled:n,isCombineEnabled:r,isFixedOnPage:i,direction:a,client:o,page:s,closest:l}=e;const c=(()=>{if(!l)return null;const{scrollSize:e,client:t}=l,n=VI({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:n,diff:{value:xT,displacement:xT}}}})(),u="vertical"===a?nx:rx;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:i,axis:u,isEnabled:n,client:o,page:s,frame:c,subject:FT({page:s,withPlaceholder:null,axis:u,frame:c})}})({descriptor:n,isEnabled:!o,isCombineEnabled:s,isFixedOnPage:r.isFixedOnPage,direction:a,client:u,page:d,closest:h});return f};const Bk={passive:!1},Vk={passive:!0};var Hk=e=>e.shouldPublishImmediately?Bk:Vk;const $k=e=>e&&e.env.closestScrollable||null;function zk(e){const n=(0,t.useRef)(null),r=Ek(NA),i=PA("droppable"),{registry:a,marshal:o}=r,s=LA(e),l=ST((()=>({id:e.droppableId,type:e.type,mode:e.mode})),[e.droppableId,e.mode,e.type]),c=(0,t.useRef)(l),u=ST((()=>BT(((e,t)=>{n.current||mT();const r={x:e,y:t};o.updateDroppableScroll(l.id,r)}))),[l.id,o]),d=TT((()=>{const e=n.current;return e&&e.env.closestScrollable?jk(e.env.closestScrollable):xT}),[]),h=TT((()=>{const e=d();u(e.x,e.y)}),[d,u]),f=ST((()=>cT(h)),[h]),p=TT((()=>{const e=n.current,t=$k(e);e&&t||mT();e.scrollOptions.shouldPublishImmediately?h():f()}),[f,h]),g=TT(((e,t)=>{n.current&&mT();const i=s.current,a=i.getDroppableRef();a||mT();const o=(e=>({closestScrollable:Mk(e),isFixedOnPage:Fk(e)}))(a),c={ref:a,descriptor:l,env:o,scrollOptions:t};n.current=c;const u=Uk({ref:a,descriptor:l,env:o,windowScroll:e,direction:i.direction,isDropDisabled:i.isDropDisabled,isCombineEnabled:i.isCombineEnabled,shouldClipSubject:!i.ignoreContainerClipping}),d=o.closestScrollable;return d&&(d.setAttribute(gA.contextId,r.contextId),d.addEventListener("scroll",p,Hk(c.scrollOptions))),u}),[r.contextId,l,p,s]),m=TT((()=>{const e=n.current,t=$k(e);return e&&t||mT(),jk(t)}),[]),y=TT((()=>{const e=n.current;e||mT();const t=$k(e);n.current=null,t&&(f.cancel(),t.removeAttribute(gA.contextId),t.removeEventListener("scroll",p,Hk(e.scrollOptions)))}),[p,f]),v=TT((e=>{const t=n.current;t||mT();const r=$k(t);r||mT(),r.scrollTop+=e.y,r.scrollLeft+=e.x}),[]),b=ST((()=>({getDimensionAndWatchScroll:g,getScrollWhileDragging:m,dragStopped:y,scroll:v})),[y,g,m,v]),w=ST((()=>({uniqueId:i,descriptor:l,callbacks:b})),[b,l,i]);yA((()=>(c.current=w.descriptor,a.droppable.register(w),()=>{n.current&&y(),a.droppable.unregister(w)})),[b,l,y,w,o,a.droppable]),yA((()=>{n.current&&o.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)}),[e.isDropDisabled,o]),yA((()=>{n.current&&o.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,o])}function Wk(){}const qk={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},Gk=e=>{let{isAnimatingOpenOnMount:t,placeholder:n,animate:r}=e;const i=(e=>{let{isAnimatingOpenOnMount:t,placeholder:n,animate:r}=e;return t||"close"===r?qk:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}})({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?bI.placeholder:null}};var Kk=t.memo((e=>{const n=(0,t.useRef)(null),r=TT((()=>{n.current&&(clearTimeout(n.current),n.current=null)}),[]),{animate:i,onTransitionEnd:a,onClose:o,contextId:s}=e,[l,c]=(0,t.useState)("open"===e.animate);(0,t.useEffect)((()=>l?"open"!==i?(r(),c(!1),Wk):n.current?Wk:(n.current=setTimeout((()=>{n.current=null,c(!1)})),r):Wk),[i,l,r]);const u=TT((e=>{"height"===e.propertyName&&(a(),"close"===i&&o())}),[i,o,a]),d=Gk({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return t.createElement(e.placeholder.tagName,{style:d,"data-rfd-placeholder-context-id":s,onTransitionEnd:u,ref:e.innerRef})}));class Qk extends t.PureComponent{constructor(){super(...arguments),this.state={isVisible:Boolean(this.props.on),data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{"close"===this.state.animate&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const Yk={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||mT(),document.body}},Jk=e=>{let t,n={...e};for(t in Yk)void 0===e[t]&&(n={...n,[t]:Yk[t]});return n},Xk=(e,t)=>e===t.droppable.type,Zk=(e,t)=>t.draggables[e.draggable.id],eP=YS((()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=BT((e=>({draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}))),r=BT(((r,i,a,o,s,l)=>{const c=s.descriptor.id;if(s.descriptor.droppableId===r){const e=l?{render:l,dragging:n(s.descriptor)}:null,t={isDraggingOver:a,draggingOverWith:a?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!1,snapshot:t,useClone:e}}if(!i)return t;if(!o)return e;const u={isDraggingOver:a,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!0,snapshot:u,useClone:null}}));return(n,i)=>{const a=Jk(i),o=a.droppableId,s=a.type,l=!a.isDropDisabled,c=a.renderClone;if(MA(n)){const e=n.critical;if(!Xk(s,e))return t;const i=Zk(e,n.dimensions),a=Nx(n.impact)===o;return r(o,l,a,a,i,c)}if("DROP_ANIMATING"===n.phase){const e=n.completed;if(!Xk(s,e.critical))return t;const i=Zk(e.critical,n.dimensions);return r(o,l,Tk(e.result)===o,Nx(e.impact)===o,i,c)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){const r=n.completed;if(!Xk(s,r.critical))return t;const i=Nx(r.impact)===o,a=Boolean(r.impact.at&&"COMBINE"===r.impact.at.type),l=r.critical.droppable.id===o;return i?a?e:t:l?e:t}return t}}),{updateViewportMaxScroll:e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e})},((e,t,n)=>({...Jk(n),...e,...t})),{context:xA,areStatePropsEqual:Sk})((e=>{const n=(0,t.useContext)(NA);n||mT();const{contextId:r,isMovementAllowed:i}=n,a=(0,t.useRef)(null),o=(0,t.useRef)(null),{children:s,droppableId:l,type:c,mode:u,direction:d,ignoreContainerClipping:h,isDropDisabled:f,isCombineEnabled:p,snapshot:g,useClone:m,updateViewportMaxScroll:y,getContainerForClone:v}=e,b=TT((()=>a.current),[]),w=TT((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;a.current=e}),[]),_=(TT((()=>o.current),[]),TT((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;o.current=e}),[]));RA();const E=TT((()=>{i()&&y({maxScroll:$I()})}),[i,y]);zk({droppableId:l,type:c,mode:u,direction:d,isDropDisabled:f,isCombineEnabled:p,ignoreContainerClipping:h,getDroppableRef:b});const C=ST((()=>t.createElement(Qk,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(e=>{let{onClose:n,data:i,animate:a}=e;return t.createElement(Kk,{placeholder:i,onClose:n,innerRef:_,animate:a,contextId:r,onTransitionEnd:E})}))),[r,E,e.placeholder,e.shouldAnimatePlaceholder,_]),S=ST((()=>({innerRef:w,placeholder:C,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":r}})),[r,l,C,w]),T=m?m.dragging.draggableId:null,x=ST((()=>({droppableId:l,type:c,isUsingCloneFor:T})),[l,T,c]);return t.createElement(_k.Provider,{value:x},s(S,g),function(){if(!m)return null;const{dragging:e,render:n}=m,r=t.createElement(kk,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},((t,r)=>n(t,r,e)));return we.createPortal(r,v())}())}));const tP=(e,t)=>({userSelect:"none",padding:16,margin:"0 8px 0 0",background:e?"lightgreen":"grey",...t});function nP(e){let{entityList:n,isColumn:r=!0,zoneList:i}=e;const[a,o]=(0,t.useState)((e=>Array.from({length:e},((e,t)=>t)).map((e=>({id:`item-${e}-${crypto.randomUUID}`,content:`item ${e}`}))))(6));return(0,Re.jsx)(pk,{onDragEnd:e=>{if(!e.destination)return;const t=function(e,t,n){const r=[...e],[i]=r.splice(t,1);return r.splice(n,0,i),r}(a,e.source.index,e.destination.index);o(t)},children:(0,Re.jsx)(eP,{droppableId:"droppable-1",children:(e,t)=>{return(0,Re.jsxs)("div",{ref:e.innerRef,style:(n=t.isDraggingOver,{background:n?"lightblue":"lightgrey",padding:8,overflow:"auto"}),...e.droppableProps,children:[a.map(((e,t)=>(0,Re.jsx)(Pk,{draggableId:e.id,index:t,children:(t,n)=>(0,Re.jsx)("div",{ref:t.innerRef,...t.draggableProps,...t.dragHandleProps,style:tP(n.isDragging,t.draggableProps.style),children:e.content})},e.id))),e.placeholder]});var n}})})}function rP(){const e=Y(),[n,r]=(0,t.useState)(!1),[i,a]=(0,t.useState)({campaign_name:"placeholder",director_name:"placeholder",enemy_list:[],ally_combat_npc_list:[],neutral_combat_npc_list:[],conbat_tracker:{zones:[]}}),[o,s]=(0,t.useState)([]);kh(Sd(by,"campaigns",e.pathname.split("/").at(2)),{includeMetadataChanges:!0},(e=>{!e.metadata.hasPendingWrites&&n||(a((t=>({...t,...e.data()}))),r(!0))})),kh(ch(Cd(by,"characters"),dh("campaigns","array-contains",e.pathname.split("/").at(2))),{includeMetadataChanges:!0},(e=>{!e.metadata.hasPendingWrites&&n||s(e.docs.map((e=>({id:e.id,...e.data()}))))}));return(0,Re.jsxs)("div",{className:"DirectorsPage",children:[(0,Re.jsx)("div",{className:"DirectorsPage-SkillsTab DefaultCharacterPage",children:o.map(((e,t)=>{const n={...tw,...e};return(0,Re.jsx)(Jb(),{trigger:(0,Re.jsx)(Re.Fragment,{children:e.character_name}),className:"DirectorsPage-player-skill-dropdown",openedClassName:"DirectorsPage-player-skill-dropdown-open",contentInnerClassName:"DirectorsPage-player-skill-inner-div",triggerClassName:"DirectorsPage-player-skill-trigger",triggerOpenedClassName:"DirectorsPage-player-skill-trigger",transitionTime:100,open:!0,children:(0,Re.jsx)(W_,{isOpen:!0,characterPage:n})},t)}))}),(0,Re.jsx)("div",{className:"DirectorsPage-MainBody",children:(0,Re.jsx)(q_,{tabs:[{tabName:"Roleplay",content:(0,Re.jsx)(Re.Fragment,{children:"hi"})},{tabName:"Combat",content:(0,Re.jsxs)("div",{className:"DirectorsPage-Combat",children:[(0,Re.jsxs)("div",{className:"DirectorsPage-CombatCharacterStats",children:["Player Stats",(0,Re.jsx)("br",{}),o.map(((e,t)=>{const n={...tw,...e},r=function(e){s((n=>n.map(((n,r)=>r===t?{...n,action_points:e}:n))))};return(0,Re.jsxs)(Jb(),{trigger:(0,Re.jsx)(Re.Fragment,{children:e.character_name}),className:"DirectorsPage-player-stats-dropdown",openedClassName:"DirectorsPage-player-stats-dropdown-open",contentInnerClassName:"DirectorsPage-player-stats-inner-div",triggerClassName:"DirectorsPage-player-stats-trigger",triggerOpenedClassName:"DirectorsPage-player-stats-trigger",transitionTime:100,open:!0,children:[(0,Re.jsxs)("div",{className:"DirectorsPageCharacterStatsOverride",children:[(0,Re.jsx)(j_,{characterPageLayoutLive:n}),(0,Re.jsx)(H_,{characterPageLayoutLive:n})]}),(0,Re.jsx)(Jb(),{trigger:(0,Re.jsxs)("div",{className:"CharacterMainTab-action-points",children:["Action Points:","\xa0\xa0\xa0",n.action_points>0?(0,Re.jsx)("img",{src:G_,alt:"starFilled",className:"CharacterMainTab-star",width:30,onClick:e=>{e.stopPropagation(),r(1)}}):(0,Re.jsx)("img",{src:z_,alt:"star",className:"CharacterMainTab-star",width:30,onClick:e=>{e.stopPropagation(),r(1)}}),n.action_points>1?(0,Re.jsx)("img",{src:G_,alt:"starFilled",className:"CharacterMainTab-star",width:30,onClick:e=>{e.stopPropagation(),r(2)}}):(0,Re.jsx)("img",{src:z_,alt:"star",className:"CharacterMainTab-star",width:30,onClick:e=>{e.stopPropagation(),r(2)}}),n.action_points>2?(0,Re.jsx)("img",{src:G_,alt:"starFilled",className:"CharacterMainTab-star",width:30,onClick:e=>{e.stopPropagation(),r(3)}}):(0,Re.jsx)("img",{src:z_,alt:"star",className:"CharacterMainTab-star",width:30,onClick:e=>{e.stopPropagation(),r(3)}}),n.action_points>3?(0,Re.jsx)("img",{src:G_,alt:"starFilled",className:"CharacterMainTab-star",width:30,onClick:e=>{e.stopPropagation(),r(4)}}):(0,Re.jsx)("img",{src:z_,alt:"star",className:"CharacterMainTab-star",width:30,onClick:e=>{e.stopPropagation(),r(4)}})]}),className:"DirectorsPage-player-stats-dropdown",openedClassName:"DirectorsPage-player-stats-dropdown-open",contentInnerClassName:"DirectorsPage-player-stats-inner-div",triggerClassName:"DirectorsPage-player-stats-trigger",triggerOpenedClassName:"DirectorsPage-player-stats-trigger",transitionTime:100,children:(0,Re.jsx)(K_,{actions:n.actions,experience_points:n.experience_points,baseArmorClass:n.base_armor_class,baseHitModifier:n.base_hit_modifier,baseDamageModifier:n.base_damage_modifier,baseDamageDice:n.base_damage_dice,baseDamageDiceType:n.base_damage_dice_type,baseHealingDiceType:n.base_healing_dice_type})})]},t)}))]}),(0,Re.jsxs)("div",{className:"DirectorsPage-CombatTracker",children:["Combat Tracker",(0,Re.jsx)("br",{}),(0,Re.jsx)(nP,{})]}),(0,Re.jsxs)("div",{className:"DirectorsPage-CombatEnemyStats",children:["Enemy Stats",(0,Re.jsx)("br",{}),i.enemy_list.map(((e,t)=>{const n={...WC,...e},r=function(e){a((t=>({...t,enemy_list:t.enemy_list.map((t=>t.id===n.id?{...t,action_points:e}:t))})))};return(0,Re.jsxs)(Jb(),{trigger:(0,Re.jsx)(Re.Fragment,{children:n.enemy_name+" Lvl "+n.level}),className:"DirectorsPage-enemy-stats-dropdown",openedClassName:"DirectorsPage-enemy-stats-dropdown-open",contentInnerClassName:"DirectorsPage-enemy-stats-inner-div",triggerClassName:"DirectorsPage-enemy-stats-trigger",triggerOpenedClassName:"DirectorsPage-enemy-stats-trigger",transitionTime:100,open:!0,children:[(0,Re.jsxs)("div",{className:"DirectorsPageCharacterStatsOverride",children:[(0,Re.jsx)(j_,{characterPageLayoutLive:n}),(0,Re.jsx)(H_,{characterPageLayoutLive:n})]}),(0,Re.jsx)(Jb(),{trigger:(0,Re.jsxs)("div",{className:"CharacterMainTab-action-points",children:["Action Points:","\xa0\xa0\xa0",n.action_points>0?(0,Re.jsx)("img",{src:G_,alt:"starFilled",className:"CharacterMainTab-star",width:30,onClick:e=>{e.stopPropagation(),r(1)}}):(0,Re.jsx)("img",{src:z_,alt:"star",className:"CharacterMainTab-star",width:30,onClick:e=>{e.stopPropagation(),r(1)}}),n.action_points>1?(0,Re.jsx)("img",{src:G_,alt:"starFilled",className:"CharacterMainTab-star",width:30,onClick:e=>{e.stopPropagation(),r(2)}}):(0,Re.jsx)("img",{src:z_,alt:"star",className:"CharacterMainTab-star",width:30,onClick:e=>{e.stopPropagation(),r(2)}}),n.action_points>2?(0,Re.jsx)("img",{src:G_,alt:"starFilled",className:"CharacterMainTab-star",width:30,onClick:e=>{e.stopPropagation(),r(3)}}):(0,Re.jsx)("img",{src:z_,alt:"star",className:"CharacterMainTab-star",width:30,onClick:e=>{e.stopPropagation(),r(3)}}),n.action_points>3?(0,Re.jsx)("img",{src:G_,alt:"starFilled",className:"CharacterMainTab-star",width:30,onClick:e=>{e.stopPropagation(),r(4)}}):(0,Re.jsx)("img",{src:z_,alt:"star",className:"CharacterMainTab-star",width:30,onClick:e=>{e.stopPropagation(),r(4)}})]}),className:"DirectorsPage-enemy-stats-dropdown",openedClassName:"DirectorsPage-enemy-stats-dropdown-open",contentInnerClassName:"DirectorsPage-enemy-stats-inner-div",triggerClassName:"DirectorsPage-enemy-stats-trigger",triggerOpenedClassName:"DirectorsPage-enemy-stats-trigger",transitionTime:100,open:!0,children:(0,Re.jsx)(K_,{actions:n.actions,experience_points:0,baseArmorClass:n.base_armor_class,baseHitModifier:n.base_hit_modifier,baseDamageModifier:n.base_damage_modifier,baseDamageDice:n.base_damage_dice,baseDamageDiceType:n.base_damage_dice_type,baseHealingDiceType:n.base_healing_dice_type,canUseActions:!0,lowerUseActionButton:!0,characterPage:n,setCharacterPage:function(e){a((t=>({...t,enemy_list:t.enemy_list.map((t=>t.id===e.id?{...t,...e}:t))})))}})})]},t)}))]})]})},{tabName:"Maps",content:(0,Re.jsx)(Re.Fragment,{children:"map"})}]})})]})}const iP=JSON.parse('{"Br":14,"nc":3,"sq":5,"Uo":2,"h4":1,"ef":2,"zK":1,"ad":"Physical","c5":1,"Rs":2,"YI":1,"re":"Physical","EW":14,"V5":0,"h_":"lore/flavor for the class"}'),aP=(e,t)=>{if("SET_FORM_DATA"===t.type)return{...e,...t.payload};{const{name:n,value:r}=t,i=/(\w+)\[(\d+)\](\.\w+|\[\d+\])*/g;let a={...e};if(i.test(n)){const e=n.split(".");let t=a;return e.forEach(((n,r)=>{const i=n.match(/(\w+)\[(\d+)\]/);if(i){const e=i[1],n=parseInt(i[2],10);t[e]||(t[e]=[]),t[e][n]||(t[e][n]={}),t=t[e][n]}else t[n]||(t[n]={}),e.length-1!==r&&(t=t[n])})),t[e[e.length-1]]=r,a}return{...e,[n]:r}}},oP=e=>new Promise((t=>setTimeout(t,e)));function sP(){const[e,n]=(0,t.useReducer)(aP,{}),[r,i]=(0,t.useState)(!0),[a,o]=(0,t.useState)(!0),[s,l]=(0,t.useState)(!0),c=X(),u=Y();(0,t.useEffect)((()=>{document.title="New Class",console.log(u.pathname),u.pathname.split("/").length>2&&async function(){const e=await Th(Sd(by,"classes",u.pathname.split("/").at(2)));n({type:"SET_FORM_DATA",payload:e.data()}),document.title=e.data().class_name,d()}()}),[u]);const d=async function(){i(!1),await oP(1),i(!0)},h=e=>{const{name:t,type:r,checked:i,value:a}=e.target,o="number"===r?Number("checkbox"===r?i:a):a;n({name:t,value:o})},f=e=>{const{name:t,value:r}=e.target;n({name:t,value:U_(r)})},p=function(t){if(e.actions.length>1){const i=[];for(var r=0;r<e.actions.length;r++)r!==t&&i.push(e.actions[r]);n({name:"actions",value:i})}else n({name:"actions",value:[]});!async function(){o(!1),await oP(1),o(!0)}()},g=function(t,r){if(e.actions[t].tags.length>1){const a=[];for(var i=0;i<e.actions[t].tags.length;i++)i!==r&&a.push(e.actions[t].tags[i]);n({name:`actions[${t}].tags`,value:a})}else n({name:`actions[${t}].tags`,value:[]});!async function(){l(!1),await oP(1),l(!0)}()};async function m(){if(""===e.class_name||""===e.author||""===e.class_type||""===e.base_armor_class||""===e.base_health_dice||""===e.base_hit_modifier||""===e.base_healing_dice_type||""===e.base_class_damage_class||""===e.base_hardness||""===e.base_melee_damage_dice_type||""===e.base_melee_damage_dice||""===e.base_melee_damage_modifier||""===e.base_ranged_damage_dice_type||""===e.base_ranged_damage_dice||""===e.base_ranged_damage_modifier)return alert("invalid form value(s)");if("N/A"===F_(e.base_healing_dice_type))return alert("invalid base healing dice type");if("N/A"===F_(e.base_melee_damage_dice_type))return alert("invalid base melee damage dice type");if("N/A"===F_(e.base_ranged_damage_dice_type))return alert("invalid base ranged damage dice type");if(e.actions.forEach((e=>{if(""===e.actionCost||""===e.range||""===e.actionName||""===e.actionLevel||""===e.actionType)return alert("invalid action value(s)")})),u.pathname.split("/").length>2)try{await function(e,t,n){e=pd(e,_d);const r=pd(e.firestore,Ad),i=Hd(r);let a;for(var o=arguments.length,s=new Array(o>3?o-3:0),l=3;l<o;l++)s[l-3]=arguments[l];return a="string"==typeof(t=ct(t))||t instanceof Dd?qd(i,"updateDoc",e._key,t,n,s):Wd(i,"updateDoc",e._key,t),Ph(r,[a.toMutation(e._key,qo.exists(!0))])}(Sd(by,"classes",u.pathname.split("/").at(2)),e),alert("successfully updated the class")}catch(t){alert(`Failed to update class: ${t.message}`)}else{const t=await Ah(Cd(by,"classes"),e);c(t.id),alert("sucessfully created the class")}}return(0,Re.jsx)(Re.Fragment,{children:r&&(0,Re.jsxs)("div",{className:"ClassPage",children:[(0,Re.jsxs)("div",{className:"ClassPage-input",children:["Class Name:",(0,Re.jsx)("input",{className:"ClassPage-input-box",name:"class_name",type:"text",onChange:h,required:!0,defaultValue:e.class_name})]}),(0,Re.jsxs)("div",{className:"ClassPage-input",children:["Author:",(0,Re.jsx)("input",{className:"ClassPage-input-box",name:"author",type:"text",onChange:h,required:!0,defaultValue:e.author})]}),(0,Re.jsxs)("div",{className:"ClassPage-input",children:["Class Type:",(0,Re.jsxs)("select",{className:"ClassPage-input-box",name:"class_type",onChange:h,required:!0,type:"dropdown",defaultValue:e.class_type,children:[(0,Re.jsx)("option",{hidden:!0}),(0,Re.jsx)("option",{value:"Attrionist",children:"Attrionist"}),(0,Re.jsx)("option",{value:"Crit Hunter",children:"Crit Hunter"}),(0,Re.jsx)("option",{value:"Manipulator",children:"Manipulator"}),(0,Re.jsx)("option",{value:"Snowballer",children:"Snowballer"})]})]}),(0,Re.jsxs)("div",{className:"ClassPage-input",children:["Base Armor Class:",(0,Re.jsx)("input",{className:"ClassPage-input-box",name:"base_armor_class",type:"number",onChange:h,required:!0,placeholder:iP.Br,defaultValue:e.base_armor_class})]}),(0,Re.jsxs)("div",{className:"ClassPage-input",children:["Base Health Dice:",(0,Re.jsx)("input",{className:"ClassPage-input-box",name:"base_health_dice",type:"text",onChange:f,required:!0,placeholder:F_(iP.nc),defaultValue:"N/A"===F_(e.base_health_dice)?null:F_(e.base_health_dice)})]}),(0,Re.jsxs)("div",{className:"ClassPage-input",children:["Base Hit Modifier:",(0,Re.jsx)("input",{className:"ClassPage-input-box",name:"base_hit_modifier",type:"number",onChange:h,required:!0,placeholder:iP.sq,defaultValue:e.base_hit_modifier})]}),(0,Re.jsxs)("div",{className:"ClassPage-input",children:["Base Melee Damage:",(0,Re.jsx)("input",{className:"ClassPage-input-box",name:"base_melee_damage_dice",type:"number",onChange:h,required:!0,style:{width:40},placeholder:iP.h4,defaultValue:e.base_melee_damage_dice}),(0,Re.jsx)("input",{className:"ClassPage-input-box",name:"base_melee_damage_dice_type",type:"text",onChange:f,required:!0,style:{width:40},placeholder:F_(iP.ef),defaultValue:"N/A"===F_(e.base_melee_damage_dice_type)?null:F_(e.base_melee_damage_dice_type)}),"\xa0","+",(0,Re.jsx)("input",{className:"ClassPage-input-box",name:"base_melee_damage_modifier",type:"number",onChange:h,required:!0,style:{width:40},placeholder:iP.zK,defaultValue:e.base_melee_damage_modifier}),"\xa0","Damage Type:",(0,Re.jsx)("input",{className:"ClassPage-input-box",name:"base_melee_damage_type",type:"text",onChange:h,required:!0,placeholder:iP.ad,defaultValue:e.base_melee_damage_type})]}),(0,Re.jsxs)("div",{className:"ClassPage-input",children:["Base Ranged Damage:",(0,Re.jsx)("input",{className:"ClassPage-input-box",name:"base_ranged_damage_dice",type:"number",onChange:h,required:!0,style:{width:40},placeholder:iP.c5,defaultValue:e.base_ranged_damage_dice}),(0,Re.jsx)("input",{className:"ClassPage-input-box",name:"base_ranged_damage_dice_type",type:"text",onChange:f,required:!0,style:{width:40},placeholder:F_(iP.Rs),defaultValue:"N/A"===F_(e.base_ranged_damage_dice_type)?null:F_(e.base_ranged_damage_dice_type)}),"\xa0","+",(0,Re.jsx)("input",{className:"ClassPage-input-box",name:"base_ranged_damage_modifier",type:"number",onChange:h,required:!0,style:{width:40},placeholder:iP.YI,defaultValue:e.base_ranged_damage_modifier}),"\xa0","Damage Type:",(0,Re.jsx)("input",{className:"ClassPage-input-box",name:"base_ranged_damage_type",type:"text",onChange:h,required:!0,placeholder:iP.re,defaultValue:e.base_ranged_damage_type})]}),(0,Re.jsxs)("div",{className:"ClassPage-input",children:["Base Healing Dice Type:",(0,Re.jsx)("input",{className:"ClassPage-input-box",name:"base_healing_dice_type",type:"text",onChange:f,required:!0,placeholder:F_(iP.Uo),defaultValue:"N/A"===F_(e.base_healing_dice_type)?null:F_(e.base_healing_dice_type)})]}),(0,Re.jsxs)("div",{className:"ClassPage-input",children:["Base Class DC:",(0,Re.jsx)("input",{className:"ClassPage-input-box",name:"base_class_damage_class",type:"number",onChange:h,required:!0,placeholder:iP.EW,defaultValue:e.base_class_damage_class})]}),(0,Re.jsxs)("div",{className:"ClassPage-input",children:["Base Hardness:",(0,Re.jsx)("input",{className:"ClassPage-input-box",name:"base_hardness",type:"number",onChange:h,required:!0,placeholder:iP.V5,defaultValue:e.base_hardness})]}),(0,Re.jsxs)("div",{className:"ClassPage-input",children:["Lore/Flavor Text:",(0,Re.jsx)("br",{}),(0,Re.jsx)("textarea",{className:"ClassPage-input-text-area",name:"description",onChange:h,required:!0,placeholder:iP.h_,defaultValue:e.description})]}),(0,Re.jsxs)("div",{className:"ClassPage-actions-box",children:["Actions:",(0,Re.jsx)("button",{className:"ClassPage-add-action-button",onClick:()=>{void 0!==e.actions?n({name:"actions",value:e.actions.concat({actionType:"standard",toHitBool:!1})}):n({name:"actions",value:[{actionType:"standard",toHitBool:!1}]})},children:"Add Action"}),'\xa0*Note: Feats are actions denoted by the prefix "Feat:"',(0,Re.jsx)("br",{}),a&&void 0!==e.actions&&e.actions.map(((t,r)=>(0,Re.jsxs)("div",{className:"ClassPage-input",children:["Action Cost:",(0,Re.jsx)("input",{className:"ClassPage-input-box",style:{width:30},name:`actions[${r}].actionCost`,onChange:h,required:!0,type:"number",min:0,max:3,placeholder:0,defaultValue:e.actions[r].actionCost}),"\xa0Range:",(0,Re.jsx)("input",{className:"ClassPage-input-box",name:`actions[${r}].range`,onChange:h,required:!0,type:"text",placeholder:"1 Zone",defaultValue:e.actions[r].range}),"\xa0To-Hit Action:",(0,Re.jsx)("input",{className:"ClassPage-input-box",name:`actions[${r}].toHitBool`,onChange:h,required:!0,type:"checkbox",defaultChecked:e.actions[r].toHitBool}),e.actions[r].toHitBool&&(0,Re.jsxs)(Re.Fragment,{children:["\xa0To Hit Modifier:",(0,Re.jsx)("input",{className:"ClassPage-input-box",style:{width:40},name:`actions[${r}].toHit`,onChange:h,required:!0,type:"number",placeholder:1,defaultValue:e.actions[r].toHit})]}),!e.actions[r].toHitBool&&(0,Re.jsxs)(Re.Fragment,{children:["\xa0DC Modifier:",(0,Re.jsx)("input",{className:"ClassPage-input-box",style:{width:60},name:`actions[${r}].difficultyClass`,onChange:h,required:!0,type:"text",placeholder:"Dex,0",defaultValue:e.actions[r].difficultyClass})]}),"\xa0Action Name:",(0,Re.jsx)("input",{className:"ClassPage-input-box",name:`actions[${r}].actionName`,onChange:h,required:!0,type:"text",defaultValue:e.actions[r].actionName}),(0,Re.jsx)("button",{className:"ClassPage-add-tag-button",onClick:()=>function(t){void 0!==e.actions[t].tags?n({name:`actions[${t}].tags`,value:e.actions[t].tags.concat({})}):n({name:`actions[${t}].tags`,value:[{}]})}(r),children:"Add Tag"}),(0,Re.jsx)("button",{className:"ClassPage-remove-action-button",onClick:()=>p(r),children:"Remove Action"}),(0,Re.jsx)("br",{}),"Action Level:",(0,Re.jsx)("input",{className:"ClassPage-input-box",style:{width:40},name:`actions[${r}].actionLevel`,onChange:h,required:!0,type:"number",min:1,max:15,placeholder:1,defaultValue:e.actions[r].actionLevel}),"\xa0Action Type:",(0,Re.jsxs)("select",{className:"ClassPage-input-box",name:`actions[${r}].actionType`,onChange:h,required:!0,type:"dropdown",defaultValue:e.actions[r].actionType,children:[(0,Re.jsx)("option",{value:"standard",children:"Standard"}),(0,Re.jsx)("option",{value:"perDay",children:"Per Day"}),(0,Re.jsx)("option",{value:"perShortRest",children:"Per Short Rest"}),(0,Re.jsx)("option",{value:"perCombat",children:"Per Combat"})]}),"standard"!==e.actions[r].actionType&&(0,Re.jsx)("input",{className:"ClassPage-input-box",style:{width:30},name:`actions[${r}].actionTypeCount`,onChange:h,required:!0,type:"number",min:0,placeholder:0,defaultValue:e.actions[r].actionTypeCount}),(0,Re.jsx)("br",{}),s&&void 0!==e.actions[r].tags&&e.actions[r].tags.map(((t,n)=>(0,Re.jsxs)("div",{className:"ClassPage-tag-input-box",style:void 0!==t.tagColor?void 0!==t.textColor?{backgroundColor:t.tagColor,color:t.textColor}:{backgroundColor:t.tagColor}:{color:t.textColor},children:["Tag Information:",(0,Re.jsx)("input",{className:"ClassPage-input-box",name:`actions[${r}].tags[${n}].tagInfo`,onChange:h,required:!0,type:"text",defaultValue:e.actions[r].tags[n].tagInfo}),"\xa0Tag Color",(0,Re.jsx)("input",{className:"ClassPage-input-box",name:`actions[${r}].tags[${n}].tagColor`,onChange:h,required:!0,type:"color",defaultValue:e.actions[r].tags[n].tagColor}),"\xa0Text Color",(0,Re.jsx)("input",{className:"ClassPage-input-box",name:`actions[${r}].tags[${n}].textColor`,onChange:h,required:!0,type:"color",defaultValue:e.actions[r].tags[n].textColor}),"\xa0Tag Description",(0,Re.jsx)("input",{className:"ClassPage-input-box",style:{width:400},name:`actions[${r}].tags[${n}].tagDescription`,onChange:h,required:!0,type:"text",defaultValue:e.actions[r].tags[n].tagDescription}),(0,Re.jsx)("button",{className:"ClassPage-delete-tag-button",onClick:()=>g(r,n),children:"Delete Tag"})]},n))),"Description:",(0,Re.jsx)("textarea",{className:"ClassPage-input-text-area",name:`actions[${r}].description`,onChange:h,required:!0,type:"textarea",defaultValue:e.actions[r].description})]},r)))]}),(0,Re.jsx)("button",{className:"ClassPage-submit-button",type:"submit",onClick:()=>m(),children:u.pathname.split("/").length>2?"Update Class":"Create Class"}),(0,Re.jsx)("br",{}),(0,Re.jsx)("br",{})]})})}function lP(){const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)("all"),a=X(),o=Y();document.title="Class List";return(0,t.useEffect)((()=>{(async()=>{const e=ch(Cd(by,"classes")),t=await Ih(e);n(t.docs.map((e=>({id:e.id,class_name:e.data().class_name,class_type:e.data().class_type,author:e.data().author,description:e.data().description}))))})()}),[o]),(0,Re.jsxs)("div",{className:"ClassListPage",children:[(0,Re.jsx)("div",{className:"ClassListPage-title",children:"Classes:"}),(0,Re.jsx)("button",{onClick:()=>i("all"),className:"ClassListPage-selector-button",disabled:"all"===r,children:"All"}),(0,Re.jsx)("button",{onClick:()=>i("Attrionist"),className:"ClassListPage-selector-button",disabled:"Attrionist"===r,children:"Attrionists"}),(0,Re.jsx)("button",{onClick:()=>i("Crit Hunter"),className:"ClassListPage-selector-button",disabled:"Crit Hunter"===r,children:"Crit Hunters"}),(0,Re.jsx)("button",{onClick:()=>i("Manipulator"),className:"ClassListPage-selector-button",disabled:"Manipulator"===r,children:"Manipulators"}),(0,Re.jsx)("button",{onClick:()=>i("Snowballer"),className:"ClassListPage-selector-button",disabled:"Snowballer"===r,children:"Snowballers"}),(0,Re.jsx)("br",{}),e.filter((e=>"all"===r||r===e.class_type)).map(((e,t)=>(0,Re.jsxs)("button",{className:"ClassListPage-class-card",onClick:()=>function(e){a("/classes/"+e.id)}(e),children:["Class: ",e.class_name,(0,Re.jsx)("br",{}),(0,Re.jsxs)("div",{className:"ClassListPage-class-card-small-text",children:["By ",e.author,(0,Re.jsx)("br",{}),"Class Type: ",e.class_type,(0,Re.jsx)("br",{}),(0,Re.jsx)("div",{className:"ClassListPage-class-card-description",children:e.description})]})]},t))),(0,Re.jsx)("br",{}),(0,Re.jsx)("button",{className:"ClassListPage-class-card",onClick:()=>a("/classes"),children:"Create New Class"})]})}const cP=function(){const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(null);(0,t.useEffect)((()=>{fetch("/JnJ-Online/allFileNames.txt").then((e=>e.text())).then((e=>{var t=e.split(/\r?\n/);t.pop(),n(t)})).catch((e=>console.log(e)));const e=_y.onAuthStateChanged((e=>i(e)));return()=>e()}),[]);const a=e.map(((e,t)=>(0,Re.jsx)(me,{path:"blog/"+e,element:(0,Re.jsx)(Xb,{post:e})},t)));return(0,Re.jsx)(xe,{basename:"JnJ-Online",children:(0,Re.jsxs)("div",{className:"App",children:[(0,Re.jsx)("div",{className:"App-header",children:(0,Re.jsx)(Sy,{userInfo:r,setUserInfo:i})}),(0,Re.jsx)("div",{className:"App-body",children:(0,Re.jsxs)(ve,{children:[(0,Re.jsx)(me,{path:"*",element:(0,Re.jsx)(Zb,{})}),(0,Re.jsx)(me,{path:"/",element:(0,Re.jsx)(ge,{to:"/home"})}),(0,Re.jsx)(me,{path:"blog",element:(0,Re.jsx)(Le,{markdowns:e})}),(0,Re.jsx)(me,{path:"/home",element:(0,Re.jsx)(Oe,{})}),(0,Re.jsx)(me,{path:"/characters/*",element:(0,Re.jsx)(jC,{})}),(0,Re.jsx)(me,{path:"/campaigns/*",element:(0,Re.jsx)($C,{})}),(0,Re.jsx)(me,{path:"/account/*",element:(0,Re.jsx)(zC,{userInfo:r,setUserInfo:i})}),(0,Re.jsx)(me,{path:"/directors/*",element:(0,Re.jsx)(rP,{})}),(0,Re.jsx)(me,{path:"/classes/*",element:(0,Re.jsx)(sP,{})}),(0,Re.jsx)(me,{path:"/class-list",element:(0,Re.jsx)(lP,{})}),a]})})]})})},uP=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:a,getTTFB:o}=t;n(e),r(e),i(e),a(e),o(e)}))};i.createRoot(document.getElementById("root")).render((0,Re.jsx)(t.StrictMode,{children:(0,Re.jsx)(cP,{})})),uP()})()})();
//# sourceMappingURL=main.3920195d.js.map